<div class="sticky-top">
    <div class="float-right">
        <a href="javascript:;"
           class="btn btn-primary"
           data-controller="copy-element"
           data-target-element="#modal-bloodbath-list-content"
           data-tippy-content="Copier les données ci-contre vers votre presse-papier">
            <i class="fa-solid fa-copy"></i>
        </a>
    </div>
</div>
<div>
    <small>
        <i class="fa-solid fa-circle-exclamation"></i>
        <span>La liste affichée ci-dessous est contextualisée en fonction des filtres appliqués.</span>
    </small>
</div>

<div id="modal-bloodbath-list-content" class="mt-3">
    {% for marker in markers %}
        {% set totalDeath = marker.death.getTotalDeathCount() %}
        {% set deathLabel = (marker.death.section ? (marker.death.section|acronymise) ~ ', ' : '') ~ marker.death.location ~ app.getCountyByCode(marker.death.county, { wrappedCounty: true }) %}
        {% set deathLabel = deathLabel ~ (totalDeath > 1 ? ' (<strong style="color: red">' ~ totalDeath ~ ' décès</strong>)': '') %}
        <p>
            <strong>{{ marker.death.day }}/{{ marker.death.month }}/{{ marker.death.year }} -
                [{{ app.getFilterValueLabel('cause', marker.death.cause) }}] {{ app.getFilterValueLabel('house', marker.death.house) }}:</strong>
            <span>{{ marker.death.getMarkerLink(deathLabel) }}</span>
        </p>
    {% endfor %}
</div>
