/*! For license information please see bundle.js.LICENSE */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function r(e){return e&&"[object Function]"==={}.toString.call(e)}function s(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function a(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=s(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?e:c(a(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?u:10===e?h:u||h}function p(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===s(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function f(e){return null!==e.parentNode?f(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,o=n?t:e,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var s,a,c=r.commonAncestorContainer;if(e!==c&&t!==c||i.contains(o))return"BODY"===(a=(s=c).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(c):c;var l=f(e);return l.host?m(l.host,t):m(e,f(t).host)}function g(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function y(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,i=d(10)&&getComputedStyle(n);return{height:y("Height",t,n,i),width:y("Width",t,n,i)}}var _=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function S(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function T(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=g(e,"top"),i=g(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?b(e.ownerDocument):{},a=r.width||e.clientWidth||o.width,c=r.height||e.clientHeight||o.height,l=e.offsetWidth-a,u=e.offsetHeight-c;if(l||u){var h=s(e);l-=v(h,"x"),u-=v(h,"y"),o.width-=l,o.height-=u}return S(o)}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(10),o="HTML"===t.nodeName,r=T(e),a=T(t),l=c(e),u=s(t),h=parseFloat(u.borderTopWidth,10),p=parseFloat(u.borderLeftWidth,10);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=S({top:r.top-a.top-h,left:r.left-a.left-p,width:r.width,height:r.height});if(f.marginTop=0,f.marginLeft=0,!i&&o){var m=parseFloat(u.marginTop,10),v=parseFloat(u.marginLeft,10);f.top-=h-m,f.bottom-=h-m,f.left-=p-v,f.right-=p-v,f.marginTop=m,f.marginLeft=v}return(i&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=g(t,"top"),o=g(t,"left"),r=n?-1:1;return e.top+=i*r,e.bottom+=i*r,e.left+=o*r,e.right+=o*r,e}(f,t)),f}function x(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===s(t,"transform");)t=t.parentElement;return t||document.documentElement}function O(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},u=o?x(e):m(e,l(t));if("viewport"===i)r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=I(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:g(n),a=t?0:g(n,"left");return S({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:o,height:r})}(u,o);else{var h=void 0;"scrollParent"===i?"BODY"===(h=c(a(t))).nodeName&&(h=e.ownerDocument.documentElement):h="window"===i?e.ownerDocument.documentElement:i;var d=I(h,u,o);if("HTML"!==h.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===s(t,"position"))return!0;var i=a(t);return!!i&&e(i)}(u))r=d;else{var p=b(e.ownerDocument),f=p.height,v=p.width;r.top+=d.top-d.marginTop,r.bottom=f+d.top,r.left+=d.left-d.marginLeft,r.right=v+d.left}}var y="number"==typeof(n=n||0);return r.left+=y?n:n.left||0,r.top+=y?n:n.top||0,r.right-=y?n:n.right||0,r.bottom-=y?n:n.bottom||0,r}function L(e,t,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=O(n,i,r,o),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},c=Object.keys(a).map(function(e){return C({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),l=c.filter(function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight}),u=l.length>0?l[0].key:c[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function k(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return I(n,i?x(t):m(t,l(n)),i)}function M(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function A(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function P(e,t,n){n=n.split("-")[0];var i=M(e),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),s=r?"top":"left",a=r?"left":"top",c=r?"height":"width",l=r?"width":"height";return o[s]=t[s]+t[c]/2-i[c]/2,o[a]=n===a?t[a]-i[l]:t[A(a)],o}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=D(e,function(e){return e[t]===n});return e.indexOf(i)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&r(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))}),t}function F(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=k(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=L(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function N(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function B(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var o=t[i],r=o?""+o+n:e;if(void 0!==document.body.style[r])return r}return null}function H(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function R(e){var t=e.ownerDocument;return t?t.defaultView:window}function z(e,t,n,i){n.updateBound=i,R(e).addEventListener("resize",n.updateBound,{passive:!0});var o=c(e);return function e(t,n,i,o){var r="BODY"===t.nodeName,s=r?t.ownerDocument.defaultView:t;s.addEventListener(n,i,{passive:!0}),r||e(c(s.parentNode),n,i,o),o.push(s)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function V(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}function U(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,R(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function q(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function W(e,t){Object.keys(t).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(t[n])&&(i="px"),e.style[n]=t[n]+i})}var G=n&&/Firefox/i.test(navigator.userAgent);function K(e,t,n){var i=D(e,function(e){return e.name===t}),o=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!o){var r="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var X=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=X.slice(3);function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z.indexOf(e),i=Z.slice(n+1).concat(Z.slice(0,n));return t?i.reverse():i}var $={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(e,t,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=s.indexOf(D(s,function(e){return-1!==e.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(c)[0]]),[s[a].split(c)[1]].concat(s.slice(a+1))]:[s];return(l=l.map(function(e,i){var o=(1===i?!r:r)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,i){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],s=o[2];if(!r)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return S(a)[t]/100*r}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}(e,o,t,n)})})).forEach(function(e,t){e.forEach(function(n,i){q(n)&&(o[t]+=n*("-"===e[i-1]?-1:1))})}),o}var Q={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var o=e.offsets,r=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",l=a?"width":"height",u={start:E({},c,r[c]),end:E({},c,r[c]+r[l]-s[l])};e.offsets.popper=C({},s,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,o=e.offsets,r=o.popper,s=o.reference,a=i.split("-")[0],c=void 0;return c=q(+n)?[+n,0]:J(n,r,s,a),"left"===a?(r.top+=c[0],r.left-=c[1]):"right"===a?(r.top+=c[0],r.left+=c[1]):"top"===a?(r.left+=c[0],r.top-=c[1]):"bottom"===a&&(r.left+=c[0],r.top+=c[1]),e.popper=r,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var i=B("transform"),o=e.instance.popper.style,r=o.top,s=o.left,a=o[i];o.top="",o.left="",o[i]="";var c=O(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=r,o.left=s,o[i]=a,t.boundaries=c;var l=t.priority,u=e.offsets.popper,h={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(i=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),E({},n,i)}};return l.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=C({},u,h[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,o=e.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",c=s?"left":"top",l=s?"width":"height";return n[a]<r(i[c])&&(e.offsets.popper[c]=r(i[c])-n[l]),n[c]>r(i[a])&&(e.offsets.popper[c]=r(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!K(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],r=e.offsets,a=r.popper,c=r.reference,l=-1!==["left","right"].indexOf(o),u=l?"height":"width",h=l?"Top":"Left",d=h.toLowerCase(),p=l?"left":"top",f=l?"bottom":"right",m=M(i)[u];c[f]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(c[f]-m)),c[d]+m>a[f]&&(e.offsets.popper[d]+=c[d]+m-a[f]),e.offsets.popper=S(e.offsets.popper);var g=c[d]+c[u]/2-m/2,v=s(e.instance.popper),y=parseFloat(v["margin"+h],10),b=parseFloat(v["border"+h+"Width"],10),_=g-e.offsets.popper[d]-y-b;return _=Math.max(Math.min(a[u]-m,_),0),e.arrowElement=i,e.offsets.arrow=(E(n={},d,Math.round(_)),E(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=O(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],o=A(i),r=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case $.FLIP:s=[i,o];break;case $.CLOCKWISE:s=Y(i);break;case $.COUNTERCLOCKWISE:s=Y(i,!0);break;default:s=t.behavior}return s.forEach(function(a,c){if(i!==a||s.length===c+1)return e;i=e.placement.split("-")[0],o=A(i);var l=e.offsets.popper,u=e.offsets.reference,h=Math.floor,d="left"===i&&h(l.right)>h(u.left)||"right"===i&&h(l.left)<h(u.right)||"top"===i&&h(l.bottom)>h(u.top)||"bottom"===i&&h(l.top)<h(u.bottom),p=h(l.left)<h(n.left),f=h(l.right)>h(n.right),m=h(l.top)<h(n.top),g=h(l.bottom)>h(n.bottom),v="left"===i&&p||"right"===i&&f||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===r&&p||y&&"end"===r&&f||!y&&"start"===r&&m||!y&&"end"===r&&g),_=!!t.flipVariationsByContent&&(y&&"start"===r&&f||y&&"end"===r&&p||!y&&"start"===r&&g||!y&&"end"===r&&m),w=b||_;(d||v||w)&&(e.flipped=!0,(d||v)&&(i=s[c+1]),w&&(r=function(e){return"end"===e?"start":"start"===e?"end":e}(r)),e.placement=i+(r?"-"+r:""),e.offsets.popper=C({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,o=i.popper,r=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return o[s?"left":"top"]=r[n]-(a?o[s?"width":"height"]:0),e.placement=A(t),e.offsets.popper=S(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!K(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=D(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,o=e.offsets.popper,r=D(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:t.gpuAcceleration,a=p(e.instance.popper),c=T(a),l={position:o.position},u=function(e,t){var n=e.offsets,i=n.popper,o=n.reference,r=Math.round,s=Math.floor,a=function(e){return e},c=r(o.width),l=r(i.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?u||h||c%2==l%2?r:s:a,p=t?r:a;return{left:d(c%2==1&&l%2==1&&!h&&t?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:d(i.right)}}(e,window.devicePixelRatio<2||!G),h="bottom"===n?"top":"bottom",d="right"===i?"left":"right",f=B("transform"),m=void 0,g=void 0;if(g="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-c.height+u.bottom:u.top,m="right"===d?"HTML"===a.nodeName?-a.clientWidth+u.right:-c.width+u.right:u.left,s&&f)l[f]="translate3d("+m+"px, "+g+"px, 0)",l[h]=0,l[d]=0,l.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===d?-1:1;l[h]=g*v,l[d]=m*y,l.willChange=h+", "+d}var b={"x-placement":e.placement};return e.attributes=C({},b,e.attributes),e.styles=C({},l,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return W(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&W(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,o){var r=k(o,t,e,n.positionFixed),s=L(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),W(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ee=function(){function e(t,n){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=o(this.update.bind(this)),this.options=C({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,s.modifiers)).forEach(function(t){i.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},s.modifiers?s.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return C({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&r(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return w(e,[{key:"update",value:function(){return F.call(this)}},{key:"destroy",value:function(){return H.call(this)}},{key:"enableEventListeners",value:function(){return V.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();ee.Utils=("undefined"!=typeof window?window:e).PopperUtils,ee.placements=X,ee.Defaults=Q,t.a=ee}).call(this,n(0))},function(e,t,n){var i,o,r,s,a,c,l,u,h,d,p,f,m;e.exports=(i="undefined"!=typeof window?window:self,o=n(8),r=n(11),s={},a="json",c="post",l=null,u=0,h=[],d=i.XMLHttpRequest?function(){return new i.XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},p=""===d().responseType,f=function(e){var t=[],n=0,f=[];return o(function(m){var g=-1,v=function(e){return function(v,y,b,_){var w=++g;return++n,t.push(function(e,t,n,f,m){for(var g in e=e.toUpperCase(),n=void 0===n?null:n,f=f||{},s)if(!(g in f))if("object"==typeof s[g]&&"object"==typeof f[g])for(var v in s[g])f[g][v]=s[g][v];else f[g]=s[g];var y,b,_,w,E,C=!1,S=!1,T=!1,I=0,x={},O={text:"*/*",xml:"text/xml",json:"application/json",post:"application/x-www-form-urlencoded",document:"text/html"},L={text:"*/*",xml:"application/xml; q=1.0, text/xml; q=0.8, */*; q=0.1",json:"application/json; q=1.0, text/*; q=0.8, */*; q=0.1"},k=!1,M=o(function(o){return o.abort=function(){T||(b&&4!=b.readyState&&b.abort(),k&&(--u,k=!1),T=!0)},o.send=function(){if(!k)if(u!=l)if(T)h.length&&h.shift().send();else{if(++u,k=!0,b=d(),y&&("withCredentials"in b||!i.XDomainRequest||(b=new XDomainRequest,S=!0,"GET"!=e&&"POST"!=e&&(e="POST"))),S?b.open(e,t):(b.open(e,t,f.async,f.user,f.password),p&&f.async&&(b.withCredentials=f.withCredentials)),!S)for(var r in x)x[r]&&b.setRequestHeader(r,x[r]);if(p&&"auto"!=f.responseType)try{b.responseType=f.responseType,C=b.responseType==f.responseType}catch(e){}p||S?(b.onload=A,b.onerror=P,S&&(b.onprogress=function(){})):b.onreadystatechange=function(){4==b.readyState&&A()},f.async?"timeout"in b?(b.timeout=f.timeout,b.ontimeout=D):_=setTimeout(D,f.timeout):S&&(b.ontimeout=function(){}),"auto"!=f.responseType&&"overrideMimeType"in b&&b.overrideMimeType(O[f.responseType]),m&&m(b),S?setTimeout(function(){b.send("GET"!=e?n:null)},0):b.send("GET"!=e?n:null)}else h.push(o)},o}),A=function(){var e;if(k=!1,clearTimeout(_),h.length&&h.shift().send(),!T){--u;try{if(C){if("response"in b&&null===b.response)throw"The request response is empty";E=b.response}else{if("auto"==(e=f.responseType))if(S)e=a;else{var t=b.getResponseHeader("Content-Type")||"";e=t.indexOf(O.json)>-1?"json":t.indexOf(O.xml)>-1?"xml":"text"}switch(e){case"json":if(b.responseText.length)try{E="JSON"in i?JSON.parse(b.responseText):new Function("return ("+b.responseText+")")()}catch(e){throw"Error while parsing JSON body : "+e}break;case"xml":try{i.DOMParser?E=(new DOMParser).parseFromString(b.responseText,"text/xml"):((E=new ActiveXObject("Microsoft.XMLDOM")).async="false",E.loadXML(b.responseText))}catch(e){E=void 0}if(!E||!E.documentElement||E.getElementsByTagName("parsererror").length)throw"Invalid XML";break;default:E=b.responseText}}if("status"in b&&!/^2|1223/.test(b.status))throw b.status+" ("+b.statusText+")";M(!0,[b,E])}catch(e){M(!1,[e,b,E])}}},P=function(e){T||(e="string"==typeof e?e:"Connection aborted",M.abort(),M(!1,[new Error(e),b,null]))},D=function(){T||(f.attempts&&++I==f.attempts?P("Timeout ("+t+")"):(b.abort(),k=!1,M.send()))};if(f.async=!("async"in f&&!f.async),f.cache="cache"in f&&!!f.cache,f.dataType="dataType"in f?f.dataType.toLowerCase():c,f.responseType="responseType"in f?f.responseType.toLowerCase():"auto",f.user=f.user||"",f.password=f.password||"",f.withCredentials=!!f.withCredentials,f.timeout="timeout"in f?parseInt(f.timeout,10):3e4,f.attempts="attempts"in f?parseInt(f.attempts,10):1,w=t.match(/\/\/(.+?)\//),y=w&&!!w[1]&&w[1]!=location.host,"ArrayBuffer"in i&&n instanceof ArrayBuffer?f.dataType="arraybuffer":"Blob"in i&&n instanceof Blob?f.dataType="blob":"Document"in i&&n instanceof Document?f.dataType="document":"FormData"in i&&n instanceof FormData&&(f.dataType="formdata"),null!==n)switch(f.dataType){case"json":n=JSON.stringify(n);break;case"post":case"queryString":n=r(n)}if(f.headers){var j=function(e,t,n){return t+n.toUpperCase()};for(w in f.headers)x[w.replace(/(^|-)([^-])/g,j)]=f.headers[w]}return"Content-Type"in x||"GET"==e||f.dataType in O&&O[f.dataType]&&(x["Content-Type"]=O[f.dataType]),x.Accept||(x.Accept=f.responseType in L?L[f.responseType]:"*/*"),y||"X-Requested-With"in x||(x["X-Requested-With"]="XMLHttpRequest"),f.cache||"Cache-Control"in x||(x["Cache-Control"]="no-cache"),"GET"!=e&&"queryString"!=f.dataType||!n||"string"!=typeof n||(t+=(/\?/.test(t)?"&":"?")+n),f.async&&M.send(),M}(e,m.base+v,y,b,_).then(function(e,t){f[w]=arguments,--n||m(!0,1==f.length?f[0]:[f])},function(){m(!1,arguments)})),m}};for(var y in m.get=v("GET"),m.post=v("POST"),m.put=v("PUT"),m.delete=v("DELETE"),m.catch=function(e){return m.then(null,e)},m.complete=function(e){var t=function(){e()};return m.then(t,t)},m.map=function(e,t,n,i,o){return v(e.toUpperCase()).call(this,t,n,i,o)},e)y in m||(m[y]=e[y]);return m.send=function(){for(var e=0,n=t.length;e<n;++e)t[e].send();return m},m.abort=function(){for(var e=0,n=t.length;e<n;++e)t[e].abort();return m},m})},m={base:"",get:function(){return f(m).get.apply(this,arguments)},post:function(){return f(m).post.apply(this,arguments)},put:function(){return f(m).put.apply(this,arguments)},delete:function(){return f(m).delete.apply(this,arguments)},map:function(){return f(m).map.apply(this,arguments)},xhr2:p,limit:function(e){return l=e,m},setDefaultOptions:function(e){return s=e,m},setDefaultXdrResponseType:function(e){return a=e.toLowerCase(),m},setDefaultDataType:function(e){return c=e.toLowerCase(),m},getOpenRequests:function(){return u}})},function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5);document.addEventListener("DOMContentLoaded",function(){(new i.App).boot()})},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=n(7),s=n(2),a=n(20),c=n(12),l=n(13),u=n(14),h=n(15),d=n(16),p=n(17),f=n(18),m=n(19),g=function(){function e(){this._customChoicesInstances={},this._currentInfoWindows=null,this._eventHandlers={},this._heatMap=null,this._imgHousePath="./assets/images/corps/%house%.png",this._infoWindows=[],this._markerCluster=null,this._markers=[],this._configObject=null,this.heatmapEnabled=!0,this.clusteringEnabled=!0,this.glossary={},this.filters={}}return e.prototype.boot=function(){var e=this;this._configObject=new h.Config(function(){return e.run()}),this.loadGlossary(),c.default.init({awaitCloseAnimation:!1,awaitOpenAnimation:!1,closeTrigger:"data-micromodal-close",debugMode:!0,disableFocus:!1,disableScroll:!0,onClose:function(e){return console.info(e.id+" is hidden")},onShow:function(e){return console.info(e.id+" is shown")},openTrigger:"data-micromodal-open"})},e.prototype.run=function(){var e=this;r({key:this._configObject.config.googleMaps.key,libraries:this._configObject.config.googleMaps.libraries}).then(function(){var t,n=document.getElementById("form-filters"),i=document.getElementById("map"),o={center:new google.maps.LatLng(e._configObject.config.defaultLat,e._configObject.config.defaultLon),mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.HYBRID,maxZoom:e._configObject.config.maxZoom,streetViewControl:!1,zoom:e._configObject.config.defaultZoom},r=new google.maps.Map(i,o),a=l.default({timeToIdle:12e4});s.get("./data/config/filters.json").then(function(t,o){e.filters=o.filters,e.setupSkeleton(n,e.getFilters(n,!0)),e.bindAnchorEvents(r,i,n),e.bindFilters(r,i,n),e.bindCustomButtons(r),e.bindMarkers(i.dataset.bloodbathSrc,r,e.getFilters(n,!0))}),a.on("idle",function(){console.log("User is now idle..."),t=setInterval(function(){e.bindMarkers(i.dataset.bloodbathSrc,r,e.getFilters(n,!1)),console.log("Reloading map...")},3e5)}),a.on("active",function(){console.log("User is now active..."),clearInterval(t)})})},e.prototype.loadGlossary=function(){var e=this;s.get("./data/config/glossary.json").then(function(t,n){e.glossary=n.glossary})},e.prototype.bindCustomButtons=function(e){this.bindLocalizationButton(e),this.bindRandomizationButton(e),this.bindRefreshButton(e),this.bindHeatmapButton(e),this.bindClusteringButton(e),this.bindListButton(e)},e.prototype.getConfigDefinitions=function(){return this._configObject.definitions},e.prototype.getFilteredResponse=function(e,t){for(var n=e,i=0,o=Object.entries(t);i<o.length;i++){var r=o[i],s=r[0],a=r[1];if(t.hasOwnProperty(s)){for(var c=s,l=m.StringUtilsHelper.normalizeString(a),u=[],h=0,d=m.StringUtilsHelper.normalizeString(a).split(" ").map(function(e){return e.trim()});h<d.length;h++){var p=d[h];p.length>=this._configObject.config.searchMinLength&&u.push(p)}if(a)for(var f=n.deaths.length;f--;)if("search"===c&&a.length>=this._configObject.config.searchMinLength){if(!(m.StringUtilsHelper.containsString(n.deaths[f].text,l)||m.StringUtilsHelper.containsString(n.deaths[f].section,l)||m.StringUtilsHelper.containsString(n.deaths[f].location,l)||m.StringUtilsHelper.arrayContainsString(n.deaths[f].keywords,u))){if(n.deaths[f].peers.length){for(var g=!1,v=0,y=n.deaths[f].peers;v<y.length;v++){var b=y[v];if(m.StringUtilsHelper.containsString(b.section,l)){g=!0;break}}if(g)continue}n.deaths.splice(f,1)}}else if(!n.deaths[f].published||!a.split(",").includes(n.deaths[f][c]&&n.deaths[f][c])){if(n.deaths[f].peers.length){g=!1;for(var _=0,w=n.deaths[f].peers;_<w.length;_++){b=w[_];if("house"===c&&a.split(",").includes(b.house)){g=!0;break}}if(g)continue}n.deaths.splice(f,1)}}}return n},e.prototype.getFilters=function(e,t){var n=location.hash.substr(1).split("&"),i={},o={},r=e.querySelectorAll('select[data-filterable="true"], input[data-filterable="true"]');return n.forEach(function(e){var t=e.split("=");2===t.length&&(i[t[0]]=t[1])}),r.forEach(function(e){t&&(o[e.id]=i[e.id]?i[e.id]:"",!e.required||o[e.id])||(e.selectedOptions?o[e.id]=Array.from(e.selectedOptions).filter(function(e){return e.selected}).map(function(e){return e.value}).join(","):o[e.id]=e.value)}),o},e.prototype.alterFiltersLabels=function(e){document.querySelectorAll("form select").forEach(function(t){var n=t.querySelectorAll("option");"true"===t.dataset.countable&&n.forEach(function(n){if(""!==n.value){for(var i in n.dataset.deathCount="0",e.deaths){var o=e.deaths[i];n.value===o[t.name]&&o.published&&(n.dataset.deathCount=""+(+n.dataset.deathCount+o.count))}n.innerText=n.innerText.replace(/\([\d]+\)/,"")+" ("+n.dataset.deathCount+")"}})})},e.prototype.bindAnchorEvents=function(e,t,n){var i=this;window.addEventListener("hashchange",function(){i.bindFilters(e,t,n,!0),i.bindMarkers(t.dataset.bloodbathSrc,e,i.getFilters(n,!0))},!1)},e.prototype.bindFilters=function(e,t,n,i){var o=this,r=n.querySelectorAll("form select, form input"),s=this.getFilters(n,i);d.Events.addEventHandler(n,"submit",function(e){e.preventDefault()}),r.forEach(function(i){i.multiple||(i.value=void 0!==s[i.name]?s[i.name]:""),"function"==typeof o._eventHandlers[i.id]&&d.Events.removeEventHandler(i,"change",o._eventHandlers[i.id]),o._eventHandlers[i.id]=function(){var i=o.getFilters(n,!1);return o.bindMarkers(t.dataset.bloodbathSrc,e,i),!1},d.Events.addEventHandler(i,"change",o._eventHandlers[i.id])}),this.drawCustomSelectors(r,s)},e.prototype.drawCustomSelectors=function(e,t){var n=this,i=u;e.forEach(function(e){"text"!==e.type&&(n._customChoicesInstances[e.id]||(n._customChoicesInstances[e.id]=new i(e,{duplicateItemsAllowed:!1,itemSelectText:"",removeItemButton:e.multiple,removeItems:!0,resetScrollPosition:!1,searchEnabled:!1,shouldSort:!1})),console.log(t[e.id].split(",")),n._customChoicesInstances[e.id].removeActiveItems(null),n._customChoicesInstances[e.id].setChoiceByValue(t[e.id].split(",")))})},e.prototype.clearMarkerCluster=function(){return this._markerCluster&&this._markerCluster.clearMarkers(),this},e.prototype.reloadMarkers=function(e,t){var n=document.getElementById("form-filters"),i=document.getElementById("map");this.bindMarkers(i.dataset.bloodbathSrc,e,this.getFilters(n,t))},e.prototype.bindMarkers=function(e,t,n){var r=this;s.get(e.replace("%year%",n.year)+"?_="+(new Date).getTime()).then(function(e,s){var c=new google.maps.LatLngBounds,l=[],u=[],h=[],d=document.getElementById("modal-bloodbath-list-content"),p=document.getElementById("modal-bloodbath-death-counter"),g=document.getElementById("modal-bloodbath-year"),v="<ul>",y=s;if(y=r.getFilteredResponse(y,n),r.clearMapObjects(),y.deaths&&y.deaths.length){var b=function(e){for(var n=y.deaths[e],i="",o=0,s=0,c=n.peers;s<c.length;s++){var d=c[s],p=r._imgHousePath.replace("%house%",d.count>1?d.house+"-m":d.house),f=r.getFilterValueLabel("house",d.house);i+='<h5>\n              <img height="16" src="'+p+'" alt="House: '+d.house+'"  title="House: '+d.house+'" />\n              '+(d.section?""+m.StringUtilsHelper.replaceAcronyms(d.section,r.glossary):"")+"\n               - <strong"+(d.count>1?' style="color: red;"':"")+">"+d.count+" décès</strong>\n              "+(f!==d.section?" - "+m.StringUtilsHelper.replaceAcronyms(f,r.glossary):"")+"\n            </h5>",o+=d.count}var g=n.count+o,b=r._imgHousePath.replace("%house%",g>1?n.house+"-m":n.house),_=new google.maps.Marker({map:t,animation:google.maps.Animation.DROP,icon:new google.maps.MarkerImage(b),position:new google.maps.LatLng(n.gps.lat,n.gps.lon),title:n.text}),w=r.getFilterValueLabel("house",n.house),E=r.getFilterValueLabel("cause",n.cause),C='<h4>\n              <img height="16" src="'+b+'" alt="House: '+n.house+'"  title="House: '+n.house+'" />\n              '+(n.section?""+m.StringUtilsHelper.replaceAcronyms(n.section,r.glossary):"")+"\n              "+(n.count>1?' - <strong style="color: red;">'+n.count+" décès</strong>":"")+"\n              "+(w!==n.section?" - "+m.StringUtilsHelper.replaceAcronyms(w,r.glossary):"")+"\n            </h4>\n            "+i+"\n            <br />\n            <span>\n              <strong>Emplacement</strong>: "+n.location+" "+(n.gps.accurate?"":'<strong style="color: orangered;"><abbr data-tippy-content="Indique que l\'emplacement du décès est inconnu ou approximatif">(Position approximative)</abbr></strong>')+'\n              <a href="http://maps.google.com/?ll='+n.gps.lat+","+n.gps.lon+"&q="+n.location+'" target="_blank">\n               <span class="glyphicon  glyphicon-map-marker" aria-hidden="true"></span>\n              </a>\n              <br /><br />\n              <strong>Date</strong>: '+n.day+"/"+n.month+"/"+n.year+"\n              <br /><br />\n              <strong>Cause</strong>: "+E+"\n              <br /><br />\n              <strong>Circonstances</strong>:  "+m.StringUtilsHelper.replaceAcronyms(n.text.replace(new RegExp("\n","g"),"<br />"),r.glossary)+"\n            </span>",S=1===n.sources.length&&"__CONFIDENTIAL__"===n.sources[0].titre&&!n.sources[0].url;if(n.sources&&n.sources.length){var T="";if(S)T='<span aria-hidden="true" class="glyphicon glyphicon-alert" style="color: orangered;" ></span>&nbsp;<strong data-tippy-content="La source étant anonyme, ce décès peut ne pas être fiable à 100%.">Source anonyme</strong>';else for(var I in n.sources){var x=n.sources[I],O=x.paywall?'<span aria-hidden="true" class="glyphicon glyphicon-lock" data-tippy-content="Article réservé aux abonnés"></span>':"";x.url?T+=(T?", ":"")+'<a href="'+x.url+'" target="_blank">'+m.StringUtilsHelper.replaceAcronyms(x.titre,r.glossary)+"</a> "+O:T+=(T?", ":"")+"<strong>"+m.StringUtilsHelper.replaceAcronyms(x.titre,r.glossary)+"</strong> "+O+" "}C+='<br /><br /><div class="death-sources">'+(S?"":"<strong>Sources: </strong>")+T+"</div>"}var L="Erreur trouvée - "+n.section+" + -  "+n.day+"/"+n.month+"/"+n.year;C+='<br /><small class="report-error"><a href="mailto:'+r._configObject.config.contactEmail+"?subject="+L+'">[Une erreur ?]</a></small>';var k=new google.maps.InfoWindow({content:'<div class="death-container'+(g>1?" multiple-deaths":"")+(S?" confidential-death":"")+'">'+C+"</div>",position:_.getPosition()});google.maps.event.addListener(k,"domready",function(){a.default("[data-tippy-content]")}),google.maps.event.addListener(_,"click",function(){r._currentInfoWindows&&r._currentInfoWindows.close(),k.open(t,_),r._currentInfoWindows=k}),r._infoWindows.push(k),"interieur"===n.origin?h.push(_):l.push(_),u.push({location:new google.maps.LatLng(n.gps.lat,n.gps.lon),weight:10*(g>1?g>5?20:5:1)}),v+="<li>\n    <strong>"+n.day+"/"+n.month+"/"+n.year+" ["+E+"] - "+w+":</strong>\n    <span>"+n.section+", "+n.location+" "+(g>1?'(<strong style="color: red">'+g+" décès</strong>)":"")+"</span>\n</li>",r._markers.push(_)};for(var _ in y.deaths)b(_);v+="</ul>",v+='<small><span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> La liste affichée ci-dessus est contextualisée en fonction des filtres appliqués.</small>',d.innerHTML=m.StringUtilsHelper.replaceAcronyms(v,r.glossary),p.innerHTML=r._markers.length+" décès",g.innerHTML=n.year,1===r._markers.length&&1===r._infoWindows.length&&r._infoWindows[0].open(t,r._markers[0]),r.clusteringEnabled&&(r._markerCluster=new o(t,r._markers,{gridSize:60,imagePath:"./assets/images/clustering/m",maxZoom:14}));var w=h.length?h:l;for(var _ in w)w.hasOwnProperty(_)&&c.extend(w[_].getPosition());u.length&&r.heatmapEnabled&&(r._heatMap=new google.maps.visualization.HeatmapLayer(i({data:u},r._configObject.config.heatmapOptions)),r._heatMap.setMap(t)),f.Permalink.build(n),r.printDefinitionsText(s,n),t.fitBounds(c)}else r.printDefinitionsText(null)})},e.prototype.setupSkeleton=function(e,t){for(var n=document.querySelector("#search"),i=this._configObject.config.searchMinLength,o=0,r=Object.entries(this.filters);o<r.length;o++)for(var s=r[o],a=s[0],c=0,l=s[1];c<l.length;c++){var u=l[c],h=e.querySelector('select[name="'+a+'"]'),d=document.createElement("option");d.value=u.value,d.text=u.label,d.selected=t[a].split(",").includes(u.value),h.appendChild(d)}n.setAttribute("minlength",i),n.setAttribute("placeholder",n.getAttribute("placeholder").replace("%d",i))},e.prototype.clearMapObjects=function(){this.clearMarkers().clearInfoWindows().clearHeatMap().clearMarkerCluster()},e.prototype.clearMarkers=function(){for(var e=0;e<this._markers.length;e++)this._markers[e].setMap(null);return this._markers=[],this},e.prototype.clearInfoWindows=function(){for(var e=0;e<this._infoWindows.length;e++)google.maps.event.clearInstanceListeners(this._infoWindows[e]),this._infoWindows[e].close();return this._infoWindows=[],this},e.prototype.clearHeatMap=function(){return this._heatMap&&this._heatMap.setMap(null),this},e.prototype.bindLocalizationButton=function(e){var t=this,n={ctrlChildId:"localizationImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgSize:"180px 18px",imagePath:this._configObject.config.imagePath.localize,title:"Voir autour de moi"};p.GmapUtils.bindButton(e,function(){var n=new google.maps.LatLngBounds,i=new google.maps.Marker({map:e,animation:google.maps.Animation.BOUNCE,icon:new google.maps.MarkerImage(t._configObject.config.imagePath.bluedot),position:{lat:31.4181,lng:73.0776}}),o="0",r=setInterval(function(){var e=document.querySelector("#localizationImg");o=-18==+o?"0":"-18",e.style.backgroundPosition=o+"px 0px"},500);confirm("La demande de localisation ne servira qu'à positionner la carte autour de vous, aucune donnée ne sera envoyée ni même conservée nulle part.")&&navigator.geolocation?navigator.geolocation.getCurrentPosition(function(o){var s=new google.maps.LatLng(o.coords.latitude,o.coords.longitude);i.setPosition(s),e.setCenter(s),n.extend(s);var a=new google.maps.InfoWindow({content:'<div class="info-window-container">Ma position approximative</div>'});a.setPosition(s),google.maps.event.addListener(i,"click",function(){t._currentInfoWindows&&t._currentInfoWindows.close(),a.open(e,i),t._currentInfoWindows=a}),a.open(e,i);for(var c=null,l=null,u=0,h=t._markers;u<h.length;u++){var d=h[u],p=d.getPosition();if(p&&s){var f=google.maps.geometry.spherical.computeDistanceBetween(p,s);(null===c&&null===l||c&&l&&f<=l)&&(c=d,l=f)}}google.maps.event.trigger(c,"click"),n.extend(c.getPosition()),e.fitBounds(n),document.querySelector("#localizationImg").style.backgroundPosition="-144px 0px",clearInterval(r)}):(clearInterval(r),document.querySelector("#localizationImg").style.backgroundPosition="0px 0px")},n),google.maps.event.addListener(e,"dragend",function(){document.querySelector("#localizationImg").style.backgroundPosition="0px 0px"})},e.prototype.bindRandomizationButton=function(e){var t=this,n={ctrlChildId:"ramdomImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgPos:"-2px -2px",defaultCtrlChildBgSize:"120%",imagePath:this._configObject.config.imagePath.random,title:"Marqueur aléatoire"};p.GmapUtils.bindButton(e,function(){var n=Math.floor(Math.random()*t._markers.length),i=t._markers[n];e.setCenter(i.getPosition()),e.setZoom(13),google.maps.event.trigger(i,"click")},n)},e.prototype.bindRefreshButton=function(e){var t=this,n={ctrlChildId:"refreshImg",ctrlPosition:google.maps.ControlPosition.RIGHT_TOP,defaultCtrlChildBgPos:"0px 0px",defaultCtrlChildBgSize:"100%",imagePath:this._configObject.config.imagePath.refresh,title:"Actualiser"};p.GmapUtils.bindButton(e,function(){t.loadGlossary(),t.reloadMarkers(e,!1)},n)},e.prototype.bindHeatmapButton=function(e){var t=this,n={ctrlChildId:"heatmapImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgPos:"-2px -2px",defaultCtrlChildBgSize:"120%",imagePath:this._configObject.config.imagePath.heatmap.on,title:"Thermographie"};p.GmapUtils.bindButton(e,function(){t.heatmapEnabled=!t.heatmapEnabled;var i=document.querySelector("#"+n.ctrlChildId),o=t._configObject.config.imagePath.heatmap[t.heatmapEnabled?"on":"off"];i.style.backgroundImage='url("'+o+'")',t.reloadMarkers(e,!1)},n)},e.prototype.bindClusteringButton=function(e){var t=this,n={ctrlChildId:"clusteringImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgPos:"-2px -2px",defaultCtrlChildBgSize:"120%",imagePath:this._configObject.config.imagePath.clustering.on,title:"Clustering"};p.GmapUtils.bindButton(e,function(){t.clusteringEnabled=!t.clusteringEnabled;var i=document.querySelector("#"+n.ctrlChildId),o=t._configObject.config.imagePath.clustering[t.clusteringEnabled?"on":"off"];i.style.backgroundImage='url("'+o+'")',t.reloadMarkers(e,!1)},n)},e.prototype.bindListButton=function(e){var t=this,n={ctrlChildId:"clusteringImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgPos:"0px 2px",defaultCtrlChildBgSize:"90%",imagePath:this._configObject.config.imagePath.list,title:"Exporter la liste"};p.GmapUtils.bindButton(e,function(){t._markers.length?c.default.show("modal-bloodbath-list"):alert("La cartographie est vide, essayez de modifier les filtres :(")},n)},e.prototype.getDefinitions=function(e){var t={},n=this.getConfigDefinitions();for(var i in n)for(var o in e.deaths)if(e.deaths.hasOwnProperty(o)){var r=e.deaths[o],s=e.deaths[o].peers,a=n[i]["#counter_property"]?n[i]["#counter_property"]:"death",c="distinct"===(n[i]["#counter_strategy"]?n[i]["#counter_strategy"]:"distinct")?r[i]:0;if(t[i]||(t[i]={}),t[i][c]||(t[i][c]=0),Number.isInteger(r[a])&&(t[i][c]+=r[a],"count"===a&&s.length))for(var l=0,u=s;l<u.length;l++){var h=u[l],d="house"===i?h.house:c;t[i][d]||(t[i][d]=0),t[i][d]+=h.count}}return t},e.prototype.getFilterValueLabel=function(e,t){for(var n=0,i=this.filters[e];n<i.length;n++){var o=i[n];if(o.value===t)return o.label.replace(/\(.*\)/,"").trim()}return'["'+t+"]"},e.prototype.getLatestDeath=function(e){for(var t=0,n=null,i=0,o=e.deaths;i<o.length;i++){var r=o[i],s=Number(r.year)+100*Number(r.month)+Number(r.day);t<=s&&(t=s,n=r)}return n},e.prototype.printDefinitionsText=function(e,t){var n=[];if(e){for(var i=this.getDefinitions(e),o=this.getLatestDeath(e),r=this.getConfigDefinitions(),s=0,c=Object.entries(i);s<c.length;s++){for(var l=c[s],u=l[0],h=l[1],d="",p=0,f=Object.entries(h);p<f.length;p++){var g=f[p],v=g[0],y=g[1],b=y>0?y>1?"plural":"singular":"none";if(r[u][v])d+=(d?", ":"")+r[u][v][b].replace("%d",y).replace("%"+u+"%",v);else if(r[u]["#any"]){d+=(d?", ":"")+r[u]["#any"][b].replace("%d",y).replace("%"+u+"%",v)}else d+=(d?", ":"")+"["+v+"] ("+y+")";d=d.replace(/%([a-zA-Z_]+)%/,function(e,n){return t&&void 0!==t[n]?t[n]:e})}n.push(r[u]["#label"].replace("%"+u+"%",d))}n.push(""),n.push("<em>Dernier décès indexé: "+o.day+"/"+o.month+"/"+o.year+" - "+o.location+" - "+m.StringUtilsHelper.replaceAcronyms(o.section,this.glossary)+"</em>"),e.settings.up_to_date||n.push('<div class="alert alert-warning mtop" role="alert">\n                      <p>\n                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>&nbsp;\n                        <strong>Les r&eacute;sultats de cette ann&eacute;e peuvent &ecirc;tre incomplets car tous les d&eacute;c&egrave;s n\'ont pas encore &eacute;t&eacute; ind&eacute;x&eacute;s.</strong>\n                      </p>\n                  </div>')}else n.push('<div class="alert alert-warning" role="alert">\n                      <p>\n                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>&nbsp;\n                        <strong>Aucun r&eacute;sultat trouv&eacute;, essayez avec d\'autres crit&egrave;res de recherche.</strong>\n                      </p>\n                  </div>');document.querySelector('[data-role="definitionsText"]').innerHTML=n.join("<br />"),a.default("[data-tippy-content]")},e}();t.App=g},function(e,t,n){function i(e,t,n){this.extend(i,google.maps.OverlayView),this.map_=e,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var o=n||{};this.gridSize_=o.gridSize||60,this.minClusterSize_=o.minimumClusterSize||2,this.maxZoom_=o.maxZoom||null,this.styles_=o.styles||[],this.imagePath_=o.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=o.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,null!=o.zoomOnClick&&(this.zoomOnClick_=o.zoomOnClick),this.averageCenter_=!1,null!=o.averageCenter&&(this.averageCenter_=o.averageCenter),this.setupStyles_(),this.setMap(e),this.prevZoom_=this.map_.getZoom();var r=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=r.map_.getZoom(),t=r.map_.minZoom||0,n=Math.min(r.map_.maxZoom||100,r.map_.mapTypes[r.map_.getMapTypeId()].maxZoom);e=Math.min(Math.max(e,t),n),r.prevZoom_!=e&&(r.prevZoom_=e,r.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){r.redraw()}),t&&(t.length||Object.keys(t).length)&&this.addMarkers(t,!1)}function o(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new r(this,e.getStyles(),e.getGridSize())}function r(e,t,n){e.getMarkerClusterer().extend(r,google.maps.OverlayView),this.styles_=t,this.padding_=n||0,this.cluster_=e,this.center_=null,this.map_=e.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}i.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",i.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",i.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},i.prototype.onAdd=function(){this.setReady_(!0)},i.prototype.draw=function(){},i.prototype.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},i.prototype.fitMapToMarkers=function(){for(var e,t=this.getMarkers(),n=new google.maps.LatLngBounds,i=0;e=t[i];i++)n.extend(e.getPosition());this.map_.fitBounds(n)},i.prototype.setStyles=function(e){this.styles_=e},i.prototype.getStyles=function(){return this.styles_},i.prototype.isZoomOnClick=function(){return this.zoomOnClick_},i.prototype.isAverageCenter=function(){return this.averageCenter_},i.prototype.getMarkers=function(){return this.markers_},i.prototype.getTotalMarkers=function(){return this.markers_.length},i.prototype.setMaxZoom=function(e){this.maxZoom_=e},i.prototype.getMaxZoom=function(){return this.maxZoom_},i.prototype.calculator_=function(e,t){for(var n=0,i=e.length,o=i;0!==o;)o=parseInt(o/10,10),n++;return{text:i,index:n=Math.min(n,t)}},i.prototype.setCalculator=function(e){this.calculator_=e},i.prototype.getCalculator=function(){return this.calculator_},i.prototype.addMarkers=function(e,t){if(e.length)for(var n=0;i=e[n];n++)this.pushMarkerTo_(i);else if(Object.keys(e).length)for(var i in e)this.pushMarkerTo_(e[i]);t||this.redraw()},i.prototype.pushMarkerTo_=function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=!1,t.repaint()})}this.markers_.push(e)},i.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},i.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var n,i=0;n=this.markers_[i];i++)if(n==e){t=i;break}return-1!=t&&(e.setMap(null),this.markers_.splice(t,1),!0)},i.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!(t||!n)&&(this.resetViewport(),this.redraw(),!0)},i.prototype.removeMarkers=function(e,t){for(var n,i=e===this.getMarkers()?e.slice():e,o=!1,r=0;n=i[r];r++){var s=this.removeMarker_(n);o=o||s}if(!t&&o)return this.resetViewport(),this.redraw(),!0},i.prototype.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},i.prototype.getTotalClusters=function(){return this.clusters_.length},i.prototype.getMap=function(){return this.map_},i.prototype.setMap=function(e){this.map_=e},i.prototype.getGridSize=function(){return this.gridSize_},i.prototype.setGridSize=function(e){this.gridSize_=e},i.prototype.getMinClusterSize=function(){return this.minClusterSize_},i.prototype.setMinClusterSize=function(e){this.minClusterSize_=e},i.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),o=t.fromLatLngToDivPixel(n);o.x+=this.gridSize_,o.y-=this.gridSize_;var r=t.fromLatLngToDivPixel(i);r.x-=this.gridSize_,r.y+=this.gridSize_;var s=t.fromDivPixelToLatLng(o),a=t.fromDivPixelToLatLng(r);return e.extend(s),e.extend(a),e},i.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},i.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},i.prototype.resetViewport=function(e){for(var t,n=0;t=this.clusters_[n];n++)t.remove();var i;for(n=0;i=this.markers_[n];n++)i.isAdded=!1,e&&i.setMap(null);this.clusters_=[]},i.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),s.setTimeout(function(){for(var t,n=0;t=e[n];n++)t.remove()},0)},i.prototype.redraw=function(){this.createClusters_()},i.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var n=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},i.prototype.addToClosestCluster_=function(e){for(var t,n=4e4,i=null,r=(e.getPosition(),0);t=this.clusters_[r];r++){var s=t.getCenter();if(s){var a=this.distanceBetweenPoints_(s,e.getPosition());a<n&&(n=a,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):((t=new o(this)).addMarker(e),this.clusters_.push(t))},i.prototype.createClusters_=function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),n=this.getExtendedBounds(t),i=0;e=this.markers_[i];i++)!e.isAdded&&this.isMarkerInBounds_(e,n)&&this.addToClosestCluster_(e)},o.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,n=0;t=this.markers_[n];n++)if(t==e)return!0;return!1},o.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,n=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,i=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(n,i),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var o=this.markers_.length;if(o<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),o==this.minClusterSize_)for(var r=0;r<o;r++)this.markers_[r].setMap(null);return o>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},o.prototype.getMarkerClusterer=function(){return this.markerClusterer_},o.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers(),i=0;e=n[i];i++)t.extend(e.getPosition());return t},o.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},o.prototype.getSize=function(){return this.markers_.length},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getCenter=function(){return this.center_},o.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},o.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},o.prototype.getMap=function(){return this.map_},o.prototype.updateIcon=function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&e>t)for(var n,i=0;n=this.markers_[i];i++)n.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var o=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,o);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(r),this.clusterIcon_.show()}},r.prototype.triggerClusterClick=function(){var e=this.cluster_.getMarkerClusterer();google.maps.event.trigger(e.map_,"clusterclick",this.cluster_),e.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},r.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var t=this;google.maps.event.addDomListener(this.div_,"click",function(){t.triggerClusterClick()})},r.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t},r.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px",this.div_.style.zIndex=google.maps.Marker.MAX_ZINDEX+1}},r.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},r.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0},r.prototype.remove=function(){this.setMap(null)},r.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},r.prototype.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},r.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition},r.prototype.setCenter=function(e){this.center_=e},r.prototype.createCss=function(e){var t=[];t.push("background-image:url("+this.url_+");");var n=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+n+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var i=this.textColor_?this.textColor_:"black",o=this.textSize_?this.textSize_:11;return t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+i+"; position:absolute; font-size:"+o+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")};var s=s||{};s.MarkerClusterer=i,i.prototype.addMarker=i.prototype.addMarker,i.prototype.addMarkers=i.prototype.addMarkers,i.prototype.clearMarkers=i.prototype.clearMarkers,i.prototype.fitMapToMarkers=i.prototype.fitMapToMarkers,i.prototype.getCalculator=i.prototype.getCalculator,i.prototype.getGridSize=i.prototype.getGridSize,i.prototype.getExtendedBounds=i.prototype.getExtendedBounds,i.prototype.getMap=i.prototype.getMap,i.prototype.getMarkers=i.prototype.getMarkers,i.prototype.getMaxZoom=i.prototype.getMaxZoom,i.prototype.getStyles=i.prototype.getStyles,i.prototype.getTotalClusters=i.prototype.getTotalClusters,i.prototype.getTotalMarkers=i.prototype.getTotalMarkers,i.prototype.redraw=i.prototype.redraw,i.prototype.removeMarker=i.prototype.removeMarker,i.prototype.removeMarkers=i.prototype.removeMarkers,i.prototype.resetViewport=i.prototype.resetViewport,i.prototype.repaint=i.prototype.repaint,i.prototype.setCalculator=i.prototype.setCalculator,i.prototype.setGridSize=i.prototype.setGridSize,i.prototype.setMaxZoom=i.prototype.setMaxZoom,i.prototype.onAdd=i.prototype.onAdd,i.prototype.draw=i.prototype.draw,o.prototype.getCenter=o.prototype.getCenter,o.prototype.getSize=o.prototype.getSize,o.prototype.getMarkers=o.prototype.getMarkers,r.prototype.onAdd=r.prototype.onAdd,r.prototype.draw=r.prototype.draw,r.prototype.onRemove=r.prototype.onRemove,Object.keys=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.exports=i},function(e,t){const n="__googleMapsApiOnLoadCallback",i=["channel","client","key","language","region","v"];let o=null;e.exports=function(e={}){return o=o||new Promise(function(t,o){const r=setTimeout(function(){window[n]=function(){},o(new Error("Could not load the Google Maps API"))},e.timeout||1e4);window[n]=function(){null!==r&&clearTimeout(r),t(window.google.maps),delete window[n]};const s=document.createElement("script"),a=[`callback=${n}`];i.forEach(function(t){e[t]&&a.push(`${t}=${e[t]}`)}),e.libraries&&e.libraries.length&&a.push(`libraries=${e.libraries.join(",")}`),s.src=`${e.apiUrl||"https://maps.googleapis.com/maps/api/js"}?${a.join("&")}`,document.body.appendChild(s)})}},function(e,t,n){(function(n,i){var o,r,s;r=[],void 0===(s="function"==typeof(o=function(){var e;function t(e){return"function"==typeof e}function o(e){void 0!==n?n(e):void 0!==i&&i.nextTick?i.nextTick(e):setTimeout(e,0)}return function n(i){var r,s=[],a=[],c=function(e,t){return null==r&&null!=e&&(r=e,s=t,a.length&&o(function(){for(var e=0;e<a.length;e++)a[e]()})),r};return c.then=function(c,l){var u=n(i),h=function(){try{var n=r?c:l;t(n)?function n(i){var o,r=0;try{if(i&&(function(e){return"object"==typeof e}(i)||t(i))&&t(o=i.then)){if(i===u)throw new TypeError;o.call(i,function(){r++||n.apply(e,arguments)},function(e){r++||u(!1,[e])})}else u(!0,arguments)}catch(e){r++||u(!1,[e])}}(n.apply(e,s||[])):u(r,s)}catch(e){u(!1,[e])}};return null!=r?o(h):a.push(h),u},i&&(c=i(c)),c}})?o.apply(t,r):o)||(e.exports=s)}).call(this,n(9).setImmediate,n(3))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(10),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,o,r,s,a,c=1,l={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){f(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){f(e.data)},i=function(e){r.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(o=h.documentElement,i=function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):i=function(e){setTimeout(f,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),i=function(t){e.postMessage(s+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[c]=o,i(c),c++},d.clearImmediate=p}function p(e){delete l[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(3))},function(e,t,n){var i;!function(n){"use strict";var o=function(e){var t=function(e,t,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)},n=function(e,i,o){var r,s,a;if("[object Array]"===Object.prototype.toString.call(i))for(r=0,s=i.length;r<s;r++)n(e+"["+("object"==typeof i[r]?r:"")+"]",i[r],o);else if(i&&"[object Object]"===i.toString())for(a in i)i.hasOwnProperty(a)&&n(e?e+"["+a+"]":a,i[a],o,t);else if(e)t(o,e,i);else for(a in i)t(o,a,i[a]);return o};return n("",e,[]).join("&").replace(/%20/g,"+")};"object"==typeof e.exports?e.exports=o:void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){"use strict";n.r(t);const i=(()=>{const e=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];class t{constructor({targetModal:e,triggers:t=[],onShow:n=(()=>{}),onClose:i=(()=>{}),openTrigger:o="data-micromodal-trigger",closeTrigger:r="data-micromodal-close",disableScroll:s=!1,disableFocus:a=!1,awaitCloseAnimation:c=!1,awaitOpenAnimation:l=!1,debugMode:u=!1}){this.modal=document.getElementById(e),this.config={debugMode:u,disableScroll:s,openTrigger:o,closeTrigger:r,onShow:n,onClose:i,awaitCloseAnimation:c,awaitOpenAnimation:l,disableFocus:a},t.length>0&&this.registerTriggers(...t),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}registerTriggers(...e){e.filter(Boolean).forEach(e=>{e.addEventListener("click",e=>this.showModal(e))})}showModal(){if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("is-open"),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){const e=()=>{this.modal.removeEventListener("animationend",e,!1),this.setFocusToFirstNode()};this.modal.addEventListener("animationend",e,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement)}closeModal(){const e=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener("animationend",function t(){e.classList.remove("is-open"),e.removeEventListener("animationend",t,!1)},!1):e.classList.remove("is-open")}closeModalById(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}scrollBehaviour(e){if(!this.config.disableScroll)return;const t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:"",height:""});break;case"disable":Object.assign(t.style,{overflow:"hidden",height:"100vh"})}}addEventListeners(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}removeEventListeners(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}onClick(e){e.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),e.preventDefault())}onKeydown(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.maintainFocus(e)}getFocusableNodes(){const t=this.modal.querySelectorAll(e);return Array(...t)}setFocusToFirstNode(){if(this.config.disableFocus)return;const e=this.getFocusableNodes();e.length&&e[0].focus()}maintainFocus(e){const t=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){const n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())}else t[0].focus()}}let n=null;const i=e=>{if(!document.getElementById(e))return console.warn(`MicroModal: ❗Seems like you have missed %c'${e}'`,"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",`<div class="modal" id="${e}"></div>`),!1},o=(e,t)=>{if((e=>{if(e.length<=0)console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>')})(e),!t)return!0;for(var n in t)i(n);return!0};return{init:e=>{const i=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),r=[...document.querySelectorAll(`[${i.openTrigger}]`)],s=((e,t)=>{const n=[];return e.forEach(e=>{const i=e.attributes[t].value;void 0===n[i]&&(n[i]=[]),n[i].push(e)}),n})(r,i.openTrigger);if(!0!==i.debugMode||!1!==o(r,s))for(var a in s){let e=s[a];i.targetModal=a,i.triggers=[...e],n=new t(i)}},show:(e,o)=>{const r=o||{};r.targetModal=e,!0===r.debugMode&&!1===i(e)||(n=new t(r)).showModal()},close:e=>{e?n.closeModalById(e):n.closeModal()}}})();t.default=i},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o="active",r="idle",s=["click","mousemove","keydown","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","focus"],a=["blur","visibilitychange"],c=["mousemove"],l=void 0,u=void 0;if(void 0!==document.hidden)l="hidden",u="visibilitychange";else for(var h=["webkit","moz","ms"],d=0;d<h.length;d++){var p=h[d];if(void 0!==document[p+"Hidden"]){l=p+"Hidden",u=p+"visibilitychange";break}}t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.activityEvents,h=void 0===n?s:n,d=t.inactivityEvents,p=void 0===d?a:d,f=t.ignoredEventsWhenIdle,m=void 0===f?c:f,g=t.timeToIdle,v=void 0===g?3e4:g,y=t.initialState,b=void 0===y?"active":y,_=t.autoInit,w=void 0===_||_,E=(i(e={},o,[]),i(e,r,[]),e),C=void 0,S=void 0,T=function e(t){clearTimeout(S),t===o&&(S=setTimeout(function(){return e(r)},v)),C!==t&&E[C=t].forEach(function(e){return e()})},I=function(e){(C===o||m.indexOf(e.type)<0)&&T(o)},x=function(){T(r)},O=function(){T(document[l]?r:o)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"active";T(e===o?o:r),h.forEach(function(e){return window.addEventListener(e,I)}),p.filter(function(e){return"visibilitychange"!==e}).forEach(function(e){return window.addEventListener(e,x)}),p.indexOf("visibilitychange")>=0&&u&&document.addEventListener(u,O)},k=function(e,t){E[e].push(t);return function(){var n=E[e].indexOf(t);n>=0&&E[e].splice(n,1)}},M=function(){E.active=[],E.idle=[],clearTimeout(S),h.forEach(function(e){return window.removeEventListener(e,I)}),p.forEach(function(e){return window.removeEventListener(e,x)}),u&&document.removeEventListener(u,O)};return w&&L(b),{on:k,stop:M,init:L}}},function(e,t,n){var i;window,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/assets/scripts/",n(n.s=4)}([function(e,t,n){"use strict";var i=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function s(e,t,n){return e.concat(t).map(function(e){return r(e,n)})}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function c(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach(function(t){i[t]=r(e[t],n)}),a(t).forEach(function(o){(function(e,t){try{return t in e&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}catch(e){return!1}})(e,o)||(n.isMergeableObject(t[o])&&e[o]?i[o]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))}),i}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||s,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):c(e,t,n):r(t,n)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return l(e,n,t)},{})};var u=l;e.exports=u},function(e,t,n){"use strict";(function(e,i){var o,r=n(3);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var s=Object(r.a)(o);t.a=s}).call(this,n(5),n(6)(e))},function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=n(2),s=n(8),a=n(0),c=function(){function e(t,n){var i=n.location,o=void 0===i?0:i,r=n.distance,a=void 0===r?100:r,c=n.threshold,l=void 0===c?.6:c,u=n.maxPatternLength,h=void 0===u?32:u,d=n.caseSensitive,p=void 0!==d&&d,f=n.tokenSeparator,m=void 0===f?/ +/g:f,g=n.findAllMatches,v=void 0!==g&&g,y=n.minMatchCharLength,b=void 0===y?1:y,_=n.id,w=void 0===_?null:_,E=n.keys,C=void 0===E?[]:E,S=n.shouldSort,T=void 0===S||S,I=n.getFn,x=void 0===I?s:I,O=n.sortFn,L=void 0===O?function(e,t){return e.score-t.score}:O,k=n.tokenize,M=void 0!==k&&k,A=n.matchAllTokens,P=void 0!==A&&A,D=n.includeMatches,j=void 0!==D&&D,F=n.includeScore,N=void 0!==F&&F,B=n.verbose,H=void 0!==B&&B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:a,threshold:l,maxPatternLength:h,isCaseSensitive:p,tokenSeparator:m,findAllMatches:v,minMatchCharLength:b,id:w,keys:C,includeMatches:j,includeScore:N,shouldSort:T,getFn:x,sortFn:L,verbose:H,tokenize:M,matchAllTokens:P},this.setCollection(t)}var t,n;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),i=n.tokenSearchers,o=n.fullSearcher,r=this._search(i,o),s=r.weights,a=r.results;return this._computeScore(s,a),this.options.shouldSort&&this._sort(a),t.limit&&"number"==typeof t.limit&&(a=a.slice(0,t.limit)),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),i=0,o=n.length;i<o;i+=1)t.push(new r(n[i],this.options));return{tokenSearchers:t,fullSearcher:new r(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,i={},o=[];if("string"==typeof n[0]){for(var r=0,s=n.length;r<s;r+=1)this._analyze({key:"",value:n[r],record:r,index:r},{resultMap:i,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var a={},c=0,l=n.length;c<l;c+=1)for(var u=n[c],h=0,d=this.options.keys.length;h<d;h+=1){var p=this.options.keys[h];if("string"!=typeof p){if(a[p.name]={weight:1-p.weight||1},p.weight<=0||p.weight>1)throw new Error("Key weight has to be > 0 and <= 1");p=p.name}else a[p]={weight:1};this._analyze({key:p,value:this.options.getFn(u,p),record:u,index:c},{resultMap:i,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:a,results:o}}},{key:"_analyze",value:function(e,t){var n=e.key,i=e.arrayIndex,o=void 0===i?-1:i,r=e.value,s=e.record,c=e.index,l=t.tokenSearchers,u=void 0===l?[]:l,h=t.fullSearcher,d=void 0===h?[]:h,p=t.resultMap,f=void 0===p?{}:p,m=t.results,g=void 0===m?[]:m;if(null!=r){var v=!1,y=-1,b=0;if("string"==typeof r){this._log("\nKey: ".concat(""===n?"-":n));var _=d.search(r);if(this._log('Full text: "'.concat(r,'", score: ').concat(_.score)),this.options.tokenize){for(var w=r.split(this.options.tokenSeparator),E=[],C=0;C<u.length;C+=1){var S=u[C];this._log('\nPattern: "'.concat(S.pattern,'"'));for(var T=!1,I=0;I<w.length;I+=1){var x=w[I],O=S.search(x),L={};O.isMatch?(L[x]=O.score,v=!0,T=!0,E.push(O.score)):(L[x]=1,this.options.matchAllTokens||E.push(1)),this._log('Token: "'.concat(x,'", score: ').concat(L[x]))}T&&(b+=1)}y=E[0];for(var k=E.length,M=1;M<k;M+=1)y+=E[M];y/=k,this._log("Token score average:",y)}var A=_.score;y>-1&&(A=(A+y)/2),this._log("Score average:",A);var P=!this.options.tokenize||!this.options.matchAllTokens||b>=u.length;if(this._log("\nCheck Matches: ".concat(P)),(v||_.isMatch)&&P){var D=f[c];D?D.output.push({key:n,arrayIndex:o,value:r,score:A,matchedIndices:_.matchedIndices}):(f[c]={item:s,output:[{key:n,arrayIndex:o,value:r,score:A,matchedIndices:_.matchedIndices}]},g.push(f[c]))}}else if(a(r))for(var j=0,F=r.length;j<F;j+=1)this._analyze({key:n,arrayIndex:j,value:r[j],record:s,index:c},{resultMap:f,results:g,tokenSearchers:u,fullSearcher:d})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,i=t.length;n<i;n+=1){for(var o=t[n].output,r=o.length,s=1,a=1,c=0;c<r;c+=1){var l=e?e[o[c].key].weight:1,u=(1===l?o[c].score:o[c].score||.001)*l;1!==l?a=Math.min(a,u):(o[c].nScore=u,s*=u)}t[n].score=1===a?s:a,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===i(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})),n=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var n=e.output;t.matches=[];for(var i=0,o=n.length;i<o;i+=1){var r=n[i];if(0!==r.matchedIndices.length){var s={indices:r.matchedIndices,value:r.value};r.key&&(s.key=r.key),r.hasOwnProperty("arrayIndex")&&r.arrayIndex>-1&&(s.arrayIndex=r.arrayIndex),t.matches.push(s)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var r=0,s=e.length;r<s;r+=1){var a=e[r];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),o.length){for(var c={item:a.item},l=0,u=o.length;l<u;l+=1)o[l](a,c);t.push(c)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&o(t.prototype,n),e}();e.exports=c},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(3),r=n(4),s=n(7),a=function(){function e(t,n){var i=n.location,o=void 0===i?0:i,r=n.distance,a=void 0===r?100:r,c=n.threshold,l=void 0===c?.6:c,u=n.maxPatternLength,h=void 0===u?32:u,d=n.isCaseSensitive,p=void 0!==d&&d,f=n.tokenSeparator,m=void 0===f?/ +/g:f,g=n.findAllMatches,v=void 0!==g&&g,y=n.minMatchCharLength,b=void 0===y?1:y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:a,threshold:l,maxPatternLength:h,isCaseSensitive:p,tokenSeparator:m,findAllMatches:v,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=h&&(this.patternAlphabet=s(this.pattern))}var t,n;return t=e,(n=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,i=t.tokenSeparator;if(this.pattern.length>n)return o(e,this.pattern,i);var s=this.options,a=s.location,c=s.distance,l=s.threshold,u=s.findAllMatches,h=s.minMatchCharLength;return r(e,this.pattern,this.patternAlphabet,{location:a,distance:c,threshold:l,findAllMatches:u,minMatchCharLength:h})}}])&&i(t.prototype,n),e}();e.exports=a},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,"\\$&").replace(i,"|")),r=e.match(o),s=!!r,a=[];if(s)for(var c=0,l=r.length;c<l;c+=1){var u=r[c];a.push([e.indexOf(u),u.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:a}}},function(e,t,n){var i=n(5),o=n(6);e.exports=function(e,t,n,r){for(var s=r.location,a=void 0===s?0:s,c=r.distance,l=void 0===c?100:c,u=r.threshold,h=void 0===u?.6:u,d=r.findAllMatches,p=void 0!==d&&d,f=r.minMatchCharLength,m=void 0===f?1:f,g=a,v=e.length,y=h,b=e.indexOf(t,g),_=t.length,w=[],E=0;E<v;E+=1)w[E]=0;if(-1!==b){var C=i(t,{errors:0,currentLocation:b,expectedLocation:g,distance:l});if(y=Math.min(C,y),-1!==(b=e.lastIndexOf(t,g+_))){var S=i(t,{errors:0,currentLocation:b,expectedLocation:g,distance:l});y=Math.min(S,y)}}b=-1;for(var T=[],I=1,x=_+v,O=1<<_-1,L=0;L<_;L+=1){for(var k=0,M=x;k<M;)i(t,{errors:L,currentLocation:g+M,expectedLocation:g,distance:l})<=y?k=M:x=M,M=Math.floor((x-k)/2+k);x=M;var A=Math.max(1,g-M+1),P=p?v:Math.min(g+M,v)+_,D=Array(P+2);D[P+1]=(1<<L)-1;for(var j=P;j>=A;j-=1){var F=j-1,N=n[e.charAt(F)];if(N&&(w[F]=1),D[j]=(D[j+1]<<1|1)&N,0!==L&&(D[j]|=(T[j+1]|T[j])<<1|1|T[j+1]),D[j]&O&&(I=i(t,{errors:L,currentLocation:F,expectedLocation:g,distance:l}))<=y){if(y=I,(b=F)<=g)break;A=Math.max(1,2*g-b)}}if(i(t,{errors:L+1,currentLocation:g,expectedLocation:g,distance:l})>y)break;T=D}return{isMatch:b>=0,score:0===I?.001:I,matchedIndices:o(w,m)}}},function(e,t){e.exports=function(e,t){var n=t.errors,i=void 0===n?0:n,o=t.currentLocation,r=void 0===o?0:o,s=t.expectedLocation,a=void 0===s?0:s,c=t.distance,l=void 0===c?100:c,u=i/e.length,h=Math.abs(a-r);return l?u+h/l:h?1:u}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],i=-1,o=-1,r=0,s=e.length;r<s;r+=1){var a=e[r];a&&-1===i?i=r:a||-1===i||((o=r-1)-i+1>=t&&n.push([i,o]),i=-1)}return e[r-1]&&r-i>=t&&n.push([i,r-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,i=0;i<n;i+=1)t[e.charAt(i)]=0;for(var o=0;o<n;o+=1)t[e.charAt(o)]|=1<<n-o-1;return t}},function(e,t,n){var i=n(0);e.exports=function(e,t){return function e(t,n,o){if(n){var r=n.indexOf("."),s=n,a=null;-1!==r&&(s=n.slice(0,r),a=n.slice(r+1));var c=t[s];if(null!=c)if(a||"string"!=typeof c&&"number"!=typeof c)if(i(c))for(var l=0,u=c.length;l<u;l+=1)e(c[l],a,o);else a&&e(c,a,o);else o.push(c.toString())}else o.push(t);return o}(e,t,[])}}])},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return i})},function(e,t,n){e.exports=n(7)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),r=n(0),s=n.n(r),a=n(1),c=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(h)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,r=t,s=[],c=s,d=!1;function p(){c===s&&(c=s.slice())}function f(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return r}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),c.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var n=c.indexOf(e);c.splice(n,1)}}}function g(e){if(!u(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,r=o(r,e)}finally{d=!1}for(var t=s=c,n=0;n<t.length;n++)(0,t[n])();return e}return g({type:l.INIT}),(i={dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,g({type:l.REPLACE})}})[a.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[a.a]=function(){return this},e},i}function d(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}var p,f=[],m=[],g=[],v={loading:!1},y=function(e,t){switch(void 0===e&&(e=v),t.type){case"SET_IS_LOADING":return{loading:t.isLoading};default:return e}},b=function(e){return Array.from({length:e},function(){return(e=0,t=36,Math.floor(Math.random()*(t-e)+e)).toString(36);var e,t}).join("")},_=function(e,t){var n=e.id||e.name&&e.name+"-"+b(2)||b(4);return n=t+"-"+(n=n.replace(/(:|\.|\[|\]|,)/g,""))},w=function(e){return Object.prototype.toString.call(e).slice(8,-1)},E=function(e,t){return null!=t&&w(t)===e},C=function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},S=(p=document.createElement("div"),function(e){var t=e.trim();p.innerHTML=t;for(var n=p.children[0];p.firstChild;)p.removeChild(p.firstChild);return n}),T=function(e,t){return e.score-t.score},I=function(e){return JSON.parse(JSON.stringify(e))},x=function(e,t){var n=Object.keys(e).sort(),i=Object.keys(t).sort();return n.filter(function(e){return i.indexOf(e)<0})},O=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];"function"==typeof e[o]&&(n[o]=e[o])}var r,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+l.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var i=!1,o={},a=0;a<s.length;a++){var c=s[a],l=n[c],u=e[c],h=l(u,t);if(void 0===h){var p=d(c,t);throw new Error(p)}o[c]=h,i=i||h!==u}return i?o:e}}({items:function(e,t){switch(void 0===e&&(e=f),t.type){case"ADD_ITEM":return[].concat(e,[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]).map(function(e){var t=e;return t.highlighted=!1,t});case"REMOVE_ITEM":return e.map(function(e){var n=e;return n.id===t.id&&(n.active=!1),n});case"HIGHLIGHT_ITEM":return e.map(function(e){var n=e;return n.id===t.id&&(n.highlighted=t.highlighted),n});default:return e}},groups:function(e,t){switch(void 0===e&&(e=m),t.type){case"ADD_GROUP":return[].concat(e,[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return[];default:return e}},choices:function(e,t){switch(void 0===e&&(e=g),t.type){case"ADD_CHOICE":return[].concat(e,[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case"ADD_ITEM":return t.activateOptions?e.map(function(e){var n=e;return n.active=t.active,n}):t.choiceId>-1?e.map(function(e){var n=e;return n.id===parseInt(t.choiceId,10)&&(n.selected=!0),n}):e;case"REMOVE_ITEM":return t.choiceId>-1?e.map(function(e){var n=e;return n.id===parseInt(t.choiceId,10)&&(n.selected=!1),n}):e;case"FILTER_CHOICES":return e.map(function(e){var n=e;return n.active=t.results.some(function(e){var t=e.item,i=e.score;return t.id===n.id&&(n.score=i,!0)}),n});case"ACTIVATE_CHOICES":return e.map(function(e){var n=e;return n.active=t.active,n});case"CLEAR_CHOICES":return g;default:return e}},general:y}),L=function(e,t){var n=e;if("CLEAR_ALL"===t.type)n=void 0;else if("RESET_TO"===t.type)return I(t.state);return O(n,t)};function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=function(){function e(){this._store=h(L,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}var t,n,i,o=e.prototype;return o.subscribe=function(e){this._store.subscribe(e)},o.dispatch=function(e){this._store.dispatch(e)},o.isLoading=function(){return this.state.general.loading},o.getChoiceById=function(e){return this.activeChoices.find(function(t){return t.id===parseInt(e,10)})},o.getGroupById=function(e){return this.groups.find(function(t){return t.id===e})},t=e,(n=[{key:"state",get:function(){return this._store.getState()}},{key:"items",get:function(){return this.state.items}},{key:"activeItems",get:function(){return this.items.filter(function(e){return!0===e.active})}},{key:"highlightedActiveItems",get:function(){return this.items.filter(function(e){return e.active&&e.highlighted})}},{key:"choices",get:function(){return this.state.choices}},{key:"activeChoices",get:function(){return this.choices.filter(function(e){return!0===e.active})}},{key:"selectableChoices",get:function(){return this.choices.filter(function(e){return!0!==e.disabled})}},{key:"searchableChoices",get:function(){return this.selectableChoices.filter(function(e){return!0!==e.placeholder})}},{key:"placeholderChoice",get:function(){return[].concat(this.choices).reverse().find(function(e){return!0===e.placeholder})}},{key:"groups",get:function(){return this.state.groups}},{key:"activeGroups",get:function(){var e=this.groups,t=this.choices;return e.filter(function(e){var n=!0===e.active&&!1===e.disabled,i=t.some(function(e){return!0===e.active&&!1===e.disabled});return n&&i},[])}}])&&k(t.prototype,n),i&&k(t,i),e}();function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var P=function(){function e(e){var t=e.element,n=e.type,i=e.classNames;this.element=t,this.classNames=i,this.type=n,this.isActive=!1}var t,n,i,o=e.prototype;return o.getChild=function(e){return this.element.querySelector(e)},o.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},o.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},t=e,(n=[{key:"distanceFromTopWindow",get:function(){return this.element.getBoundingClientRect().bottom}}])&&A(t.prototype,n),i&&A(t,i),e}(),D={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:function(e,t){var n=e.value,i=e.label,o=void 0===i?n:i,r=t.value,s=t.label,a=void 0===s?r:s;return o.localeCompare(a,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'+C(e)+'"</b>'},maxItemText:function(e){return"Only "+e+" values can be added"},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"}},j="showDropdown",F="hideDropdown",N="change",B="choice",H="search",R="addItem",z="removeItem",V="highlightItem",U="highlightChoice",q="ADD_CHOICE",W="FILTER_CHOICES",G="ACTIVATE_CHOICES",K="CLEAR_CHOICES",X="ADD_GROUP",Z="ADD_ITEM",Y="REMOVE_ITEM",$="HIGHLIGHT_ITEM",J=46,Q=8,ee=13,te=65,ne=27,ie=38,oe=40,re=33,se=34,ae="text",ce="select-one",le="select-multiple",ue=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,o=e.position;this.element=t,this.classNames=i,this.type=n,this.position=o,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var t=e.prototype;return t.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},t.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},t.shouldFlip=function(e){if("number"!=typeof e)return!1;var t=!1;return"auto"===this.position?t=!window.matchMedia("(min-height: "+(e+1)+"px)").matches:"top"===this.position&&(t=!0),t},t.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},t.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},t.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},t.focus=function(){this.isFocussed||this.element.focus()},t.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},t.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},t.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===ce&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},t.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===ce&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},t.wrap=function(e){!function(e,t){void 0===t&&(t=document.createElement("div")),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)}(e,this.element)},t.unwrap=function(e){this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element)},t.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},t.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},t._onFocus=function(){this.isFocussed=!0},t._onBlur=function(){this.isFocussed=!1},e}();function he(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var de=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,o=e.preventPaste;this.element=t,this.type=n,this.classNames=i,this.preventPaste=o,this.isFocussed=this.element===document.activeElement,this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var t,n,i,o=e.prototype;return o.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},o.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput,{passive:!0}),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus,{passive:!0}),this.element.removeEventListener("blur",this._onBlur,{passive:!0})},o.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},o.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},o.focus=function(){this.isFocussed||this.element.focus()},o.blur=function(){this.isFocussed&&this.element.blur()},o.clear=function(e){return void 0===e&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},o.setWidth=function(){var e=this.element,t=e.style,n=e.value,i=e.placeholder;t.minWidth=i.length+1+"ch",t.width=n.length+1+"ch"},o.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},o.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},o._onInput=function(){this.type!==ce&&this.setWidth()},o._onPaste=function(e){this.preventPaste&&e.preventDefault()},o._onFocus=function(){this.isFocussed=!0},o._onBlur=function(){this.isFocussed=!1},t=e,(n=[{key:"placeholder",set:function(e){this.element.placeholder=e}},{key:"value",get:function(){return C(this.element.value)},set:function(e){this.element.value=e}}])&&he(t.prototype,n),i&&he(t,i),e}(),pe=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}var t=e.prototype;return t.clear=function(){this.element.innerHTML=""},t.append=function(e){this.element.appendChild(e)},t.getChild=function(e){return this.element.querySelector(e)},t.hasChildren=function(){return this.element.hasChildNodes()},t.scrollToTop=function(){this.element.scrollTop=0},t.scrollToChildElement=function(e,t){var n=this;if(e){var i=this.element.offsetHeight,o=this.element.scrollTop+i,r=e.offsetHeight,s=e.offsetTop+r,a=t>0?this.element.scrollTop+s-o:e.offsetTop;requestAnimationFrame(function(){n._animateScroll(a,t)})}},t._scrollDown=function(e,t,n){var i=(n-e)/t,o=i>1?i:1;this.element.scrollTop=e+o},t._scrollUp=function(e,t,n){var i=(e-n)/t,o=i>1?i:1;this.element.scrollTop=e-o},t._animateScroll=function(e,t){var n=this,i=this.element.scrollTop,o=!1;t>0?(this._scrollDown(i,4,e),i<e&&(o=!0)):(this._scrollUp(i,4,e),i>e&&(o=!0)),o&&requestAnimationFrame(function(){n._animateScroll(e,t)})},e}();function fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var me=function(){function e(e){var t=e.element,n=e.classNames;if(this.element=t,this.classNames=n,!(t instanceof HTMLInputElement||t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}var t,n,i,o=e.prototype;return o.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},o.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},o.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},o.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},o.triggerEvent=function(e,t){!function(e,t,n){void 0===n&&(n=null);var i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});e.dispatchEvent(i)}(this.element,e,t)},t=e,(n=[{key:"isActive",get:function(){return"active"===this.element.dataset.choice}},{key:"dir",get:function(){return this.element.dir}},{key:"value",get:function(){return this.element.value},set:function(e){this.element.value=e}}])&&fe(t.prototype,n),i&&fe(t,i),e}();function ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ve=function(e){var t,n,i,o,r;function s(t){var n,i=t.element,o=t.classNames,r=t.delimiter;return(n=e.call(this,{element:i,classNames:o})||this).delimiter=r,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i=s,(o=[{key:"value",get:function(){return this.element.value},set:function(e){var t=e.map(function(e){return e.value}).join(this.delimiter);this.element.setAttribute("value",t),this.element.value=t}}])&&ge(i.prototype,o),r&&ge(i,r),s}(me);function ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var be=function(e){var t,n,i,o,r;function s(t){var n,i=t.element,o=t.classNames,r=t.template;return(n=e.call(this,{element:i,classNames:o})||this).template=r,n}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.prototype.appendDocFragment=function(e){this.element.innerHTML="",this.element.appendChild(e)},i=s,(o=[{key:"placeholderOption",get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")}},{key:"optionGroups",get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}},{key:"options",get:function(){return Array.from(this.element.options)},set:function(e){var t=this,n=document.createDocumentFragment();e.forEach(function(e){return i=e,o=t.template(i),void n.appendChild(o);var i,o}),this.appendDocFragment(n)}}])&&ye(i.prototype,o),r&&ye(i,r),s}(me),_e={containerOuter:function(e,t,n,i,o,r){var s=e.containerOuter,a=Object.assign(document.createElement("div"),{className:s});return a.dataset.type=r,t&&(a.dir=t),i&&(a.tabIndex=0),n&&(a.setAttribute("role",o?"combobox":"listbox"),o&&a.setAttribute("aria-autocomplete","list")),a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-expanded","false"),a},containerInner:function(e){var t=e.containerInner;return Object.assign(document.createElement("div"),{className:t})},itemList:function(e,t){var n=e.list,i=e.listSingle,o=e.listItems;return Object.assign(document.createElement("div"),{className:n+" "+(t?i:o)})},placeholder:function(e,t){var n=e.placeholder;return Object.assign(document.createElement("div"),{className:n,innerHTML:t})},item:function(e,t,n){var i=e.item,o=e.button,r=e.highlightedState,s=e.itemSelectable,a=e.placeholder,c=t.id,l=t.value,u=t.label,h=t.customProperties,d=t.active,p=t.disabled,f=t.highlighted,m=t.placeholder,g=Object.assign(document.createElement("div"),{className:i,innerHTML:u});if(Object.assign(g.dataset,{item:"",id:c,value:l,customProperties:h}),d&&g.setAttribute("aria-selected","true"),p&&g.setAttribute("aria-disabled","true"),m&&g.classList.add(a),g.classList.add(f?r:s),n){p&&g.classList.remove(s),g.dataset.deletable="";var v=Object.assign(document.createElement("button"),{type:"button",className:o,innerHTML:"Remove item"});v.setAttribute("aria-label","Remove item: '"+l+"'"),v.dataset.button="",g.appendChild(v)}return g},choiceList:function(e,t){var n=e.list,i=Object.assign(document.createElement("div"),{className:n});return t||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup:function(e,t){var n=e.group,i=e.groupHeading,o=e.itemDisabled,r=t.id,s=t.value,a=t.disabled,c=Object.assign(document.createElement("div"),{className:n+" "+(a?o:"")});return c.setAttribute("role","group"),Object.assign(c.dataset,{group:"",id:r,value:s}),a&&c.setAttribute("aria-disabled","true"),c.appendChild(Object.assign(document.createElement("div"),{className:i,innerHTML:s})),c},choice:function(e,t,n){var i=e.item,o=e.itemChoice,r=e.itemSelectable,s=e.selectedState,a=e.itemDisabled,c=e.placeholder,l=t.id,u=t.value,h=t.label,d=t.groupId,p=t.elementId,f=t.disabled,m=t.selected,g=t.placeholder,v=Object.assign(document.createElement("div"),{id:p,innerHTML:h,className:i+" "+o});return m&&v.classList.add(s),g&&v.classList.add(c),v.setAttribute("role",d>0?"treeitem":"option"),Object.assign(v.dataset,{choice:"",id:l,value:u,selectText:n}),f?(v.classList.add(a),v.dataset.choiceDisabled="",v.setAttribute("aria-disabled","true")):(v.classList.add(r),v.dataset.choiceSelectable=""),v},input:function(e,t){var n=e.input,i=e.inputCloned,o=Object.assign(document.createElement("input"),{type:"text",className:n+" "+i,autocomplete:"off",autocapitalize:"off",spellcheck:!1});return o.setAttribute("role","textbox"),o.setAttribute("aria-autocomplete","list"),o.setAttribute("aria-label",t),o},dropdown:function(e){var t=e.list,n=e.listDropdown,i=document.createElement("div");return i.classList.add(t,n),i.setAttribute("aria-expanded","false"),i},notice:function(e,t,n){var i=e.item,o=e.itemChoice,r=e.noResults,s=e.noChoices;void 0===n&&(n="");var a=[i,o];return"no-choices"===n?a.push(s):"no-results"===n&&a.push(r),Object.assign(document.createElement("div"),{innerHTML:t,className:a.join(" ")})},option:function(e){var t=e.label,n=e.value,i=e.customProperties,o=e.active,r=e.disabled,s=new Option(t,n,!1,o);return i&&(s.dataset.customProperties=i),s.disabled=r,s}},we=function(e){return void 0===e&&(e=!0),{type:G,active:e}},Ee=function(e,t){return{type:$,id:e,highlighted:t}},Ce=function(e){var t=e.value,n=e.id,i=e.active,o=e.disabled;return{type:X,value:t,id:n,active:i,disabled:o}},Se=function(e){return{type:"SET_IS_LOADING",isLoading:e}};function Te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ie="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,xe={},Oe=function(){var e,t,n;function i(e,t){var n=this;void 0===e&&(e="[data-choice]"),void 0===t&&(t={}),this.config=s.a.all([D,i.defaults.options,t],{arrayMerge:function(e,t){return[].concat(t)}});var o=x(this.config,D);o.length&&console.warn("Unknown config option(s) passed",o.join(", "));var r="string"==typeof e?document.querySelector(e):e;if(!(r instanceof HTMLInputElement||r instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=r.type===ae,this._isSelectOneElement=r.type===ce,this._isSelectMultipleElement=r.type===le,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes(this.config.renderSelectedChoices)||(this.config.renderSelectedChoices="auto"),t.addItemFilter&&"function"!=typeof t.addItemFilter){var a=t.addItemFilter instanceof RegExp?t.addItemFilter:new RegExp(t.addItemFilter);this.config.addItemFilter=a.test.bind(a)}if(this._isTextElement?this.passedElement=new ve({element:r,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new be({element:r,classNames:this.config.classNames,template:function(e){return n._templates.option(e)}}),this.initialised=!1,this._store=new M,this._initialState={},this._currentState={},this._prevState={},this._currentValue="",this._canSearch=this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=_(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var c=window.getComputedStyle(this.passedElement.element).direction;c!==window.getComputedStyle(document.documentElement).direction&&(this._direction=c)}if(this._idNames={itemChoice:"item-choice"},this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options,this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&(this._presetItems=this._presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.passedElement.options&&this.passedElement.options.forEach(function(e){n._presetChoices.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:e.getAttribute("data-custom-properties")})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onAKey=this._onAKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised"),void(this.initialised=!0);this.init()}e=i,n=[{key:"defaults",get:function(){return Object.preventExtensions({get options(){return xe},get templates(){return _e}})}}],(t=null)&&Te(e.prototype,t),n&&Te(e,n);var r=i.prototype;return r.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._initialState=I(this._store.state),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;var e=this.config.callbackOnInit;e&&"function"==typeof e&&e.call(this)}},r.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=null,this.initialised=!1)},r.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},r.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},r.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e)return this;var n=e.id,i=e.groupId,o=void 0===i?-1:i,r=e.value,s=void 0===r?"":r,a=e.label,c=void 0===a?"":a,l=o>=0?this._store.getGroupById(o):null;return this._store.dispatch(Ee(n,!0)),t&&this.passedElement.triggerEvent(V,{id:n,value:s,label:c,groupValue:l&&l.value?l.value:null}),this},r.unhighlightItem=function(e){if(!e)return this;var t=e.id,n=e.groupId,i=void 0===n?-1:n,o=e.value,r=void 0===o?"":o,s=e.label,a=void 0===s?"":s,c=i>=0?this._store.getGroupById(i):null;return this._store.dispatch(Ee(t,!1)),this.passedElement.triggerEvent(V,{id:t,value:r,label:a,groupValue:c&&c.value?c.value:null}),this},r.highlightAll=function(){var e=this;return this._store.items.forEach(function(t){return e.highlightItem(t)}),this},r.unhighlightAll=function(){var e=this;return this._store.items.forEach(function(t){return e.unhighlightItem(t)}),this},r.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter(function(t){return t.value===e}).forEach(function(e){return t._removeItem(e)}),this},r.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter(function(t){return t.id!==e}).forEach(function(e){return t._removeItem(e)}),this},r.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.highlightedActiveItems.forEach(function(n){t._removeItem(n),e&&t._triggerChange(n.value)}),this},r.showDropdown=function(e){var t=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(j,{})}),this)},r.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(F,{})}),this):this},r.getValue=function(e){void 0===e&&(e=!1);var t=this._store.activeItems.reduce(function(t,n){var i=e?n.value:n;return t.push(i),t},[]);return this._isSelectOneElement?t[0]:t},r.setValue=function(e){var t=this;return this.initialised?(e.forEach(function(e){return t._setChoiceOrItem(e)}),this):this},r.setChoiceByValue=function(e){var t=this;return!this.initialised||this._isTextElement?this:((Array.isArray(e)?e:[e]).forEach(function(e){return t._findAndSelectChoiceByValue(e)}),this)},r.setChoices=function(e,t,n,i){var o=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===n&&(n="label"),void 0===i&&(i=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(i&&this.clearChoices(),"function"==typeof e){var r=e(this);if("function"==typeof Promise&&r instanceof Promise)return new Promise(function(e){return requestAnimationFrame(e)}).then(function(){return o._handleLoadingState(!0)}).then(function(){return r}).then(function(e){return o.setChoices(e,t,n,i)}).catch(function(e){o.config.silent||console.error(e)}).then(function(){return o._handleLoadingState(!1)}).then(function(){return o});if(!Array.isArray(r))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: "+typeof r);return this.setChoices(r,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach(function(e){e.choices?o._addGroup({id:parseInt(e.id,10)||null,group:e,valueKey:t,labelKey:n}):o._addChoice({value:e[t],label:e[n],isSelected:e.selected,isDisabled:e.disabled,customProperties:e.customProperties,placeholder:e.placeholder})}),this._stopLoading(),this},r.clearChoices=function(){return this._store.dispatch({type:K}),this},r.clearStore=function(){return this._store.dispatch({type:"CLEAR_ALL"}),this},r.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch(we(!0))),this},r._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,n=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),n&&this._renderItems(),this._prevState=this._currentState)}},r._renderChoices=function(){var e=this,t=this._store,n=t.activeGroups,i=t.activeChoices,o=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),n.length>=1&&!this._isSearching){var r=i.filter(function(e){return!0===e.placeholder&&-1===e.groupId});r.length>=1&&(o=this._createChoicesFragment(r,o)),o=this._createGroupsFragment(n,i,o)}else i.length>=1&&(o=this._createChoicesFragment(i,o));if(o.childNodes&&o.childNodes.length>0){var s=this._store.activeItems,a=this._canAddItem(s,this.input.value);a.response?(this.choiceList.append(o),this._highlightChoice()):this.choiceList.append(this._getTemplate("notice",a.notice))}else{var c,l;this._isSearching?(l="function"==typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,c=this._getTemplate("notice",l,"no-results")):(l="function"==typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,c=this._getTemplate("notice",l,"no-choices")),this.choiceList.append(c)}},r._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},r._createGroupsFragment=function(e,t,n){var i=this;return void 0===n&&(n=document.createDocumentFragment()),this.config.shouldSort&&e.sort(this.config.sorter),e.forEach(function(e){var o=function(e){return t.filter(function(t){return i._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===i.config.renderSelectedChoices||!t.selected)})}(e);if(o.length>=1){var r=i._getTemplate("choiceGroup",e);n.appendChild(r),i._createChoicesFragment(o,n,!0)}}),n},r._createChoicesFragment=function(e,t,n){var i=this;void 0===t&&(t=document.createDocumentFragment()),void 0===n&&(n=!1);var o=this.config,r=o.renderSelectedChoices,s=o.searchResultLimit,a=o.renderChoiceLimit,c=this._isSearching?T:this.config.sorter,l=function(e){if("auto"!==r||i._isSelectOneElement||!e.selected){var n=i._getTemplate("choice",e,i.config.itemSelectText);t.appendChild(n)}},u=e;"auto"!==r||this._isSelectOneElement||(u=e.filter(function(e){return!e.selected}));var h=u.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),d=h.placeholderChoices,p=h.normalChoices;(this.config.shouldSort||this._isSearching)&&p.sort(c);var f=u.length,m=this._isSelectOneElement?[].concat(d,p):p;this._isSearching?f=s:a&&a>0&&!n&&(f=a);for(var g=0;g<f;g+=1)m[g]&&l(m[g]);return t},r._createItemsFragment=function(e,t){var n=this;void 0===t&&(t=document.createDocumentFragment());var i=this.config,o=i.shouldSortItems,r=i.sorter,s=i.removeItemButton;return o&&!this._isSelectOneElement&&e.sort(r),this._isTextElement?this.passedElement.value=e:this.passedElement.options=e,e.forEach(function(e){var i=n._getTemplate("item",e,s);t.appendChild(i)}),t},r._triggerChange=function(e){null!=e&&this.passedElement.triggerEvent(N,{value:e})},r._selectPlaceholderChoice=function(){var e=this._store.placeholderChoice;e&&(this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value))},r._handleButtonAction=function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var n=t.parentNode.getAttribute("data-id"),i=e.find(function(e){return e.id===parseInt(n,10)});this._removeItem(i),this._triggerChange(i.value),this._isSelectOneElement&&this._selectPlaceholderChoice()}},r._handleItemAction=function(e,t,n){var i=this;if(void 0===n&&(n=!1),e&&t&&this.config.removeItems&&!this._isSelectOneElement){var o=t.getAttribute("data-id");e.forEach(function(e){e.id!==parseInt(o,10)||e.highlighted?!n&&e.highlighted&&i.unhighlightItem(e):i.highlightItem(e)}),this.input.focus()}},r._handleChoiceAction=function(e,t){if(e&&t){var n=t.dataset.id,i=this._store.getChoiceById(n);if(i){var o=e[0]&&e[0].keyCode?e[0].keyCode:null,r=this.dropdown.isActive;i.keyCode=o,this.passedElement.triggerEvent(B,{choice:i}),i.selected||i.disabled||this._canAddItem(e,i.value).response&&(this._addItem({value:i.value,label:i.label,choiceId:i.id,groupId:i.groupId,customProperties:i.customProperties,placeholder:i.placeholder,keyCode:i.keyCode}),this._triggerChange(i.value)),this.clearInput(),r&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},r._handleBackspace=function(e){if(this.config.removeItems&&e){var t=e[e.length-1],n=e.some(function(e){return e.highlighted});this.config.editItems&&!n&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},r._startLoading=function(){this._store.dispatch(Se(!0))},r._stopLoading=function(){this._store.dispatch(Se(!1))},r._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.getChild("."+this.config.classNames.placeholder);e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.append(t)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t.innerHTML=this._placeholderValue||"":this.input.placeholder=this._placeholderValue||"")},r._handleSearch=function(e){if(e&&this.input.isFocussed){var t=this._store.choices,n=this.config,i=n.searchFloor,o=n.searchChoices,r=t.some(function(e){return!e.active});if(e&&e.length>=i){var s=o?this._searchChoices(e):0;this.passedElement.triggerEvent(H,{value:e,resultCount:s})}else r&&(this._isSearching=!1,this._store.dispatch(we(!0)))}},r._canAddItem=function(e,t){var n=!0,i="function"==typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var o=function(e,t,n){return void 0===n&&(n="value"),e.some(function(e){return"string"==typeof t?e[n]===t.trim():e[n]===t})}(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,i="function"==typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&o&&n&&(n=!1,i="function"==typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&n&&"function"==typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(n=!1,i="function"==typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:n,notice:i}},r._searchChoices=function(e){var t="string"==typeof e?e.trim():e,n="string"==typeof this._currentValue?this._currentValue.trim():this._currentValue;if(t.length<1&&t===n+" ")return 0;var i=this._store.searchableChoices,r=t,s=[].concat(this.config.searchFields),a=Object.assign(this.config.fuseOptions,{keys:s}),c=new o.a(i,a).search(r);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch(function(e){return{type:W,results:e}}(c)),c.length},r._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},r._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},r._onKeyDown=function(e){var t,n=e.target,i=e.keyCode,o=e.ctrlKey,r=e.metaKey,s=this._store.activeItems,a=this.input.isFocussed,c=this.dropdown.isActive,l=this.itemList.hasChildren(),u=String.fromCharCode(i),h=J,d=Q,p=ee,f=te,m=ne,g=ie,v=oe,y=re,b=se,_=o||r;!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(u)&&this.showDropdown();var w=((t={})[f]=this._onAKey,t[p]=this._onEnterKey,t[m]=this._onEscapeKey,t[g]=this._onDirectionKey,t[y]=this._onDirectionKey,t[v]=this._onDirectionKey,t[b]=this._onDirectionKey,t[d]=this._onDeleteKey,t[h]=this._onDeleteKey,t);w[i]&&w[i]({event:e,target:n,keyCode:i,metaKey:r,activeItems:s,hasFocusedInput:a,hasActiveDropdown:c,hasItems:l,hasCtrlDownKeyPressed:_})},r._onKeyUp=function(e){var t=e.target,n=e.keyCode,i=this.input.value,o=this._store.activeItems,r=this._canAddItem(o,i),s=J,a=Q;if(this._isTextElement)if(r.notice&&i){var c=this._getTemplate("notice",r.notice);this.dropdown.element.innerHTML=c.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0);else{var l=(n===s||n===a)&&!t.value,u=!this._isTextElement&&this._isSearching,h=this._canSearch&&r.response;l&&u?(this._isSearching=!1,this._store.dispatch(we(!0))):h&&this._handleSearch(this.input.value)}this._canSearch=this.config.searchEnabled},r._onAKey=function(e){var t=e.hasItems;e.hasCtrlDownKeyPressed&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},r._onEnterKey=function(e){var t=e.event,n=e.target,i=e.activeItems,o=e.hasActiveDropdown,r=ee,s=n.hasAttribute("data-button");if(this._isTextElement&&n.value){var a=this.input.value;this._canAddItem(i,a).response&&(this.hideDropdown(!0),this._addItem({value:a}),this._triggerChange(a),this.clearInput())}if(s&&(this._handleButtonAction(i,n),t.preventDefault()),o){var c=this.dropdown.getChild("."+this.config.classNames.highlightedState);c&&(i[0]&&(i[0].keyCode=r),this._handleChoiceAction(i,c)),t.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),t.preventDefault())},r._onEscapeKey=function(e){e.hasActiveDropdown&&(this.hideDropdown(!0),this.containerOuter.focus())},r._onDirectionKey=function(e){var t,n,i,o=e.event,r=e.hasActiveDropdown,s=e.keyCode,a=e.metaKey,c=oe,l=re,u=se;if(r||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var h,d=s===c||s===u?1:-1;if(a||s===u||s===l)h=d>0?this.dropdown.element.querySelector("[data-choice-selectable]:last-of-type"):this.dropdown.element.querySelector("[data-choice-selectable]");else{var p=this.dropdown.element.querySelector("."+this.config.classNames.highlightedState);h=p?function(e,t,n){if(void 0===n&&(n=1),e instanceof Element&&"string"==typeof t){for(var i=(n>0?"next":"previous")+"ElementSibling",o=e[i];o;){if(o.matches(t))return o;o=o[i]}return o}}(p,"[data-choice-selectable]",d):this.dropdown.element.querySelector("[data-choice-selectable]")}h&&(t=h,n=this.choiceList.element,void 0===(i=d)&&(i=1),t&&(i>0?n.scrollTop+n.offsetHeight>=t.offsetTop+t.offsetHeight:t.offsetTop>=n.scrollTop)||this.choiceList.scrollToChildElement(h,d),this._highlightChoice(h)),o.preventDefault()}},r._onDeleteKey=function(e){var t=e.event,n=e.target,i=e.hasFocusedInput,o=e.activeItems;!i||n.value||this._isSelectOneElement||(this._handleBackspace(o),t.preventDefault())},r._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},r._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()),this._wasTap=!0},r._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(Ie&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild,i="ltr"===this._direction?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft;this._isScrollingOnIe=i}if(t!==this.input.element){var o=t.closest("[data-button],[data-item],[data-choice]");if(o instanceof HTMLElement){var r=e.shiftKey,s=this._store.activeItems,a=o.dataset;"button"in a?this._handleButtonAction(s,o):"item"in a?this._handleItemAction(s,o,r):"choice"in a&&this._handleChoiceAction(s,o)}e.preventDefault()}}},r._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},r._onClick=function(e){var t=e.target;this.containerOuter.element.contains(t)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems.length>0&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))},r._onFocus=function(e){var t,n=this,i=e.target;this.containerOuter.element.contains(i)&&((t={})[ae]=function(){i===n.input.element&&n.containerOuter.addFocusState()},t[ce]=function(){n.containerOuter.addFocusState(),i===n.input.element&&n.showDropdown(!0)},t[le]=function(){i===n.input.element&&(n.showDropdown(!0),n.containerOuter.addFocusState())},t)[this.passedElement.element.type]()},r._onBlur=function(e){var t=this,n=e.target;if(this.containerOuter.element.contains(n)&&!this._isScrollingOnIe){var i,o=this._store.activeItems.some(function(e){return e.highlighted});((i={})[ae]=function(){n===t.input.element&&(t.containerOuter.removeFocusState(),o&&t.unhighlightAll(),t.hideDropdown(!0))},i[ce]=function(){t.containerOuter.removeFocusState(),(n===t.input.element||n===t.containerOuter.element&&!t._canSearch)&&t.hideDropdown(!0)},i[le]=function(){n===t.input.element&&(t.containerOuter.removeFocusState(),t.hideDropdown(!0),o&&t.unhighlightAll())},i)[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},r._onFormReset=function(){this._store.dispatch({type:"RESET_TO",state:this._initialState})},r._highlightChoice=function(e){var t=this;void 0===e&&(e=null);var n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(n.length){var i=e;Array.from(this.dropdown.element.querySelectorAll("."+this.config.classNames.highlightedState)).forEach(function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")}),i?this._highlightPosition=n.indexOf(i):(i=n.length>this._highlightPosition?n[this._highlightPosition]:n[n.length-1])||(i=n[0]),i.classList.add(this.config.classNames.highlightedState),i.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(U,{el:i}),this.dropdown.isActive&&(this.input.setActiveDescendant(i.id),this.containerOuter.setActiveDescendant(i.id))}},r._addItem=function(e){var t=e.value,n=e.label,i=void 0===n?null:n,o=e.choiceId,r=void 0===o?-1:o,s=e.groupId,a=void 0===s?-1:s,c=e.customProperties,l=void 0===c?null:c,u=e.placeholder,h=void 0!==u&&u,d=e.keyCode,p=void 0===d?null:d,f="string"==typeof t?t.trim():t,m=p,g=l,v=this._store.items,y=i||f,b=r||-1,_=a>=0?this._store.getGroupById(a):null,w=v?v.length+1:1;return this.config.prependValue&&(f=this.config.prependValue+f.toString()),this.config.appendValue&&(f+=this.config.appendValue.toString()),this._store.dispatch(function(e){var t=e.value,n=e.label,i=e.id,o=e.choiceId,r=e.groupId,s=e.customProperties,a=e.placeholder,c=e.keyCode;return{type:Z,value:t,label:n,id:i,choiceId:o,groupId:r,customProperties:s,placeholder:a,keyCode:c}}({value:f,label:y,id:w,choiceId:b,groupId:a,customProperties:l,placeholder:h,keyCode:m})),this._isSelectOneElement&&this.removeActiveItems(w),this.passedElement.triggerEvent(R,{id:w,value:f,label:y,customProperties:g,groupValue:_&&_.value?_.value:void 0,keyCode:m}),this},r._removeItem=function(e){if(!e||!E("Object",e))return this;var t=e.id,n=e.value,i=e.label,o=e.choiceId,r=e.groupId,s=r>=0?this._store.getGroupById(r):null;return this._store.dispatch(function(e,t){return{type:Y,id:e,choiceId:t}}(t,o)),s&&s.value?this.passedElement.triggerEvent(z,{id:t,value:n,label:i,groupValue:s.value}):this.passedElement.triggerEvent(z,{id:t,value:n,label:i}),this},r._addChoice=function(e){var t=e.value,n=e.label,i=void 0===n?null:n,o=e.isSelected,r=void 0!==o&&o,s=e.isDisabled,a=void 0!==s&&s,c=e.groupId,l=void 0===c?-1:c,u=e.customProperties,h=void 0===u?null:u,d=e.placeholder,p=void 0!==d&&d,f=e.keyCode,m=void 0===f?null:f;if(null!=t){var g=this._store.choices,v=i||t,y=g?g.length+1:1,b=this._baseId+"-"+this._idNames.itemChoice+"-"+y;this._store.dispatch(function(e){var t=e.value,n=e.label,i=e.id,o=e.groupId,r=e.disabled,s=e.elementId,a=e.customProperties,c=e.placeholder,l=e.keyCode;return{type:q,value:t,label:n,id:i,groupId:o,disabled:r,elementId:s,customProperties:a,placeholder:c,keyCode:l}}({id:y,groupId:l,elementId:b,value:t,label:v,disabled:a,customProperties:h,placeholder:p,keyCode:m})),r&&this._addItem({value:t,label:v,choiceId:y,customProperties:h,placeholder:p,keyCode:m})}},r._addGroup=function(e){var t=this,n=e.group,i=e.id,o=e.valueKey,r=void 0===o?"value":o,s=e.labelKey,a=void 0===s?"label":s,c=E("Object",n)?n.choices:Array.from(n.getElementsByTagName("OPTION")),l=i||Math.floor((new Date).valueOf()*Math.random()),u=!!n.disabled&&n.disabled;c?(this._store.dispatch(Ce({value:n.label,id:l,active:!0,disabled:u})),c.forEach(function(e){var n=e.disabled||e.parentNode&&e.parentNode.disabled;t._addChoice({value:e[r],label:E("Object",e)?e[a]:e.innerHTML,isSelected:e.selected,isDisabled:n,groupId:l,customProperties:e.customProperties,placeholder:e.placeholder})})):this._store.dispatch(Ce({value:n.label,id:n.id,active:!1,disabled:n.disabled}))},r._getTemplate=function(e){var t;if(!e)return null;for(var n=this.config.classNames,i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return(t=this._templates[e]).call.apply(t,[this,n].concat(o))},r._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&"function"==typeof e&&(t=e.call(this,S)),this._templates=s()(_e,t)},r._createElements=function(){this.containerOuter=new ue({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new ue({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new de({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new pe({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new pe({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new P({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},r._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},r._addPredefinedGroups=function(e){var t=this,n=this.passedElement.placeholderOption;n&&"SELECT"===n.parentNode.tagName&&this._addChoice({value:n.value,label:n.innerHTML,isSelected:n.selected,isDisabled:n.disabled,placeholder:!0}),e.forEach(function(e){return t._addGroup({group:e,id:e.id||null})})},r._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var n=e.some(function(e){return e.selected}),i=e.findIndex(function(e){return void 0===e.disabled||!e.disabled});e.forEach(function(e,o){var r=e.value,s=e.label,a=e.customProperties,c=e.placeholder;if(t._isSelectElement)if(e.choices)t._addGroup({group:e,id:e.id||null});else{var l=!(!t._isSelectOneElement||n||o!==i)||e.selected,u=e.disabled;t._addChoice({value:r,label:s,isSelected:l,isDisabled:u,customProperties:a,placeholder:c})}else t._addChoice({value:r,label:s,isSelected:e.selected,isDisabled:e.disabled,customProperties:a,placeholder:c})})},r._addPredefinedItems=function(e){var t=this;e.forEach(function(e){"object"==typeof e&&e.value&&t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"==typeof e&&t._addItem({value:e})})},r._setChoiceOrItem=function(e){var t=this;({object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}})[w(e).toLowerCase()]()},r._findAndSelectChoiceByValue=function(e){var t=this,n=this._store.choices.find(function(n){return t.config.valueComparer(n.value,e)});n&&!n.selected&&this._addItem({value:n.value,label:n.label,choiceId:n.id,groupId:n.groupId,customProperties:n.customProperties,placeholder:n.placeholder,keyCode:n.keyCode})},r._generatePlaceholderValue=function(){if(this._isSelectElement){var e=this.passedElement.placeholderOption;return!!e&&e.text}var t=this.config,n=t.placeholder,i=t.placeholderValue,o=this.passedElement.element.dataset;if(n){if(i)return i;if(o.placeholder)return o.placeholder}return!1},i}();t.default=Oe}]).default},e.exports=i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(){function e(e){this._configPath="./data/config/settings.json",this._definitionsPath="./data/config/definitions.json",this.init(e)}return e.prototype.init=function(e){var t=this;i.get(this._configPath).then(function(n,o){t.config=o.settings,i.get(t._definitionsPath).then(function(n,i){t.definitions=i.definitions,e&&e()})})},e}();t.Config=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on "+t,n)},e.removeEventHandler=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},e}();t.Events=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.bindButton=function(e,t,n){var i=document.createElement("div"),o=document.createElement("button"),r=document.createElement("div");return o.style.backgroundColor="#FFF",o.style.border="none",o.style.borderRadius="2px",o.style.boxShadow="0 1px 4px rgba(0,0,0,0.3)",o.style.cursor="pointer",o.style.height=n.ctrlPosition===google.maps.ControlPosition.RIGHT_TOP?"40px":"28px",o.style.marginTop="10px",o.style.marginLeft="10px",o.style.marginRight="10px",o.style.outline="none",o.style.padding="0px",o.style.width=n.ctrlPosition===google.maps.ControlPosition.RIGHT_TOP?"40px":"28px",o.title=n.title,i.appendChild(o),r.id=n.ctrlChildId?n.ctrlChildId:"ctrl-child-"+Math.floor(1e3*Math.random()),r.className="ctrl-child",r.style.backgroundImage="url("+n.imagePath+")",r.style.backgroundPosition=n.defaultCtrlChildBgPos?n.defaultCtrlChildBgPos:"0 0",r.style.backgroundRepeat="no-repeat",r.style.backgroundSize=n.defaultCtrlChildBgSize?n.defaultCtrlChildBgSize:"100%",r.style.height=n.ctrlPosition===google.maps.ControlPosition.RIGHT_TOP?"30px":"18px",r.style.margin="5px",r.style.width=n.ctrlPosition===google.maps.ControlPosition.RIGHT_TOP?"30px":"18px",o.appendChild(r),o.addEventListener("click",t),e.controls[n.ctrlPosition].push(i),i},e}();t.GmapUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.build=function(e,t){var n=document.querySelector(t||'[data-role="permalink"]'),i=location.href.replace(/#.*$/,""),o="";for(var r in e)if(e.hasOwnProperty(r)){var s=e[r];s&&(o+=(o?"&":"#")+r+"="+s)}n.value=i+o},e}();t.Permalink=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.normalizeString=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()},e.containsString=function(t,n){return e.normalizeString(t).includes(n)},e.arrayContainsString=function(t,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(e.containsString(t,r))return!0}return!1},e.replaceAcronyms=function(e,t){var n=Object.keys(t).map(function(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}).join("|");return e.replace(new RegExp("("+n+")\\b","g"),function(e){return'<abbr data-tippy-content="'+t[e]+'">'+e+"</abbr>"})},e}();t.StringUtilsHelper=i},function(e,t,n){"use strict";n.r(t);var i=n(1);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var r="5.1.1";function s(e,t){e.innerHTML=t}function a(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function c(e,t){return{}.hasOwnProperty.call(e,t)}function l(e){return p(e)?[e]:function(e){return d(e,"NodeList")}(e)?C(e):Array.isArray(e)?e:C(document.querySelectorAll(e))}function u(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function h(e,t){return e&&e.modifiers&&e.modifiers[t]}function d(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function p(e){return d(e,"Element")}function f(e){return d(e,"MouseEvent")}function m(e,t){return"function"==typeof e?e.apply(void 0,t):e}function g(e,t,n,i){e.filter(function(e){return e.name===t})[0][n]=i}function v(){return document.createElement("div")}function y(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function b(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function _(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)};var n}function w(e,t,n){e&&e!==t&&e.apply(void 0,n)}function E(e,t){var n=o({},e);return t.forEach(function(e){delete n[e]}),n}function C(e){return[].slice.call(e)}function S(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}function T(e,t){return e.indexOf(t)>-1}function I(e){return e.split(/\s+/).filter(Boolean)}function x(e,t){return void 0!==e?e:t}function O(e){return[].concat(e)}function L(e){var t=O(e)[0];return t&&t.ownerDocument||document}function k(e,t){-1===e.indexOf(t)&&e.push(t)}function M(e){return"number"==typeof e?e:parseFloat(e)}function A(e,t,n){void 0===t&&(t=5);var i={top:0,right:0,bottom:0,left:0};return Object.keys(i).reduce(function(i,o){return i[o]="number"==typeof t?t:t[o],e===o&&(i[o]="number"==typeof t?t+n:t[e]+n),i},i)}var P={allowHTML:!0,animateFill:!1,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inlinePositioning:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,sticky:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},D=Object.keys(P),j=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],F=function(e){Object.keys(e).forEach(function(t){P[t]=e[t]})};function N(e){return o({},e,{},e.plugins.reduce(function(t,n){var i=n.name,o=n.defaultValue;return i&&(t[i]=void 0!==e[i]?e[i]:o),t},{}))}function B(e,t){var n=o({},t,{content:m(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(N(o({},P,{plugins:t}))):D).reduce(function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t},{})}(e,t.plugins));return n.interactive&&(n.aria=null),n}var H={passive:!0},R="tippy-iOS",z="tippy-popper",V="tippy-tooltip",U="tippy-content",q="tippy-backdrop",W="tippy-arrow",G="tippy-svg-arrow",K="."+z,X="."+V,Z="."+U,Y="."+W,$="."+G,J={isTouch:!1},Q=0;function ee(){J.isTouch||(J.isTouch=!0,window.performance&&document.addEventListener("mousemove",te))}function te(){var e=performance.now();e-Q<20&&(J.isTouch=!1,document.removeEventListener("mousemove",te)),Q=e}function ne(){var e=document.activeElement;if(a(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var ie="undefined"!=typeof window&&"undefined"!=typeof document,oe=ie?navigator.userAgent:"",re=/MSIE |Trident\//.test(oe),se=/UCBrowser\//.test(oe),ae=ie&&/iPhone|iPad|iPod/.test(navigator.platform);function ce(e){var t=e&&ae&&J.isTouch;document.body.classList[t?"add":"remove"](R)}function le(e){return e.split("-")[0]}function ue(e){e.setAttribute("data-inertia","")}function he(e){e.setAttribute("data-interactive","")}function de(e,t){if(p(t.content))s(e,""),e.appendChild(t.content);else if("function"!=typeof t.content){e[t.allowHTML?"innerHTML":"textContent"]=t.content}}function pe(e){return{tooltip:e.querySelector(X),content:e.querySelector(Z),arrow:e.querySelector(Y)||e.querySelector($)}}function fe(e){var t=v();return!0===e?t.className=W:(t.className=G,p(e)?t.appendChild(e):s(t,e)),t}function me(e,t,n){var i,o=pe(e),r=o.tooltip,s=o.content,a=o.arrow;e.style.zIndex=""+n.zIndex,r.setAttribute("data-animation",n.animation),r.style.maxWidth="number"==typeof(i=n.maxWidth)?i+"px":i,n.role?r.setAttribute("role",n.role):r.removeAttribute("role"),t.content!==n.content&&de(s,n),!t.arrow&&n.arrow?(r.appendChild(fe(n.arrow)),r.setAttribute("data-arrow","")):t.arrow&&!n.arrow?(r.removeChild(a),r.removeAttribute("data-arrow")):t.arrow!==n.arrow&&(r.removeChild(a),r.appendChild(fe(n.arrow))),!t.interactive&&n.interactive?he(r):t.interactive&&!n.interactive&&function(e){e.removeAttribute("data-interactive")}(r),!t.inertia&&n.inertia?ue(r):t.inertia&&!n.inertia&&function(e){e.removeAttribute("data-inertia")}(r),t.theme!==n.theme&&(ve(r,"remove",t.theme),ve(r,"add",n.theme))}function ge(e,t,n){var i=se&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](i,n)}function ve(e,t,n){I(n).forEach(function(n){e.classList[t](n+"-theme")})}var ye=1,be=[],_e=[];function we(e,t){var n,r,s,a=N(B(e,t));if(!a.multiple&&e._tippy)return null;var l,d,p,E,D,F=!1,R=!1,q=0,W=[],G=_(je,a.interactiveDebounce),X=L(a.triggerTarget||e),Z=ye++,Y=function(e,t){var n=v();n.className=z,n.style.position="absolute",n.style.top="0",n.style.left="0";var i=v();i.className=V,i.id="tippy-"+e,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1"),ve(i,"add",t.theme);var o=v();return o.className=U,o.setAttribute("data-state","hidden"),t.interactive&&he(i),t.arrow&&(i.setAttribute("data-arrow",""),i.appendChild(fe(t.arrow))),t.inertia&&ue(i),de(o,t),i.appendChild(o),n.appendChild(i),me(n,t,t),n}(Z,a),$=pe(Y),Q=(D=a.plugins).filter(function(e,t){return D.indexOf(e)===t}),ee=$.tooltip,te=$.content,ne=[ee,te],ie={id:Z,reference:e,popper:Y,popperChildren:$,popperInstance:null,props:a,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:Q,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(s)},setProps:function(t){0;if(ie.state.isDestroyed)return;0;Ce("onBeforeUpdate",[ie,t]),Pe();var n=ie.props,i=B(e,o({},ie.props,{},t,{ignoreAttributes:!0}));i.ignoreAttributes=x(t.ignoreAttributes,n.ignoreAttributes),ie.props=i,Ae(),n.interactiveDebounce!==i.interactiveDebounce&&(Ie(),G=_(je,i.interactiveDebounce));me(Y,n,i),ie.popperChildren=pe(Y),n.triggerTarget&&!i.triggerTarget?O(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):i.triggerTarget&&e.removeAttribute("aria-expanded");Te(),ie.popperInstance&&(j.some(function(e){return c(t,e)&&t[e]!==n[e]})?(ie.popperInstance.destroy(),He(),ie.state.isVisible&&ie.popperInstance.enableEventListeners()):ie.popperInstance.update());Ce("onAfterUpdate",[ie,t])},setContent:function(e){ie.setProps({content:e})},show:function(e){void 0===e&&(e=u(ie.props.duration,0,P.duration));0;var t=ie.state.isVisible,n=ie.state.isDestroyed,i=!ie.state.isEnabled,o=J.isTouch&&!ie.props.touch;if(t||n||i||o)return;if(we().hasAttribute("disabled"))return;ie.popperInstance||He();if(Ce("onShow",[ie],!1),!1===ie.props.onShow(ie))return;Oe(),Y.style.visibility="visible",ie.state.isVisible=!0,ie.state.isMounted||y(ne.concat(Y),0);d=function(){ie.state.isVisible&&(y([Y],ie.props.updateDuration),y(ne,e),b(ne,"visible"),Se(),Te(),k(_e,ie),ce(!0),ie.state.isMounted=!0,Ce("onMount",[ie]),function(e,t){ke(e,t)}(e,function(){ie.state.isShown=!0,Ce("onShown",[ie])}))},function(){q=0;var e,t=ie.props.appendTo,n=we();e=ie.props.interactive&&t===P.appendTo||"parent"===t?n.parentNode:m(t,[n]);e.contains(Y)||e.appendChild(Y);0;g(ie.popperInstance.modifiers,"flip","enabled",ie.props.flip),ie.popperInstance.enableEventListeners(),ie.popperInstance.update()}()},hide:function(e){void 0===e&&(e=u(ie.props.duration,1,P.duration));0;var t=!ie.state.isVisible&&!F,n=ie.state.isDestroyed,i=!ie.state.isEnabled&&!F;if(t||n||i)return;if(Ce("onHide",[ie],!1),!1===ie.props.onHide(ie)&&!F)return;Le(),Y.style.visibility="hidden",ie.state.isVisible=!1,ie.state.isShown=!1,y(ne,e),b(ne,"hidden"),Se(),Te(),function(e,t){ke(e,function(){!ie.state.isVisible&&Y.parentNode&&Y.parentNode.contains(Y)&&t()})}(e,function(){ie.popperInstance.disableEventListeners(),ie.popperInstance.options.placement=ie.props.placement,Y.parentNode.removeChild(Y),0===(_e=_e.filter(function(e){return e!==ie})).length&&ce(!1),ie.state.isMounted=!1,Ce("onHidden",[ie])})},enable:function(){ie.state.isEnabled=!0},disable:function(){ie.hide(),ie.state.isEnabled=!1},destroy:function(){0;if(ie.state.isDestroyed)return;F=!0,ie.clearDelayTimeouts(),ie.hide(0),Pe(),delete e._tippy,ie.popperInstance&&ie.popperInstance.destroy();F=!1,ie.state.isDestroyed=!0,Ce("onDestroy",[ie])}};e._tippy=ie,Y._tippy=ie;var oe=Q.map(function(e){return e.fn(ie)});return Ae(),Te(),a.lazy||He(),Ce("onCreate",[ie]),a.showOnCreate&&ze(),Y.addEventListener("mouseenter",function(){ie.props.interactive&&ie.state.isVisible&&ie.clearDelayTimeouts()}),Y.addEventListener("mouseleave",function(){ie.props.interactive&&T(ie.props.trigger,"mouseenter")&&X.addEventListener("mousemove",G)}),ie;function se(){var e=ie.props.touch;return Array.isArray(e)?e:[e,0]}function ae(){return"hold"===se()[0]}function we(){return E||e}function Ee(e){return ie.state.isMounted&&!ie.state.isVisible||J.isTouch||!l||"focus"===l.type?0:u(ie.props.delay,e?0:1,P.delay)}function Ce(e,t,n){var i;(void 0===n&&(n=!0),oe.forEach(function(n){c(n,e)&&n[e].apply(n,t)}),n)&&(i=ie.props)[e].apply(i,t)}function Se(){var t=ie.props.aria;if(t){var n="aria-"+t,i=ee.id;O(ie.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(ie.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var o=t&&t.replace(i,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}})}}function Te(){O(ie.props.triggerTarget||e).forEach(function(e){ie.props.interactive?e.setAttribute("aria-expanded",ie.state.isVisible&&e===we()?"true":"false"):e.removeAttribute("aria-expanded")})}function Ie(){X.body.removeEventListener("mouseleave",Ve),X.removeEventListener("mousemove",G),be=be.filter(function(e){return e!==G})}function xe(e){if(!ie.props.interactive||!Y.contains(e.target)){if(we().contains(e.target)){if(J.isTouch)return;if(ie.state.isVisible&&T(ie.props.trigger,"click"))return}!0===ie.props.hideOnClick&&(ie.clearDelayTimeouts(),ie.hide(),R=!0,setTimeout(function(){R=!1}),ie.state.isMounted||Le())}}function Oe(){X.addEventListener("mousedown",xe,!0)}function Le(){X.removeEventListener("mousedown",xe,!0)}function ke(e,t){function n(e){e.target===ee&&(ge(ee,"remove",n),t())}if(0===e)return t();ge(ee,"remove",p),ge(ee,"add",n),p=n}function Me(t,n,i){void 0===i&&(i=!1),O(ie.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,i),W.push({node:e,eventType:t,handler:n,options:i})})}function Ae(){ae()&&(Me("touchstart",De,H),Me("touchend",Fe,H)),I(ie.props.trigger).forEach(function(e){if("manual"!==e)switch(Me(e,De),e){case"mouseenter":Me("mouseleave",Fe);break;case"focus":Me(re?"focusout":"blur",Ne)}})}function Pe(){W.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,o=e.options;t.removeEventListener(n,i,o)}),W=[]}function De(e){if(ie.state.isEnabled&&!Be(e)&&!R)if(l=e,E=e.currentTarget,Te(),!ie.state.isVisible&&f(e)&&be.forEach(function(t){return t(e)}),"click"===e.type&&!1!==ie.props.hideOnClick&&ie.state.isVisible)Ve(e);else{var t=se(),i=t[0],o=t[1];J.isTouch&&"hold"===i&&o?n=setTimeout(function(){ze(e)},o):ze(e)}}function je(t){S(t.target,function(t){return t===e||t===Y})||function(e,t){var n=t.clientX,i=t.clientY;return e.every(function(e){var t=e.popperRect,o=e.tooltipRect,r=e.interactiveBorder,s=Math.min(t.top,o.top),a=Math.max(t.right,o.right),c=Math.max(t.bottom,o.bottom),l=Math.min(t.left,o.left);return s-i>r||i-c>r||l-n>r||n-a>r})}(C(Y.querySelectorAll(K)).concat(Y).map(function(e){var t=e._tippy,n=t.popperChildren.tooltip,i=t.props.interactiveBorder;return{popperRect:e.getBoundingClientRect(),tooltipRect:n.getBoundingClientRect(),interactiveBorder:i}}),t)&&(Ie(),Ve(t))}function Fe(e){if(!Be(e))return ie.props.interactive?(X.body.addEventListener("mouseleave",Ve),X.addEventListener("mousemove",G),void k(be,G)):void Ve(e)}function Ne(e){e.target===we()&&(ie.props.interactive&&e.relatedTarget&&Y.contains(e.relatedTarget)||Ve(e))}function Be(e){var t="ontouchstart"in window,n=T(e.type,"touch"),i=ae();return t&&J.isTouch&&i&&!n||J.isTouch&&!i&&n}function He(){var t,n=ie.props.popperOptions,r=ie.popperChildren.arrow,s=h(n,"flip"),a=h(n,"preventOverflow");function c(e){var n=ie.state.currentPlacement;ie.state.currentPlacement=e.placement,ie.props.flip&&!ie.props.flipOnUpdate&&(e.flipped&&(ie.popperInstance.options.placement=e.placement),g(ie.popperInstance.modifiers,"flip","enabled",!1)),ee.setAttribute("data-placement",e.placement),!1!==e.attributes["x-out-of-boundaries"]?ee.setAttribute("data-out-of-boundaries",""):ee.removeAttribute("data-out-of-boundaries");var i=le(e.placement),o=T(["top","bottom"],i),r=T(["bottom","right"],i);ee.style.top="0",ee.style.left="0",ee.style[o?"top":"left"]=(r?1:-1)*t+"px",n&&n!==e.placement&&ie.popperInstance.update()}var l=o({eventsEnabled:!1,placement:ie.props.placement},n,{modifiers:o({},n&&n.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(e){t=function(e,t){var n="string"==typeof t&&T(t,"rem"),i=e.documentElement;return i&&n?parseFloat(getComputedStyle(i).fontSize||String(16))*M(t):M(t)}(X,ie.props.distance);var n=le(e.placement),i=A(n,a&&a.padding,t),o=A(n,s&&s.padding,t),r=ie.popperInstance.modifiers;return g(r,"preventOverflow","padding",i),g(r,"flip","padding",o),e}},preventOverflow:o({boundariesElement:ie.props.boundary},a),flip:o({enabled:ie.props.flip,behavior:ie.props.flipBehavior},s),arrow:o({element:r,enabled:!!r},h(n,"arrow")),offset:o({offset:ie.props.offset},h(n,"offset"))}),onCreate:function(e){c(e),w(n&&n.onCreate,l.onCreate,[e]),Re()},onUpdate:function(e){c(e),w(n&&n.onUpdate,l.onUpdate,[e]),Re()}});ie.popperInstance=new i.a(e,Y,l)}function Re(){0===q?(q++,ie.popperInstance.update()):d&&1===q&&(q++,Y.offsetHeight,d())}function ze(e){ie.clearDelayTimeouts(),ie.popperInstance||He(),e&&Ce("onTrigger",[ie,e]),Oe();var t=Ee(!0);t?n=setTimeout(function(){ie.show()},t):ie.show()}function Ve(e){if(ie.clearDelayTimeouts(),Ce("onUntrigger",[ie,e]),ie.state.isVisible){var t=Ee(!1);t?r=setTimeout(function(){ie.state.isVisible&&ie.hide()},t):s=requestAnimationFrame(function(){ie.hide()})}else Le()}}function Ee(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),n=P.plugins.concat(t.plugins||n),document.addEventListener("touchstart",ee,o({},H,{capture:!0})),window.addEventListener("blur",ne);var i=o({},P,{},t,{plugins:n}),r=l(e).reduce(function(e,t){var n=t&&we(t,i);return n&&e.push(n),e},[]);return p(e)?r[0]:r}Ee.version=r,Ee.defaultProps=P,Ee.setDefaultProps=F,Ee.currentInput=J;var Ce=function(e){var t=void 0===e?{}:e,n=t.exclude,i=t.duration;_e.forEach(function(e){var t=!1;n&&(t=a(n)?e.reference===n:e.popper===n.popper),t||e.hide(i)})};function Se(e){var t=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i=[]),i=n.plugins||i,Ee(t,o({},n,{plugins:[].concat(e,i)}))};return t.version=r,t.defaultProps=P,t.setDefaultProps=F,t.currentInput=J,t}n.d(t,"animateFill",function(){return Oe}),n.d(t,"createSingleton",function(){return Te}),n.d(t,"delegate",function(){return xe}),n.d(t,"followCursor",function(){return Le}),n.d(t,"inlinePositioning",function(){return ke}),n.d(t,"sticky",function(){return Me}),n.d(t,"createTippyWithPlugins",function(){return Se}),n.d(t,"default",function(){return Ee}),n.d(t,"hideAll",function(){return Ce}),n.d(t,"roundArrow",function(){return'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>'});var Te=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),n=t.plugins||n,e.forEach(function(e){e.disable()});var i,r,s=o({},P,{},t).aria,a=!1,c=e.map(function(e){return e.reference}),l={fn:function(t){function n(e){if(i){var n="aria-"+i;e&&!t.props.interactive?r.setAttribute(n,t.popperChildren.tooltip.id):r.removeAttribute(n)}}return{onAfterUpdate:function(e,n){var i=n.aria;void 0!==i&&i!==s&&(a?(a=!0,t.setProps({aria:null}),a=!1):s=i)},onDestroy:function(){e.forEach(function(e){e.enable()})},onMount:function(){n(!0)},onUntrigger:function(){n(!1)},onTrigger:function(o,a){var l=a.currentTarget,u=c.indexOf(l);r=l,i=s,t.state.isVisible&&n(!0),t.popperInstance.reference={referenceNode:l,clientHeight:0,clientWidth:0,getBoundingClientRect:function(){return l.getBoundingClientRect()}},t.setContent(e[u].props.content)}}}};return Ee(v(),o({},t,{plugins:[l].concat(n),aria:null,triggerTarget:c}))},Ie={mouseover:"mouseenter",focusin:"focus",click:"click"};function xe(e,t,n){void 0===n&&(n=[]),n=t.plugins||n;var i=[],r=[],s=t.target,a=E(t,["target"]),c=o({},a,{plugins:n,trigger:"manual"}),l=o({},a,{plugins:n,showOnCreate:!0}),u=Ee(e,c);function h(e){if(e.target){var n=e.target.closest(s);if(n)if(T(n.getAttribute("data-tippy-trigger")||t.trigger||P.trigger,Ie[e.type])){var i=Ee(n,l);i&&(r=r.concat(i))}}}function d(e,t,n,o){void 0===o&&(o=!1),e.addEventListener(t,n,o),i.push({node:e,eventType:t,handler:n,options:o})}return O(u).forEach(function(e){var t=e.destroy;e.destroy=function(e){void 0===e&&(e=!0),e&&r.forEach(function(e){e.destroy()}),r=[],i.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,o=e.options;t.removeEventListener(n,i,o)}),i=[],t()},function(e){var t=e.reference;d(t,"mouseover",h),d(t,"focusin",h),d(t,"click",h)}(e)}),u}var Oe={name:"animateFill",defaultValue:!1,fn:function(e){var t=e.popperChildren,n=t.tooltip,i=t.content,o=e.props.animateFill&&!se?function(){var e=v();return e.className=q,b([e],"hidden"),e}():null;function r(){e.popperChildren.backdrop=o}return{onCreate:function(){o&&(r(),n.insertBefore(o,n.firstElementChild),n.setAttribute("data-animatefill",""),n.style.overflow="hidden",e.setProps({animation:"shift-away",arrow:!1}))},onMount:function(){if(o){var e=n.style.transitionDuration,t=Number(e.replace("ms",""));i.style.transitionDelay=Math.round(t/10)+"ms",o.style.transitionDuration=e,b([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&b([o],"hidden")},onAfterUpdate:function(){r()}}}};var Le={name:"followCursor",defaultValue:!1,fn:function(e){var t,n=e.reference,i=e.popper,o=L(e.props.triggerTarget||n),r=null,s=!1,a=e.props;function c(){return"manual"===e.props.trigger.trim()}function l(){var t=!!c()||null!==r&&!(0===r.clientX&&0===r.clientY);return e.props.followCursor&&t}function u(){return J.isTouch||"initial"===e.props.followCursor&&e.state.isVisible}function h(){e.popperInstance&&(e.popperInstance.reference=n)}function d(){if(l()||e.props.placement!==a.placement){var t=a.placement,n=t.split("-")[1];s=!0,e.setProps({placement:l()&&n?t.replace(n,"start"===n?"end":"start"):t}),s=!1}}function p(){e.popperInstance&&l()&&(u()||!0!==e.props.followCursor)&&e.popperInstance.disableEventListeners()}function m(){l()?o.addEventListener("mousemove",y):h()}function g(){l()&&y(t)}function v(){o.removeEventListener("mousemove",y)}function y(o){var r=t=o,s=r.clientX,a=r.clientY;if(e.popperInstance&&e.state.currentPlacement){var c=S(o.target,function(e){return e===n}),l=n.getBoundingClientRect(),h=e.props.followCursor,d="horizontal"===h,p="vertical"===h,f=T(["top","bottom"],le(e.state.currentPlacement)),m=function(e,t){var n=t?e.offsetWidth:e.offsetHeight;return{size:n,x:t?n:0,y:t?0:n}}(i,f),g=m.size,y=m.x,b=m.y;!c&&e.props.interactive||(e.popperInstance.reference={referenceNode:n,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:f?g:0,height:f?0:g,top:(d?l.top:a)-b,bottom:(d?l.bottom:a)+b,left:(p?l.left:s)-y,right:(p?l.right:s)+y}}},e.popperInstance.update()),u()&&v()}}return{onAfterUpdate:function(e,t){var n;s||(n=t,Object.keys(n).forEach(function(e){a[e]=x(n[e],a[e])}),t.placement&&d()),t.placement&&p(),requestAnimationFrame(g)},onMount:function(){g(),p()},onShow:function(){c()&&(t=r={clientX:0,clientY:0},d(),m())},onTrigger:function(e,n){r||(f(n)&&(r={clientX:n.clientX,clientY:n.clientY},t=n),d(),m())},onUntrigger:function(){e.state.isVisible||(v(),r=null)},onHidden:function(){v(),h(),r=null}}}};var ke={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t=e.reference;function n(){return e.props.inlinePositioning}return{onHidden:function(){n()&&(e.popperInstance.reference=t)},onShow:function(){n()&&(e.popperInstance.reference={referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return function(e,t,n){if(n.length<2||null===e)return t;var i;switch(e){case"top":case"bottom":var o=n[0],r=n[n.length-1],s="top"===e,a=o.top,c=r.bottom,l=s?o.left:r.left,u=s?o.right:r.right;i={top:a,bottom:c,left:l,right:u,width:u-l,height:c-a};break;case"left":case"right":var h=Math.min.apply(Math,n.map(function(e){return e.left})),d=Math.max.apply(Math,n.map(function(e){return e.right})),p=n.filter(function(t){return"left"===e?t.left===h:t.right===d}),f=p[0].top,m=p[p.length-1].bottom;i={top:f,bottom:m,left:h,right:d,width:d-h,height:m-f};break;default:i=t}return i}(e.state.currentPlacement&&le(e.state.currentPlacement),t.getBoundingClientRect(),C(t.getClientRects()))}})}}}};var Me={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function i(t){return!0===e.props.sticky||e.props.sticky===t}var o=null,r=null;function s(){var a=i("reference")?t.getBoundingClientRect():null,c=i("popper")?n.getBoundingClientRect():null;(a&&Ae(o,a)||c&&Ae(r,c))&&e.popperInstance.update(),o=a,r=c,e.state.isMounted&&requestAnimationFrame(s)}return{onMount:function(){e.props.sticky&&s()}}}};function Ae(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}}]);