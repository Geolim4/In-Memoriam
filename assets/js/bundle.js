/*! For license information please see bundle.js.LICENSE */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var r=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),i))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function s(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function a(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=s(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:c(a(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?u:10===e?h:u||h}function p(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===s(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function f(e){return null!==e.parentNode?f(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,c=o.commonAncestorContainer;if(e!==c&&t!==c||i.contains(r))return"BODY"===(a=(s=c).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(c):c;var l=f(e);return l.host?m(l.host,t):m(e,f(t).host)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||r;return o[n]}return e[n]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=g(t,"top"),r=g(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function y(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function b(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,n=e.documentElement,i=d(10)&&getComputedStyle(n);return{height:b("Height",t,n,i),width:b("Width",t,n,i)}}var E=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),C=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function T(e){return O({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=g(e,"top"),i=g(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_(e.ownerDocument):{},a=o.width||e.clientWidth||r.width,c=o.height||e.clientHeight||r.height,l=e.offsetWidth-a,u=e.offsetHeight-c;if(l||u){var h=s(e);l-=y(h,"x"),u-=y(h,"y"),r.width-=l,r.height-=u}return T(r)}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(10),r="HTML"===t.nodeName,o=S(e),a=S(t),l=c(e),u=s(t),h=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=T({top:o.top-a.top-h,left:o.left-a.left-p,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var m=parseFloat(u.marginTop),g=parseFloat(u.marginLeft);f.top-=h-m,f.bottom-=h-m,f.left-=p-g,f.right-=p-g,f.marginTop=m,f.marginLeft=g}return(i&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(f=v(f,t)),f}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=I(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:g(n),a=t?0:g(n,"left"),c={top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o};return T(c)}function L(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===s(e,"position"))return!0;var n=a(e);return!!n&&L(n)}function P(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===s(t,"transform");)t=t.parentElement;return t||document.documentElement}function A(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?P(e):m(e,l(t));if("viewport"===i)o=x(s,r);else{var u=void 0;"scrollParent"===i?"BODY"===(u=c(a(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===i?e.ownerDocument.documentElement:i;var h=I(u,s,r);if("HTML"!==u.nodeName||L(s))o=h;else{var d=_(e.ownerDocument),p=d.height,f=d.width;o.top+=h.top-h.marginTop,o.bottom=p+h.top,o.left+=h.left-h.marginLeft,o.right=f+h.left}}var g="number"==typeof(n=n||0);return o.left+=g?n:n.left||0,o.top+=g?n:n.top||0,o.right-=g?n:n.right||0,o.bottom-=g?n:n.bottom||0,o}function M(e){return e.width*e.height}function k(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=A(n,i,o,r),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},c=Object.keys(a).map((function(e){return O({key:e},a[e],{area:M(a[e])})})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),u=l.length>0?l[0].key:c[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function D(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?P(t):m(t,l(n));return I(n,r,i)}function j(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function N(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function F(e,t,n){n=n.split("-")[0];var i=j(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return r[s]=t[s]+t[c]/2-i[c]/2,r[a]=n===a?t[a]-i[l]:t[N(a)],r}function B(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function H(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=B(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=T(t.offsets.popper),t.offsets.reference=T(t.offsets.reference),t=n(t,e))})),t}function R(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=k(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=H(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function U(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function V(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function q(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[V("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function K(e){var t=e.ownerDocument;return t?t.defaultView:window}function G(e,t,n,i){n.updateBound=i,K(e).addEventListener("resize",n.updateBound,{passive:!0});var r=c(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(n,i,{passive:!0}),o||e(c(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=G(this.reference,this.options,this.state,this.scheduleUpdate))}function Y(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,K(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function W(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Z(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&W(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var X=n&&/Firefox/i.test(navigator.userAgent);function $(e,t,n){var i=B(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=J.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.indexOf(e),i=Q.slice(n+1).concat(Q.slice(0,n));return t?i.reverse():i}var te="flip",ne="clockwise",ie="counterclockwise";function re(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(B(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(c)[0]]),[s[a].split(c)[1]].concat(s.slice(a+1))]:[s];return(l=l.map((function(e,i){var r=(1===i?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return T(a)[t]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){W(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",l=a?"width":"height",u={start:C({},c,o[c]),end:C({},c,o[c]+o[l]-s[l])};e.offsets.popper=O({},s,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],c=void 0;return c=W(+n)?[+n,0]:re(n,o,s,a),"left"===a?(o.top+=c[0],o.left-=c[1]):"right"===a?(o.top+=c[0],o.left+=c[1]):"top"===a?(o.left+=c[0],o.top-=c[1]):"bottom"===a&&(o.left+=c[0],o.top+=c[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var i=V("transform"),r=e.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var c=A(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=s,r[i]=a,t.boundaries=c;var l=t.priority,u=e.offsets.popper,h={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),C({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(i=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),C({},n,i)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=O({},u,h[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",c=s?"left":"top",l=s?"width":"height";return n[a]<o(i[c])&&(e.offsets.popper[c]=o(i[c])-n[l]),n[c]>o(i[a])&&(e.offsets.popper[c]=o(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!$(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,a=o.popper,c=o.reference,l=-1!==["left","right"].indexOf(r),u=l?"height":"width",h=l?"Top":"Left",d=h.toLowerCase(),p=l?"left":"top",f=l?"bottom":"right",m=j(i)[u];c[f]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(c[f]-m)),c[d]+m>a[f]&&(e.offsets.popper[d]+=c[d]+m-a[f]),e.offsets.popper=T(e.offsets.popper);var g=c[d]+c[u]/2-m/2,v=s(e.instance.popper),y=parseFloat(v["margin"+h]),b=parseFloat(v["border"+h+"Width"]),_=g-e.offsets.popper[d]-y-b;return _=Math.max(Math.min(a[u]-m,_),0),e.arrowElement=i,e.offsets.arrow=(C(n={},d,Math.round(_)),C(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(U(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=A(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=N(i),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case te:s=[i,r];break;case ne:s=ee(i);break;case ie:s=ee(i,!0);break;default:s=t.behavior}return s.forEach((function(a,c){if(i!==a||s.length===c+1)return e;i=e.placement.split("-")[0],r=N(i);var l=e.offsets.popper,u=e.offsets.reference,h=Math.floor,d="left"===i&&h(l.right)>h(u.left)||"right"===i&&h(l.left)<h(u.right)||"top"===i&&h(l.bottom)>h(u.top)||"bottom"===i&&h(l.top)<h(u.bottom),p=h(l.left)<h(n.left),f=h(l.right)>h(n.right),m=h(l.top)<h(n.top),g=h(l.bottom)>h(n.bottom),v="left"===i&&p||"right"===i&&f||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g),_=!!t.flipVariationsByContent&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m),E=b||_;(d||v||E)&&(e.flipped=!0,(d||v)&&(i=s[c+1]),E&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=O({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=H(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),e.placement=N(t),e.offsets.popper=T(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=B(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=B(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=p(e.instance.popper),c=S(a),l={position:r.position},u=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},c=o(r.width),l=o(i.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?u||h||c%2==l%2?o:s:a,p=t?o:a;return{left:d(c%2==1&&l%2==1&&!h&&t?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:d(i.right)}}(e,window.devicePixelRatio<2||!X),h="bottom"===n?"top":"bottom",d="right"===i?"left":"right",f=V("transform"),m=void 0,g=void 0;if(g="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-c.height+u.bottom:u.top,m="right"===d?"HTML"===a.nodeName?-a.clientWidth+u.right:-c.width+u.right:u.left,s&&f)l[f]="translate3d("+m+"px, "+g+"px, 0)",l[h]=0,l[d]=0,l.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===d?-1:1;l[h]=g*v,l[d]=m*y,l.willChange=h+", "+d}var b={"x-placement":e.placement};return e.attributes=O({},b,e.attributes),e.styles=O({},l,e.styles),e.arrowStyles=O({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Z(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=D(r,t,e,n.positionFixed),s=k(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),Z(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=r(this.update.bind(this)),this.options=O({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(O({},e.Defaults.modifiers,s.modifiers)).forEach((function(t){i.options.modifiers[t]=O({},e.Defaults.modifiers[t]||{},s.modifiers?s.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return O({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return w(e,[{key:"update",value:function(){return R.call(this)}},{key:"destroy",value:function(){return q.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return Y.call(this)}}]),e}();se.Utils=("undefined"!=typeof window?window:e).PopperUtils,se.placements=J,se.Defaults=oe,t.a=se}).call(this,n(0))},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;for(r of t.entries())if(!e(r[1],n.get(r[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(t[r]!==n[r])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var s=o[r];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";e.exports={eudist:function(e,t,n){for(var i=e.length,r=0,o=0;o<i;o++){var s=(e[o]||0)-(t[o]||0);r+=s*s}return n?Math.sqrt(r):r},mandist:function(e,t,n){for(var i=e.length,r=0,o=0;o<i;o++)r+=Math.abs((e[o]||0)-(t[o]||0));return n?Math.sqrt(r):r},dist:function(e,t,n){var i=Math.abs(e-t);return n?i:i*i}}},function(e,t,n){function i(e,t,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(e,t,n)}i.prototype.insert=function(e,t){for(var n=this._queue.length,i=n;i--;){var r=this._priorities[i];"desc"===this._sorting?t>r&&(n=i):t<r&&(n=i)}this._insertAt(e,t,n)},i.prototype.remove=function(e){for(var t=this._queue.length;t--;){if(e===this._queue[t]){this._queue.splice(t,1),this._priorities.splice(t,1);break}}},i.prototype.forEach=function(e){this._queue.forEach(e)},i.prototype.getElements=function(){return this._queue},i.prototype.getElementPriority=function(e){return this._priorities[e]},i.prototype.getPriorities=function(){return this._priorities},i.prototype.getElementsWithPriorities=function(){for(var e=[],t=0,n=this._queue.length;t<n;t++)e.push([this._queue[t],this._priorities[t]]);return e},i.prototype._init=function(e,t,n){if(e&&t){if(this._queue=[],this._priorities=[],e.length!==t.length)throw new Error("Arrays must have the same length");for(var i=0;i<e.length;i++)this.insert(e[i],t[i])}n&&(this._sorting=n)},i.prototype._insertAt=function(e,t,n){this._queue.length===n?(this._queue.push(e),this._priorities.push(t)):(this._queue.splice(n,0,e),this._priorities.splice(n,0,t))},e.exports&&(e.exports=i)},function(e,t,n){var i,r,o,s,a,c,l,u,h,d,p,f,m;e.exports=(i="undefined"!=typeof window?window:self,r=n(16),o=n(19),s={},a="json",c="post",l=null,u=0,h=[],d=i.XMLHttpRequest?function(){return new i.XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},p=""===d().responseType,f=function(e){var t=[],n=0,f=[];return r((function(m){var g=-1,v=function(e){return function(v,y,b,_){var E=++g;return++n,t.push(function(e,t,n,f,m){for(var g in e=e.toUpperCase(),n=void 0===n?null:n,f=f||{},s)if(!(g in f))if("object"==typeof s[g]&&"object"==typeof f[g])for(var v in s[g])f[g][v]=s[g][v];else f[g]=s[g];var y,b,_,E,w,C=!1,O=!1,T=!1,S=0,I={},x={text:"*/*",xml:"text/xml",json:"application/json",post:"application/x-www-form-urlencoded",document:"text/html"},L={text:"*/*",xml:"application/xml; q=1.0, text/xml; q=0.8, */*; q=0.1",json:"application/json; q=1.0, text/*; q=0.8, */*; q=0.1"},P=!1,A=r((function(r){return r.abort=function(){T||(b&&4!=b.readyState&&b.abort(),P&&(--u,P=!1),T=!0)},r.send=function(){if(!P)if(u!=l)if(T)h.length&&h.shift().send();else{if(++u,P=!0,b=d(),y&&!("withCredentials"in b)&&i.XDomainRequest&&(b=new XDomainRequest,O=!0,"GET"!=e&&"POST"!=e&&(e="POST")),O?b.open(e,t):(b.open(e,t,f.async,f.user,f.password),p&&f.async&&(b.withCredentials=f.withCredentials)),!O)for(var o in I)I[o]&&b.setRequestHeader(o,I[o]);if(p&&"auto"!=f.responseType)try{b.responseType=f.responseType,C=b.responseType==f.responseType}catch(e){}p||O?(b.onload=M,b.onerror=k,O&&(b.onprogress=function(){})):b.onreadystatechange=function(){4==b.readyState&&M()},f.async?"timeout"in b?(b.timeout=f.timeout,b.ontimeout=D):_=setTimeout(D,f.timeout):O&&(b.ontimeout=function(){}),"auto"!=f.responseType&&"overrideMimeType"in b&&b.overrideMimeType(x[f.responseType]),m&&m(b),O?setTimeout((function(){b.send("GET"!=e?n:null)}),0):b.send("GET"!=e?n:null)}else h.push(r)},r})),M=function(){var e;if(P=!1,clearTimeout(_),h.length&&h.shift().send(),!T){--u;try{if(C){if("response"in b&&null===b.response)throw"The request response is empty";w=b.response}else{if("auto"==(e=f.responseType))if(O)e=a;else{var t=b.getResponseHeader("Content-Type")||"";e=t.indexOf(x.json)>-1?"json":t.indexOf(x.xml)>-1?"xml":"text"}switch(e){case"json":if(b.responseText.length)try{w="JSON"in i?JSON.parse(b.responseText):new Function("return ("+b.responseText+")")()}catch(e){throw"Error while parsing JSON body : "+e}break;case"xml":try{i.DOMParser?w=(new DOMParser).parseFromString(b.responseText,"text/xml"):((w=new ActiveXObject("Microsoft.XMLDOM")).async="false",w.loadXML(b.responseText))}catch(e){w=void 0}if(!w||!w.documentElement||w.getElementsByTagName("parsererror").length)throw"Invalid XML";break;default:w=b.responseText}}if("status"in b&&!/^2|1223/.test(b.status))throw b.status+" ("+b.statusText+")";A(!0,[b,w])}catch(e){A(!1,[e,b,w])}}},k=function(e){T||(e="string"==typeof e?e:"Connection aborted",A.abort(),A(!1,[new Error(e),b,null]))},D=function(){T||(f.attempts&&++S==f.attempts?k("Timeout ("+t+")"):(b.abort(),P=!1,A.send()))};if(f.async=!("async"in f)||!!f.async,f.cache="cache"in f&&!!f.cache,f.dataType="dataType"in f?f.dataType.toLowerCase():c,f.responseType="responseType"in f?f.responseType.toLowerCase():"auto",f.user=f.user||"",f.password=f.password||"",f.withCredentials=!!f.withCredentials,f.timeout="timeout"in f?parseInt(f.timeout,10):3e4,f.attempts="attempts"in f?parseInt(f.attempts,10):1,E=t.match(/\/\/(.+?)\//),y=E&&!!E[1]&&E[1]!=location.host,"ArrayBuffer"in i&&n instanceof ArrayBuffer?f.dataType="arraybuffer":"Blob"in i&&n instanceof Blob?f.dataType="blob":"Document"in i&&n instanceof Document?f.dataType="document":"FormData"in i&&n instanceof FormData&&(f.dataType="formdata"),null!==n)switch(f.dataType){case"json":n=JSON.stringify(n);break;case"post":case"queryString":n=o(n)}if(f.headers){var j=function(e,t,n){return t+n.toUpperCase()};for(E in f.headers)I[E.replace(/(^|-)([^-])/g,j)]=f.headers[E]}return"Content-Type"in I||"GET"==e||f.dataType in x&&x[f.dataType]&&(I["Content-Type"]=x[f.dataType]),I.Accept||(I.Accept=f.responseType in L?L[f.responseType]:"*/*"),y||"X-Requested-With"in I||(I["X-Requested-With"]="XMLHttpRequest"),f.cache||"Cache-Control"in I||(I["Cache-Control"]="no-cache"),"GET"!=e&&"queryString"!=f.dataType||!n||"string"!=typeof n||(t+=(/\?/.test(t)?"&":"?")+n),f.async&&A.send(),A}(e,m.base+v,y,b,_).then((function(e,t){f[E]=arguments,--n||m(!0,1==f.length?f[0]:[f])}),(function(){m(!1,arguments)}))),m}};for(var y in m.get=v("GET"),m.post=v("POST"),m.put=v("PUT"),m.delete=v("DELETE"),m.catch=function(e){return m.then(null,e)},m.complete=function(e){var t=function(){e()};return m.then(t,t)},m.map=function(e,t,n,i,r){return v(e.toUpperCase()).call(this,t,n,i,r)},e)y in m||(m[y]=e[y]);return m.send=function(){for(var e=0,n=t.length;e<n;++e)t[e].send();return m},m.abort=function(){for(var e=0,n=t.length;e<n;++e)t[e].abort();return m},m}))},m={base:"",get:function(){return f(m).get.apply(this,arguments)},post:function(){return f(m).post.apply(this,arguments)},put:function(){return f(m).put.apply(this,arguments)},delete:function(){return f(m).delete.apply(this,arguments)},map:function(){return f(m).map.apply(this,arguments)},xhr2:p,limit:function(e){return l=e,m},setDefaultOptions:function(e){return s=e,m},setDefaultXdrResponseType:function(e){return a=e.toLowerCase(),m},setDefaultDataType:function(e){return c=e.toLowerCase(),m},getOpenRequests:function(){return u}})},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";var i=n(3),r=n(11),o=i.eudist,s=(i.mandist,i.dist,r.kmrand),a=r.kmpp;function c(e,t,n){n=n||[];for(var i=0;i<e;i++)n[i]=t;return n}e.exports=function(e,t,n,i){var r=[],l=[],u=[],h=[],d=!1,p=i||1e4,f=e.length,m=e[0].length,g=m>0,v=[];if(n)r="kmrand"==n?s(e,t):"kmpp"==n?a(e,t):n;else for(var y={};r.length<t;){var b=Math.floor(Math.random()*f);y[b]||(y[b]=!0,r.push(e[b]))}do{c(t,0,v);for(var _=0;_<f;_++){for(var E=1/0,w=0,C=0;C<t;C++){(h=g?o(e[_],r[C]):Math.abs(e[_]-r[C]))<=E&&(E=h,w=C)}u[_]=w,v[w]++}for(var O=[],T=(l=[],0);T<t;T++)O[T]=g?c(m,0,O[T]):0,l[T]=r[T];if(g){for(var S=0;S<t;S++)r[S]=[];for(var I=0;I<f;I++)for(var x=O[u[I]],L=e[I],P=0;P<m;P++)x[P]+=L[P];d=!0;for(var A=0;A<t;A++){for(var M=r[A],k=O[A],D=l[A],j=v[A],N=0;N<m;N++)M[N]=k[N]/j||0;if(d)for(var F=0;F<m;F++)if(D[F]!=M[F]){d=!1;break}}}else{for(var B=0;B<f;B++){O[u[B]]+=e[B]}for(var H=0;H<t;H++)r[H]=O[H]/v[H]||0;d=!0;for(var R=0;R<t;R++)if(l[R]!=r[R]){d=!1;break}}d=d||--p<=0}while(!d);return{it:1e4-p,k:t,idxs:u,centroids:r}}},function(e,t,n){e.exports&&(e.exports={DBSCAN:n(12),KMEANS:n(13),OPTICS:n(14),PriorityQueue:n(4)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10);document.addEventListener("DOMContentLoaded",(function(){(new i.App).boot()}))},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),o=n(15),s=n(5),a=n(29),c=n(20),l=n(21),u=n(22),h=n(23),d=n(24),p=n(25),f=n(26),m=n(27),g=function(){function e(){this._circles=[],this._customChoicesInstances={},this._currentInfoWindows=null,this._eventHandlers={},this._heatMap=null,this._infoWindows=[],this._markerCluster=null,this._markers=[],this._markerHashIndex={},this._configObject=null,this.heatmapEnabled=!0,this.clusteringEnabled=!0,this.glossary={},this.filters={}}return e.prototype.boot=function(){var e=this;this._configObject=new h.Config((function(){return e.run()})),this.loadGlossary(),c.default.init({awaitCloseAnimation:!1,awaitOpenAnimation:!1,closeTrigger:"data-micromodal-close",debugMode:!0,disableFocus:!1,disableScroll:!0,onClose:function(e){return console.info(e.id+" is hidden")},onShow:function(e){return console.info(e.id+" is shown")},openTrigger:"data-micromodal-open"})},e.prototype.run=function(){var e=this;o({key:this._configObject.config.googleMaps.key,libraries:this._configObject.config.googleMaps.libraries}).then((function(){var t=document.getElementById("form-filters"),n=document.getElementById("map"),i={center:new google.maps.LatLng(e._configObject.config.defaultLat,e._configObject.config.defaultLon),mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.HYBRID,maxZoom:e._configObject.config.maxZoom,streetViewControl:!1,zoom:e._configObject.config.defaultZoom},r=new google.maps.Map(n,i);s.get("./data/config/filters.json").then((function(i,o){e.filters=o.filters,e.setupSkeleton(t,e.getFilters(t,!0)),e.bindAnchorEvents(r,n,t),e.bindFilters(r,n,t),e.bindCustomButtons(r),e.bindMarkers(n.dataset.bloodbathSrc,r,e.getFilters(t,!0)),e.bindMarkerLinkEvent(r)})),e.loadActivityDetectorMonitoring(r,n,t)}))},e.prototype.loadActivityDetectorMonitoring=function(e,t,n){var i,r=this,o=l.default({timeToIdle:12e4});o.on("idle",(function(){console.log("User is now idle..."),i=setInterval((function(){r.bindMarkers(t.dataset.bloodbathSrc,e,r.getFilters(n,!1)),console.log("Reloading map...")}),3e5)})),o.on("active",(function(){console.log("User is now active..."),clearInterval(i)}))},e.prototype.loadGlossary=function(){var e=this;s.get("./data/config/glossary.json").then((function(t,n){e.glossary=n.glossary}))},e.prototype.bindCustomButtons=function(e){this.bindLocalizationButton(e),this.bindRandomizationButton(e),this.bindRefreshButton(e),this.bindHeatmapButton(e),this.bindClusteringButton(e),this.bindListButton(e)},e.prototype.getConfigDefinitions=function(){return this._configObject.definitions},e.prototype.getFilteredResponse=function(e,t){for(var n=e,i=0,r=Object.entries(t);i<r.length;i++){var o=r[i],s=o[0],a=o[1];if(t.hasOwnProperty(s)){for(var c=s,l=m.StringUtilsHelper.normalizeString(a),u=[],h=0,d=m.StringUtilsHelper.normalizeString(a).split(" ").map((function(e){return e.trim()}));h<d.length;h++){var p=d[h];p.length>=this._configObject.config.searchMinLength&&u.push(p)}if(a)for(var f=n.deaths.length;f--;)if("search"===c&&a.length>=this._configObject.config.searchMinLength){if(!(m.StringUtilsHelper.containsString(n.deaths[f].text,l)||m.StringUtilsHelper.containsString(n.deaths[f].section,l)||m.StringUtilsHelper.containsString(n.deaths[f].location,l)||m.StringUtilsHelper.arrayContainsString(n.deaths[f].keywords,u))){if(n.deaths[f].peers.length){for(var g=!1,v=0,y=n.deaths[f].peers;v<y.length;v++){var b=y[v];if(m.StringUtilsHelper.containsString(b.section,l)){g=!0;break}}if(g)continue}n.deaths.splice(f,1)}}else if(!n.deaths[f].published||!a.split(",").includes(n.deaths[f][c]&&n.deaths[f][c])){if(n.deaths[f].peers.length){g=!1;for(var _=0,E=n.deaths[f].peers;_<E.length;_++){b=E[_];if("house"===c&&a.split(",").includes(b.house)){g=!0;break}}if(g)continue}n.deaths.splice(f,1)}}}return n},e.prototype.getFilters=function(e,t){var n=decodeURIComponent(location.hash).substr(1).split("&"),i={},r={},o=e.querySelectorAll('select[data-filterable="true"], input[data-filterable="true"]');return n.forEach((function(e){var t=e.split("=");2===t.length&&(i[t[0]]=t[1])})),o.forEach((function(e){t&&(r[e.id]=i[e.id]?i[e.id]:"",!e.required||r[e.id])||(e.selectedOptions?r[e.id]=Array.from(e.selectedOptions).filter((function(e){return e.selected})).map((function(e){return e.value})).join(","):r[e.id]=e.value)})),r},e.prototype.alterFiltersLabels=function(e){document.querySelectorAll("form select").forEach((function(t){var n=t.querySelectorAll("option");"true"===t.dataset.countable&&n.forEach((function(n){if(""!==n.value){for(var i in n.dataset.deathCount="0",e.deaths){var r=e.deaths[i];n.value===r[t.name]&&r.published&&(n.dataset.deathCount=""+(+n.dataset.deathCount+r.count))}n.innerText=n.innerText.replace(/\([\d]+\)/,"")+" ("+n.dataset.deathCount+")"}}))}))},e.prototype.bindAnchorEvents=function(e,t,n){var i=this;window.addEventListener("hashchange",(function(){i.bindFilters(e,t,n,!0),i.bindMarkers(t.dataset.bloodbathSrc,e,i.getFilters(n,!0))}),!1)},e.prototype.bindFilters=function(e,t,n,i){var r=this,o=n.querySelectorAll("form select, form input"),s=this.getFilters(n,i),a=document.querySelector("#form-filters-wrapper");d.Events.addEventHandler(n,"submit",(function(e){e.preventDefault()})),o.forEach((function(i){i.multiple||(i.value=void 0!==s[i.name]?s[i.name]:""),"function"==typeof r._eventHandlers[i.id]&&d.Events.removeEventHandler(i,"change",r._eventHandlers[i.id]),r._eventHandlers[i.id]=function(){var i=r.getFilters(n,!1);return r.bindMarkers(t.dataset.bloodbathSrc,e,i),!1},d.Events.addEventHandler(i,"change",r._eventHandlers[i.id])})),google.maps.event.addListener(e,"bounds_changed",(function(){var t=e.getDiv().firstChild;t.clientHeight===window.innerHeight&&t.clientWidth===window.innerWidth?n.classList.contains("fullscreen")||document.fullscreenElement.appendChild(n):a.appendChild(n)})),this.drawCustomSelectors(o,s)},e.prototype.bindMarkerLinkEvent=function(e){var t=this;document.addEventListener("click",(function(n){var i=n.target.closest("a");if(i){var r=i.dataset.deathHash;if(t._markers[t._markerHashIndex[r]]){var o=t._markers[t._markerHashIndex[r]];document.getElementById("modal-bloodbath-list").classList.contains("is-open")&&c.default.close("modal-bloodbath-list"),e.setZoom(t._configObject.config.maxZoom),google.maps.event.trigger(o,"click"),e.setCenter(o.getPosition())}}}))},e.prototype.drawCustomSelectors=function(e,t){var n=this,i=u;e.forEach((function(e){"text"!==e.type&&(n._customChoicesInstances[e.id]||(n._customChoicesInstances[e.id]=new i(e,{duplicateItemsAllowed:!1,itemSelectText:"",removeItemButton:e.multiple,removeItems:!0,resetScrollPosition:!1,searchEnabled:!1,shouldSort:!1})),n._customChoicesInstances[e.id].removeActiveItems(null),n._customChoicesInstances[e.id].setChoiceByValue(t[e.id].split(",")))}))},e.prototype.clearMarkerCluster=function(){return this._markerCluster&&this._markerCluster.clearMarkers(),this},e.prototype.reloadMarkers=function(e,t){var n=document.getElementById("form-filters"),i=document.getElementById("map");this.bindMarkers(i.dataset.bloodbathSrc,e,this.getFilters(n,t))},e.prototype.bindMarkers=function(e,t,n){var o=this;s.get(e.replace("%year%",n.year)+"?_="+(new Date).getTime()).then((function(e,s){var c=new google.maps.LatLngBounds,l=[],u=[],h=[],d=document.getElementById("modal-bloodbath-list-content"),p=document.getElementById("modal-bloodbath-death-counter"),g=document.getElementById("modal-bloodbath-year"),v=0,y="<ul>",b=s;if(b=o.getFilteredResponse(b,n),o.clearMapObjects(),b.deaths&&b.deaths.length){var _=function(e){for(var n=b.deaths[e],i="",r=0,s=0,c=n.peers;s<c.length;s++){var d=c[s],p=o._configObject.config.imagePath.house.replace("%house%",d.count>1?d.house+"-m":d.house),f=o.getFilterValueLabel("house",d.house);i+='<h5>\n              <img height="16" src="'+p+'" alt="House: '+d.house+'"  title="House: '+d.house+'" />\n              '+(d.section?""+m.StringUtilsHelper.replaceAcronyms(d.section,o.glossary):"")+"\n               - <strong"+(d.count>1?' style="color: red;"':"")+">"+d.count+" décès</strong>\n              "+(f!==d.section?" - "+m.StringUtilsHelper.replaceAcronyms(f,o.glossary):"")+"\n            </h5>",r+=d.count}var g=n.count+r;v+=g;var _=o._configObject.config.imagePath.house.replace("%house%",g>1?n.house+"-m":n.house),E=new google.maps.Marker({map:t,animation:google.maps.Animation.DROP,icon:new google.maps.MarkerImage(_),opacity:1,position:new google.maps.LatLng(n.gps.lat,n.gps.lon),title:n.text});if(!n.gps.accurate){var w=new google.maps.Circle({map:t,center:new google.maps.LatLng(n.gps.lat,n.gps.lon),fillColor:o._configObject.config.circleOptions.fillColor,fillOpacity:o._configObject.config.circleOptions.fillOpacity,radius:Math.max(100,n.gps.radius),strokeColor:o._configObject.config.circleOptions.strokeColor,strokeOpacity:o._configObject.config.circleOptions.strokeOpacity,strokeWeight:o._configObject.config.circleOptions.strokeWeight});o._circles.push(w)}E.linkHash=o.getMarkerHash(n),E.death=n;var C=o.getFilterValueLabel("house",n.house),O=o.getFilterValueLabel("cause",n.cause),T='<h4>\n              <img height="16" src="'+_+'" alt="House: '+n.house+'"  title="House: '+n.house+'" />\n              '+(n.section?""+m.StringUtilsHelper.replaceAcronyms(n.section,o.glossary):"")+"\n              "+(n.count>1?' - <strong style="color: red;">'+n.count+" décès</strong>":"")+"\n              "+(C!==n.section?" - "+m.StringUtilsHelper.replaceAcronyms(C,o.glossary):"")+"\n            </h4>\n            "+i+"\n            <br />\n            <span>\n              <strong>Emplacement</strong>: "+n.location+" "+(n.gps.accurate?"":'<strong style="color: orangered;"><abbr data-tippy-content="Indique que l\'emplacement du décès est inconnu ou approximatif">(Position approximative)</abbr></strong>')+'\n              <a href="https://maps.google.com/?ll='+n.gps.lat+","+n.gps.lon+"&q="+n.location+'" target="_blank">\n               <span class="glyphicon  glyphicon-map-marker" aria-hidden="true"></span>\n              </a>\n              <br /><br />\n              <strong>Date</strong>: '+n.day+"/"+n.month+"/"+n.year+"\n              <br /><br />\n              <strong>Cause</strong>: "+O+"\n              <br /><br />\n              <strong>Circonstances</strong>:  "+m.StringUtilsHelper.replaceAcronyms(n.text.replace(new RegExp("\n","g"),"<br />"),o.glossary)+"\n            </span>",S=1===n.sources.length&&"__CONFIDENTIAL__"===n.sources[0].titre&&!n.sources[0].url;if(n.sources&&n.sources.length){var I="";if(S)I='<span aria-hidden="true" class="glyphicon glyphicon-alert" style="color: orangered;" ></span>&nbsp;<strong data-tippy-content="La source étant anonyme, ce décès peut ne pas être fiable à 100%.">Source anonyme</strong>';else for(var x in n.sources){var L=n.sources[x],P=L.paywall?'<span aria-hidden="true" class="glyphicon glyphicon-lock" data-tippy-content="Article réservé aux abonnés"></span>':"";L.url?I+=(I?", ":"")+'<a href="'+L.url+'" target="_blank">'+m.StringUtilsHelper.replaceAcronyms(L.titre,o.glossary)+"</a> "+P:I+=(I?", ":"")+"<strong>"+m.StringUtilsHelper.replaceAcronyms(L.titre,o.glossary)+"</strong> "+P+" "}T+='<br /><br /><div class="death-sources">'+(S?"":"<strong>Sources: </strong>")+I+"</div>"}var A="Erreur trouvée - "+n.section+" + -  "+n.day+"/"+n.month+"/"+n.year;T+='<br /><small class="report-error"><a href="mailto:'+o._configObject.config.contactEmail+"?subject="+A+'">[Une erreur ?]</a></small>';var M=new google.maps.InfoWindow({content:'<div class="death-container'+(g>1?" multiple-deaths":"")+(S?" confidential-death":"")+'">'+T+"</div>",position:E.getPosition()});google.maps.event.addListener(M,"domready",(function(){a.default("[data-tippy-content]")})),google.maps.event.addListener(E,"click",(function(){o._currentInfoWindows&&o._currentInfoWindows.close(),M.open(t,E),o._currentInfoWindows=M})),o._infoWindows.push(M),"interieur"===n.origin?h.push(E):l.push(E),u.push({location:new google.maps.LatLng(n.gps.lat,n.gps.lon),weight:15*(g>1?g>5?20:5:1)});var k=n.section+", "+n.location+" "+(g>1?'(<strong style="color: red">'+g+" décès</strong>)":""),D=o.getMarkerLink(n,k);y+="<li>\n    <strong>"+n.day+"/"+n.month+"/"+n.year+" ["+O+"] - "+C+":</strong>\n    <span>"+D+"</span>\n</li>",o._markers.push(E),o._markerHashIndex[E.linkHash]=o._markers.length-1};for(var E in b.deaths)_(E);google.maps.event.addListener(t,"zoom_changed",(function(){for(var e=t.getZoom(),n=0,i=o._circles;n<i.length;n++){var r=i[n];r.setVisible(e>8),r.setOptions({fillOpacity:Math.min(30,2*e)/100,strokeOpacity:Math.min(30,2*e)/100})}for(var s=0,a=o._markers;s<a.length;s++){var c=a[s];c.setOpacity(e<=8||c.death.gps.accurate?1:.75)}})),y+="</ul>",y+='<small><span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> La liste affichée ci-dessus est contextualisée en fonction des filtres appliqués.</small>',d.innerHTML=m.StringUtilsHelper.replaceAcronyms(y,o.glossary),p.innerHTML=v+" décès",g.innerHTML=n.year,1===o._markers.length&&1===o._infoWindows.length&&o._infoWindows[0].open(t,o._markers[0]),o.clusteringEnabled&&(o._markerCluster=new r.MarkerClusterer({map:t,algorithm:new r.SuperClusterAlgorithm({maxZoom:o._configObject.config.clusteringOptions.maxZoom,minPoints:o._configObject.config.clusteringOptions.minPoints,radius:o._configObject.config.clusteringOptions.radius}),markers:o._markers}));var w=h.length?h:l;for(var E in w)w.hasOwnProperty(E)&&c.extend(w[E].getPosition());u.length&&o.heatmapEnabled&&(o._heatMap=new google.maps.visualization.HeatmapLayer(i({data:u},o._configObject.config.heatmapOptions)),o._heatMap.setMap(t)),f.Permalink.build(n),o.printDefinitionsText(s,n),t.fitBounds(c)}else o.printDefinitionsText(null)}))},e.prototype.setupSkeleton=function(e,t){for(var n=e.querySelector("input#search"),i=this._configObject.config.searchMinLength,r=0,o=Object.entries(this.filters);r<o.length;r++)for(var s=o[r],a=s[0],c=0,l=s[1];c<l.length;c++){var u=l[c],h=e.querySelector('select[name="'+a+'"]'),d=document.createElement("option");d.value=u.value,d.text=u.label,d.selected=t[a].split(",").includes(u.value),h.appendChild(d)}n.value=t.search,n.setAttribute("minlength",i),n.setAttribute("placeholder",n.getAttribute("placeholder").replace("%d",i))},e.prototype.clearMapObjects=function(){this.clearMarkers().clearCircles().clearInfoWindows().clearHeatMap().clearMarkerCluster()},e.prototype.clearMarkers=function(){for(var e=0;e<this._markers.length;e++)this._markers[e].setMap(null);return this._markers=[],this._markerHashIndex={},this},e.prototype.clearCircles=function(){for(var e=0;e<this._circles.length;e++)this._circles[e].setMap(null);return this._circles=[],this},e.prototype.clearInfoWindows=function(){for(var e=0;e<this._infoWindows.length;e++)google.maps.event.clearInstanceListeners(this._infoWindows[e]),this._infoWindows[e].close();return this._infoWindows=[],this},e.prototype.clearHeatMap=function(){return this._heatMap&&this._heatMap.setMap(null),this},e.prototype.bindLocalizationButton=function(e){var t=this,n={ctrlChildId:"localizationImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgSize:"180px 18px",imagePath:this._configObject.config.imagePath.localize,title:"Voir autour de moi"};p.GmapUtils.bindButton(e,(function(){var n=new google.maps.LatLngBounds,i=new google.maps.Marker({map:e,animation:google.maps.Animation.BOUNCE,icon:new google.maps.MarkerImage(t._configObject.config.imagePath.bluedot),position:{lat:31.4181,lng:73.0776}}),r="0",o=setInterval((function(){var e=document.querySelector("#localizationImg");r=-18==+r?"0":"-18",e.style.backgroundPosition=r+"px 0px"}),500);confirm("La demande de localisation ne servira qu'à positionner la carte autour de vous, aucune donnée ne sera envoyée ni même conservée nulle part.")&&navigator.geolocation?navigator.geolocation.getCurrentPosition((function(r){var s=new google.maps.LatLng(r.coords.latitude,r.coords.longitude);i.setPosition(s),e.setCenter(s),n.extend(s);var a=new google.maps.InfoWindow({content:'<div class="info-window-container">Ma position approximative</div>'});a.setPosition(s),google.maps.event.addListener(i,"click",(function(){t._currentInfoWindows&&t._currentInfoWindows.close(),a.open(e,i),t._currentInfoWindows=a})),a.open(e,i);for(var c=null,l=null,u=0,h=t._markers;u<h.length;u++){var d=h[u],p=d.getPosition();if(p&&s){var f=google.maps.geometry.spherical.computeDistanceBetween(p,s);(null===c&&null===l||c&&l&&f<=l)&&(c=d,l=f)}}google.maps.event.trigger(c,"click"),n.extend(c.getPosition()),e.fitBounds(n),document.querySelector("#localizationImg").style.backgroundPosition="-144px 0px",clearInterval(o)})):(clearInterval(o),document.querySelector("#localizationImg").style.backgroundPosition="0px 0px")}),n),google.maps.event.addListener(e,"dragend",(function(){document.querySelector("#localizationImg").style.backgroundPosition="0px 0px"}))},e.prototype.bindRandomizationButton=function(e){var t=this,n={ctrlChildId:"ramdomImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgPos:"-2px -2px",defaultCtrlChildBgSize:"120%",imagePath:this._configObject.config.imagePath.random,title:"Marqueur aléatoire"};p.GmapUtils.bindButton(e,(function(){var n=Math.floor(Math.random()*t._markers.length),i=t._markers[n];e.setCenter(i.getPosition()),e.setZoom(13),google.maps.event.trigger(i,"click")}),n)},e.prototype.bindRefreshButton=function(e){var t=this,n={ctrlChildId:"refreshImg",ctrlPosition:google.maps.ControlPosition.RIGHT_TOP,defaultCtrlChildBgPos:"0px 0px",defaultCtrlChildBgSize:"100%",imagePath:this._configObject.config.imagePath.refresh,title:"Actualiser"};p.GmapUtils.bindButton(e,(function(){t.loadGlossary(),t.reloadMarkers(e,!1)}),n)},e.prototype.bindHeatmapButton=function(e){var t=this,n={ctrlChildId:"heatmapImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgPos:"-2px -2px",defaultCtrlChildBgSize:"120%",imagePath:this._configObject.config.imagePath.heatmap.on,title:"Thermographie"};p.GmapUtils.bindButton(e,(function(){t.heatmapEnabled=!t.heatmapEnabled;var i=document.querySelector("#"+n.ctrlChildId),r=t._configObject.config.imagePath.heatmap[t.heatmapEnabled?"on":"off"];i.style.backgroundImage='url("'+r+'")',t.reloadMarkers(e,!1)}),n)},e.prototype.bindClusteringButton=function(e){var t=this,n={ctrlChildId:"clusteringImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgPos:"-2px -2px",defaultCtrlChildBgSize:"120%",imagePath:this._configObject.config.imagePath.clustering.on,title:"Clustering"};p.GmapUtils.bindButton(e,(function(){t.clusteringEnabled=!t.clusteringEnabled;var i=document.querySelector("#"+n.ctrlChildId),r=t._configObject.config.imagePath.clustering[t.clusteringEnabled?"on":"off"];i.style.backgroundImage='url("'+r+'")',t.reloadMarkers(e,!1)}),n)},e.prototype.bindListButton=function(e){var t=this,n={ctrlChildId:"listImg",ctrlPosition:google.maps.ControlPosition.LEFT_TOP,defaultCtrlChildBgPos:"0px 2px",defaultCtrlChildBgSize:"90%",imagePath:this._configObject.config.imagePath.list,title:"Exporter la liste"};p.GmapUtils.bindButton(e,(function(){t._markers.length?c.default.show("modal-bloodbath-list"):alert("La cartographie est vide, essayez de modifier les filtres :(")}),n)},e.prototype.getDefinitions=function(e){var t={},n=this.getConfigDefinitions();for(var i in n)for(var r in e.deaths)if(e.deaths.hasOwnProperty(r)){var o=e.deaths[r],s=e.deaths[r].peers,a=n[i]["#counter_property"]?n[i]["#counter_property"]:"death",c="distinct"===(n[i]["#counter_strategy"]?n[i]["#counter_strategy"]:"distinct")?o[i]:0;if(t[i]||(t[i]={}),t[i][c]||(t[i][c]=0),Number.isInteger(o[a])&&(t[i][c]+=o[a],"count"===a&&s.length))for(var l=0,u=s;l<u.length;l++){var h=u[l],d="house"===i?h.house:c;t[i][d]||(t[i][d]=0),t[i][d]+=h.count}}return t},e.prototype.getFilterValueLabel=function(e,t){for(var n=0,i=this.filters[e];n<i.length;n++){var r=i[n];if(r.value===t)return r.label.replace(/\(.*\)/,"").trim()}return'["'+t+"]"},e.prototype.getLatestDeath=function(e){for(var t=0,n=null,i=0,r=e.deaths;i<r.length;i++){var o=r[i],s=Number(o.year)+100*Number(o.month)+Number(o.day);t<=s&&(t=s,n=o)}return n},e.prototype.getMarkerHash=function(e){return btoa(unescape(encodeURIComponent(e.day+"|"+e.month+"|"+e.year+"|"+e.house+"|"+e.section)))},e.prototype.getMarkerLink=function(e,t){return'<a href="javascript:;" data-death-hash="'+this.getMarkerHash(e)+'">'+t+"</a>"},e.prototype.printDefinitionsText=function(e,t){var n=[];if(e){for(var i=this.getDefinitions(e),r=this.getLatestDeath(e),o=this.getConfigDefinitions(),s=0,c=Object.entries(i);s<c.length;s++){for(var l=c[s],u=l[0],h=l[1],d="",p=0,f=Object.entries(h);p<f.length;p++){var g=f[p],v=g[0],y=g[1],b=y>0?y>1?"plural":"singular":"none";if(o[u][v])d+=(d?", ":"")+o[u][v][b].replace("%d",y).replace("%"+u+"%",v);else if(o[u]["#any"]){d+=(d?", ":"")+o[u]["#any"][b].replace("%d",y).replace("%"+u+"%",v)}else d+=(d?", ":"")+"["+v+"] ("+y+")";d=d.replace(/%([a-zA-Z_]+)%/,(function(e,n){return t&&void 0!==t[n]?t[n]:e}))}n.push(o[u]["#label"].replace("%"+u+"%",d))}n.push("");var _=" "+r.day+"/"+r.month+"/"+r.year+" - "+r.location+" - "+m.StringUtilsHelper.replaceAcronyms(r.section,this.glossary),E=this.getMarkerLink(r,_);n.push("<em>Dernier décès indexé:</em> "+E),e.settings.up_to_date||n.push('<div class="alert alert-warning mtop" role="alert">\n                      <p>\n                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>&nbsp;\n                        <strong>Les r&eacute;sultats de cette ann&eacute;e peuvent &ecirc;tre incomplets car tous les d&eacute;c&egrave;s n\'ont pas encore &eacute;t&eacute; ind&eacute;x&eacute;s.</strong>\n                      </p>\n                  </div>')}else n.push('<div class="alert alert-warning" role="alert">\n                      <p>\n                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>&nbsp;\n                        <strong>Aucun r&eacute;sultat trouv&eacute;, essayez avec d\'autres crit&egrave;res de recherche.</strong>\n                      </p>\n                  </div>');document.querySelector('[data-role="definitionsText"]').innerHTML=n.join("<br />"),a.default("[data-tippy-content]")},e}();t.App=g},function(e,t,n){"use strict";var i=n(3),r=i.eudist,o=i.dist;e.exports={kmrand:function(e,t){for(var n={},i=[],r=t<<2,o=e.length,s=e[0].length>0;i.length<t&&r-- >0;){var a=e[Math.floor(Math.random()*o)],c=s?a.join("_"):""+a;n[c]||(n[c]=!0,i.push(a))}if(i.length<t)throw new Error("Error initializating clusters");return i},kmpp:function(e,t){var n=e[0].length?r:o,i=[],s=e.length,a=e[0].length>0,c=e[Math.floor(Math.random()*s)];a&&c.join("_");for(i.push(c);i.length<t;){for(var l=[],u=i.length,h=0,d=[],p=0;p<s;p++){for(var f=1/0,m=0;m<u;m++){var g=n(e[p],i[m]);g<=f&&(f=g)}l[p]=f}for(var v=0;v<s;v++)h+=l[v];for(var y=0;y<s;y++)d[y]={i:y,v:e[y],pr:l[y]/h,cs:0};d.sort((function(e,t){return e.pr-t.pr})),d[0].cs=d[0].pr;for(var b=1;b<s;b++)d[b].cs=d[b-1].cs+d[b].pr;for(var _=Math.random(),E=0;E<s-1&&d[E++].cs<_;);i.push(d[E-1].v)}return i}}},function(e,t,n){function i(e,t,n,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(e,t,n,i)}i.prototype.run=function(e,t,n,i){this._init(e,t,n,i);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);if(o.length<this.minPts)this.noise.push(r);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(r,s),this._expandCluster(s,o)}}return this.clusters},i.prototype._init=function(e,t,n,i){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this.noise=[],this._datasetLength=e.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}t&&(this.epsilon=t),n&&(this.minPts=n),i&&(this.distance=i)},i.prototype._expandCluster=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(1!==this._visited[i]){this._visited[i]=1;var r=this._regionQuery(i);r.length>=this.minPts&&(t=this._mergeArrays(t,r))}1!==this._assigned[i]&&this._addToCluster(i,e)}},i.prototype._addToCluster=function(e,t){this.clusters[t].push(e),this._assigned[e]=1},i.prototype._regionQuery=function(e){for(var t=[],n=0;n<this._datasetLength;n++){this.distance(this.dataset[e],this.dataset[n])<this.epsilon&&t.push(n)}return t},i.prototype._mergeArrays=function(e,t){for(var n=t.length,i=0;i<n;i++){var r=t[i];e.indexOf(r)<0&&e.push(r)}return e},i.prototype._euclideanDistance=function(e,t){for(var n=0,i=Math.min(e.length,t.length);i--;)n+=(e[i]-t[i])*(e[i]-t[i]);return Math.sqrt(n)},e.exports&&(e.exports=i)},function(e,t,n){function i(e,t,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(e,t,n)}i.prototype.init=function(e,t,n){this.assignments=[],this.centroids=[],void 0!==e&&(this.dataset=e),void 0!==t&&(this.k=t),void 0!==n&&(this.distance=n)},i.prototype.run=function(e,t){this.init(e,t);for(var n=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(u),a=0,c=0;c<u;c++)s[c]=0;for(var l=0;l<n;l++){var u=this.dataset[l].length;if(o===this.assignments[l]){for(c=0;c<u;c++)s[c]+=this.dataset[l][c];a++}}if(a>0){for(c=0;c<u;c++)s[c]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),r=!0}}return this.getClusters()},i.prototype.randomCentroid=function(){var e,t,n=this.dataset.length-1;do{t=Math.round(Math.random()*n),e=this.dataset[t]}while(this.centroids.indexOf(e)>=0);return e},i.prototype.assign=function(){for(var e,t=!1,n=this.dataset.length,i=0;i<n;i++)(e=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=e,t=!0);return t},i.prototype.getClusters=function(){for(var e,t=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===t[e=this.assignments[n]]&&(t[e]=[]),t[e].push(n);return t},i.prototype.argmin=function(e,t,n){for(var i,r=Number.MAX_VALUE,o=0,s=t.length,a=0;a<s;a++)(i=n(e,t[a]))<r&&(r=i,o=a);return o},i.prototype.distance=function(e,t){for(var n=0,i=Math.min(e.length,t.length);i--;){var r=e[i]-t[i];n+=r*r}return Math.sqrt(n)},e.exports&&(e.exports=i)},function(e,t,n){if(e.exports)var i=n(4);function r(e,t,n,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(e,t,n,i)}r.prototype.run=function(e,t,n,r){this._init(e,t,n,r);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var c=new i(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,c),this._expandCluster(a,c))}return this.clusters},r.prototype.getReachabilityPlot=function(){for(var e=[],t=0,n=this._orderedList.length;t<n;t++){var i=this._orderedList[t],r=this._reachability[i];e.push([i,r])}return e},r.prototype._init=function(e,t,n,i){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}t&&(this.epsilon=t),n&&(this.minPts=n),i&&(this.distance=i)},r.prototype._updateQueue=function(e,t,n){var i=this;this._coreDistance=this._distanceToCore(e),t.forEach((function(t){if(void 0===i._processed[t]){var r=i.distance(i.dataset[e],i.dataset[t]),o=Math.max(i._coreDistance,r);void 0===i._reachability[t]?(i._reachability[t]=o,n.insert(t,o)):o<i._reachability[t]&&(i._reachability[t]=o,n.remove(t),n.insert(t,o))}}))},r.prototype._expandCluster=function(e,t){for(var n=t.getElements(),i=0,r=n.length;i<r;i++){var o=n[i];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[e].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,t),this._expandCluster(e,t))}}},r.prototype._distanceToCore=function(e){for(var t=this.epsilon,n=0;n<t;n++){if(this._regionQuery(e,n).length>=this.minPts)return n}},r.prototype._regionQuery=function(e,t){t=t||this.epsilon;for(var n=[],i=0,r=this.dataset.length;i<r;i++)this.distance(this.dataset[e],this.dataset[i])<t&&n.push(i);return n},r.prototype._euclideanDistance=function(e,t){for(var n=0,i=Math.min(e.length,t.length);i--;)n+=(e[i]-t[i])*(e[i]-t[i]);return Math.sqrt(n)},e.exports&&(e.exports=r)},function(e,t){const n="__googleMapsApiOnLoadCallback",i=["channel","client","key","language","region","v"];let r=null;e.exports=function(e={}){return r=r||new Promise((function(t,r){const o=setTimeout((function(){window[n]=function(){},r(new Error("Could not load the Google Maps API"))}),e.timeout||1e4);window[n]=function(){null!==o&&clearTimeout(o),t(window.google.maps),delete window[n]};const s=document.createElement("script"),a=["callback="+n];i.forEach((function(t){e[t]&&a.push(`${t}=${e[t]}`)})),e.libraries&&e.libraries.length&&a.push("libraries="+e.libraries.join(",")),s.src=`${e.apiUrl||"https://maps.googleapis.com/maps/api/js"}?${a.join("&")}`,document.body.appendChild(s)})),r}},function(e,t,n){(function(n,i){var r,o,s;o=[],void 0===(s="function"==typeof(r=function(){function e(e){return"function"==typeof e}function t(e){return"object"==typeof e}function r(e){void 0!==n?n(e):void 0!==i&&i.nextTick?i.nextTick(e):setTimeout(e,0)}return function n(i){var o,s=[],a=[],c=function(e,t){return null==o&&null!=e&&(o=e,s=t,a.length&&r((function(){for(var e=0;e<a.length;e++)a[e]()}))),o};return c.then=function(c,l){var u=n(i),h=function(){try{var n=o?c:l;e(n)?function n(i){var r,o=0;try{if(i&&(t(i)||e(i))&&e(r=i.then)){if(i===u)throw new TypeError;r.call(i,(function(){o++||n.apply(void 0,arguments)}),(function(e){o++||u(!1,[e])}))}else u(!0,arguments)}catch(e){o++||u(!1,[e])}}(n.apply(void 0,s||[])):u(o,s)}catch(e){u(!1,[e])}};return null!=o?r(h):a.push(h),u},i&&(c=i(c)),c}})?r.apply(t,o):r)||(e.exports=s)}).call(this,n(17).setImmediate,n(6))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(18),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,s,a,c=1,l={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},i=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(f,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),i=function(t){e.postMessage(s+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[c]=r,i(c),c++},d.clearImmediate=p}function p(e){delete l[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(6))},function(e,t,n){var i;!function(n){"use strict";var r=function(e){var t=function(e,t,n){n="function"==typeof n?n():null==n?"":n,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)},n=function(e,i,r){var o,s,a;if("[object Array]"===Object.prototype.toString.call(i))for(o=0,s=i.length;o<s;o++)n(e+"["+("object"==typeof i[o]?o:"")+"]",i[o],r);else if(i&&"[object Object]"===i.toString())for(a in i)i.hasOwnProperty(a)&&n(e?e+"["+a+"]":a,i[a],r,t);else if(e)t(r,e,i);else for(a in i)t(r,a,i[a]);return r};return n("",e,[]).join("&").replace(/%20/g,"+")};"object"==typeof e.exports?e.exports=r:void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){"use strict";n.r(t);const i=(()=>{const e=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];class t{constructor({targetModal:e,triggers:t=[],onShow:n=(()=>{}),onClose:i=(()=>{}),openTrigger:r="data-micromodal-trigger",closeTrigger:o="data-micromodal-close",disableScroll:s=!1,disableFocus:a=!1,awaitCloseAnimation:c=!1,awaitOpenAnimation:l=!1,debugMode:u=!1}){this.modal=document.getElementById(e),this.config={debugMode:u,disableScroll:s,openTrigger:r,closeTrigger:o,onShow:n,onClose:i,awaitCloseAnimation:c,awaitOpenAnimation:l,disableFocus:a},t.length>0&&this.registerTriggers(...t),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}registerTriggers(...e){e.filter(Boolean).forEach(e=>{e.addEventListener("click",e=>this.showModal(e))})}showModal(){if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("is-open"),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){const e=()=>{this.modal.removeEventListener("animationend",e,!1),this.setFocusToFirstNode()};this.modal.addEventListener("animationend",e,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement)}closeModal(){const e=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener("animationend",(function t(){e.classList.remove("is-open"),e.removeEventListener("animationend",t,!1)}),!1):e.classList.remove("is-open")}closeModalById(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}scrollBehaviour(e){if(!this.config.disableScroll)return;const t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:"",height:""});break;case"disable":Object.assign(t.style,{overflow:"hidden",height:"100vh"})}}addEventListeners(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}removeEventListeners(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}onClick(e){e.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),e.preventDefault())}onKeydown(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.maintainFocus(e)}getFocusableNodes(){const t=this.modal.querySelectorAll(e);return Array(...t)}setFocusToFirstNode(){if(this.config.disableFocus)return;const e=this.getFocusableNodes();e.length&&e[0].focus()}maintainFocus(e){const t=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){const n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())}else t[0].focus()}}let n=null;const i=e=>{if(!document.getElementById(e))return console.warn(`MicroModal: ❗Seems like you have missed %c'${e}'`,"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",`<div class="modal" id="${e}"></div>`),!1},r=(e,t)=>{if((e=>{if(e.length<=0)console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>')})(e),!t)return!0;for(var n in t)i(n);return!0};return{init:e=>{const i=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),o=[...document.querySelectorAll(`[${i.openTrigger}]`)],s=((e,t)=>{const n=[];return e.forEach(e=>{const i=e.attributes[t].value;void 0===n[i]&&(n[i]=[]),n[i].push(e)}),n})(o,i.openTrigger);if(!0!==i.debugMode||!1!==r(o,s))for(var a in s){let e=s[a];i.targetModal=a,i.triggers=[...e],n=new t(i)}},show:(e,r)=>{const o=r||{};o.targetModal=e,!0===o.debugMode&&!1===i(e)||(n=new t(o),n.showModal())},close:e=>{e?n.closeModalById(e):n.closeModal()}}})();t.default=i},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r="active",o="idle",s=["click","mousemove","keydown","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","focus"],a=["blur","visibilitychange"],c=["mousemove"],l=void 0,u=void 0;if(void 0!==document.hidden)l="hidden",u="visibilitychange";else for(var h=["webkit","moz","ms"],d=0;d<h.length;d++){var p=h[d];if(void 0!==document[p+"Hidden"]){l=p+"Hidden",u=p+"visibilitychange";break}}t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.activityEvents,h=void 0===n?s:n,d=t.inactivityEvents,p=void 0===d?a:d,f=t.ignoredEventsWhenIdle,m=void 0===f?c:f,g=t.timeToIdle,v=void 0===g?3e4:g,y=t.initialState,b=void 0===y?"active":y,_=t.autoInit,E=void 0===_||_,w=(i(e={},r,[]),i(e,o,[]),e),C=void 0,O=void 0,T=function e(t){clearTimeout(O),t===r&&(O=setTimeout((function(){return e(o)}),v)),C!==t&&w[C=t].forEach((function(e){return e()}))},S=function(e){(C===r||m.indexOf(e.type)<0)&&T(r)},I=function(){T(o)},x=function(){T(document[l]?o:r)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"active";T(e===r?r:o),h.forEach((function(e){return window.addEventListener(e,S)})),p.filter((function(e){return"visibilitychange"!==e})).forEach((function(e){return window.addEventListener(e,I)})),p.indexOf("visibilitychange")>=0&&u&&document.addEventListener(u,x)},P=function(e,t){w[e].push(t);return function(){var n=w[e].indexOf(t);n>=0&&w[e].splice(n,1)}},A=function(){w[r]=[],w[o]=[],clearTimeout(O),h.forEach((function(e){return window.removeEventListener(e,S)})),p.forEach((function(e){return window.removeEventListener(e,I)})),u&&document.removeEventListener(u,x)};return E&&L(b),{on:P,stop:A,init:L}}},function(e,t,n){var i;window,i=function(){return function(){var e={282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearChoices=t.activateChoices=t.filterChoices=t.addChoice=void 0;var i=n(883);t.addChoice=function(e){var t=e.value,n=e.label,r=e.id,o=e.groupId,s=e.disabled,a=e.elementId,c=e.customProperties,l=e.placeholder,u=e.keyCode;return{type:i.ACTION_TYPES.ADD_CHOICE,value:t,label:n,id:r,groupId:o,disabled:s,elementId:a,customProperties:c,placeholder:l,keyCode:u}},t.filterChoices=function(e){return{type:i.ACTION_TYPES.FILTER_CHOICES,results:e}},t.activateChoices=function(e){return void 0===e&&(e=!0),{type:i.ACTION_TYPES.ACTIVATE_CHOICES,active:e}},t.clearChoices=function(){return{type:i.ACTION_TYPES.CLEAR_CHOICES}}},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addGroup=void 0;var i=n(883);t.addGroup=function(e){var t=e.value,n=e.id,r=e.active,o=e.disabled;return{type:i.ACTION_TYPES.ADD_GROUP,value:t,id:n,active:r,disabled:o}}},464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlightItem=t.removeItem=t.addItem=void 0;var i=n(883);t.addItem=function(e){var t=e.value,n=e.label,r=e.id,o=e.choiceId,s=e.groupId,a=e.customProperties,c=e.placeholder,l=e.keyCode;return{type:i.ACTION_TYPES.ADD_ITEM,value:t,label:n,id:r,choiceId:o,groupId:s,customProperties:a,placeholder:c,keyCode:l}},t.removeItem=function(e,t){return{type:i.ACTION_TYPES.REMOVE_ITEM,id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:i.ACTION_TYPES.HIGHLIGHT_ITEM,id:e,highlighted:t}}},137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIsLoading=t.resetTo=t.clearAll=void 0;var i=n(883);t.clearAll=function(){return{type:i.ACTION_TYPES.CLEAR_ALL}},t.resetTo=function(e){return{type:i.ACTION_TYPES.RESET_TO,state:e}},t.setIsLoading=function(e){return{type:i.ACTION_TYPES.SET_IS_LOADING,isLoading:e}}},373:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(996)),s=r(n(70)),a=n(282),c=n(783),l=n(464),u=n(137),h=n(520),d=n(883),p=n(789),f=n(799),m=n(655),g=r(n(744)),v=r(n(686)),y="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,b={},_=function(){function e(t,n){var r=this;void 0===t&&(t="[data-choice]"),void 0===n&&(n={}),this.config=o.default.all([p.DEFAULT_CONFIG,e.defaults.options,n],{arrayMerge:function(e,t){return i([],t,!0)}});var s=(0,f.diff)(this.config,p.DEFAULT_CONFIG);s.length&&console.warn("Unknown config option(s) passed",s.join(", "));var a="string"==typeof t?document.querySelector(t):t;if(!(a instanceof HTMLInputElement||a instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=a.type===d.TEXT_TYPE,this._isSelectOneElement=a.type===d.SELECT_ONE_TYPE,this._isSelectMultipleElement=a.type===d.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),n.addItemFilter&&"function"!=typeof n.addItemFilter){var c=n.addItemFilter instanceof RegExp?n.addItemFilter:new RegExp(n.addItemFilter);this.config.addItemFilter=c.test.bind(c)}if(this._isTextElement?this.passedElement=new h.WrappedInput({element:a,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new h.WrappedSelect({element:a,classNames:this.config.classNames,template:function(e){return r._templates.option(e)}}),this.initialised=!1,this._store=new g.default,this._initialState=m.defaultState,this._currentState=m.defaultState,this._prevState=m.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,f.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var l=window.getComputedStyle(this.passedElement.element).direction;l!==window.getComputedStyle(document.documentElement).direction&&(this._direction=l)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var u=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(u)}if(this.passedElement.options&&this.passedElement.options.forEach((function(e){r._presetChoices.push({value:e.value,label:e.innerHTML,selected:!!e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:e.dataset["custom-properties"]})})),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),void(this.initialised=!0);this.init()}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return b},get templates(){return v.default}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;var e=this.config.callbackOnInit;e&&"function"==typeof e&&e.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=v.default,this.initialised=!1)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var n=e.id,i=e.groupId,r=void 0===i?-1:i,o=e.value,s=void 0===o?"":o,a=e.label,c=void 0===a?"":a,u=r>=0?this._store.getGroupById(r):null;return this._store.dispatch((0,l.highlightItem)(n,!0)),t&&this.passedElement.triggerEvent(d.EVENTS.highlightItem,{id:n,value:s,label:c,groupValue:u&&u.value?u.value:null}),this},e.prototype.unhighlightItem=function(e){if(!e||!e.id)return this;var t=e.id,n=e.groupId,i=void 0===n?-1:n,r=e.value,o=void 0===r?"":r,s=e.label,a=void 0===s?"":s,c=i>=0?this._store.getGroupById(i):null;return this._store.dispatch((0,l.highlightItem)(t,!1)),this.passedElement.triggerEvent(d.EVENTS.highlightItem,{id:t,value:o,label:a,groupValue:c&&c.value?c.value:null}),this},e.prototype.highlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.highlightItem(t)})),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.items.forEach((function(t){return e.unhighlightItem(t)})),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.value===e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter((function(t){return t.id!==e})).forEach((function(e){return t._removeItem(e)})),this},e.prototype.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.highlightedActiveItems.forEach((function(n){t._removeItem(n),e&&t._triggerChange(n.value)})),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame((function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(d.EVENTS.showDropdown,{})})),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame((function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(d.EVENTS.hideDropdown,{})})),this):this},e.prototype.getValue=function(e){void 0===e&&(e=!1);var t=this._store.activeItems.reduce((function(t,n){var i=e?n.value:n;return t.push(i),t}),[]);return this._isSelectOneElement?t[0]:t},e.prototype.setValue=function(e){var t=this;return this.initialised?(e.forEach((function(e){return t._setChoiceOrItem(e)})),this):this},e.prototype.setChoiceByValue=function(e){var t=this;return!this.initialised||this._isTextElement||(Array.isArray(e)?e:[e]).forEach((function(e){return t._findAndSelectChoiceByValue(e)})),this},e.prototype.setChoices=function(e,t,n,i){var r=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===n&&(n="label"),void 0===i&&(i=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(i&&this.clearChoices(),"function"==typeof e){var o=e(this);if("function"==typeof Promise&&o instanceof Promise)return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return r._handleLoadingState(!0)})).then((function(){return o})).then((function(e){return r.setChoices(e,t,n,i)})).catch((function(e){r.config.silent||console.error(e)})).then((function(){return r._handleLoadingState(!1)})).then((function(){return r}));if(!Array.isArray(o))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof o));return this.setChoices(o,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach((function(e){if(e.choices)r._addGroup({id:e.id?parseInt("".concat(e.id),10):null,group:e,valueKey:t,labelKey:n});else{var i=e;r._addChoice({value:i[t],label:i[n],isSelected:!!i.selected,isDisabled:!!i.disabled,placeholder:!!i.placeholder,customProperties:i.customProperties})}})),this._stopLoading(),this},e.prototype.clearChoices=function(){return this._store.dispatch((0,a.clearChoices)()),this},e.prototype.clearStore=function(){return this._store.dispatch((0,u.clearAll)()),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0))),this},e.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,n=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),n&&this._renderItems(),this._prevState=this._currentState)}},e.prototype._renderChoices=function(){var e=this,t=this._store,n=t.activeGroups,i=t.activeChoices,r=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame((function(){return e.choiceList.scrollToTop()})),n.length>=1&&!this._isSearching){var o=i.filter((function(e){return!0===e.placeholder&&-1===e.groupId}));o.length>=1&&(r=this._createChoicesFragment(o,r)),r=this._createGroupsFragment(n,i,r)}else i.length>=1&&(r=this._createChoicesFragment(i,r));if(r.childNodes&&r.childNodes.length>0){var s=this._store.activeItems,a=this._canAddItem(s,this.input.value);if(a.response)this.choiceList.append(r),this._highlightChoice();else{var c=this._getTemplate("notice",a.notice);this.choiceList.append(c)}}else{var l=void 0;c=void 0,this._isSearching?(c="function"==typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,l=this._getTemplate("notice",c,"no-results")):(c="function"==typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,l=this._getTemplate("notice",c,"no-choices")),this.choiceList.append(l)}},e.prototype._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},e.prototype._createGroupsFragment=function(e,t,n){var i=this;return void 0===n&&(n=document.createDocumentFragment()),this.config.shouldSort&&e.sort(this.config.sorter),e.forEach((function(e){var r=function(e){return t.filter((function(t){return i._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===i.config.renderSelectedChoices||!t.selected)}))}(e);if(r.length>=1){var o=i._getTemplate("choiceGroup",e);n.appendChild(o),i._createChoicesFragment(r,n,!0)}})),n},e.prototype._createChoicesFragment=function(e,t,n){var r=this;void 0===t&&(t=document.createDocumentFragment()),void 0===n&&(n=!1);var o=this.config,s=o.renderSelectedChoices,a=o.searchResultLimit,c=o.renderChoiceLimit,l=this._isSearching?f.sortByScore:this.config.sorter,u=function(e){if("auto"!==s||r._isSelectOneElement||!e.selected){var n=r._getTemplate("choice",e,r.config.itemSelectText);t.appendChild(n)}},h=e;"auto"!==s||this._isSelectOneElement||(h=e.filter((function(e){return!e.selected})));var d=h.reduce((function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e}),{placeholderChoices:[],normalChoices:[]}),p=d.placeholderChoices,m=d.normalChoices;(this.config.shouldSort||this._isSearching)&&m.sort(l);var g=h.length,v=this._isSelectOneElement?i(i([],p,!0),m,!0):m;this._isSearching?g=a:c&&c>0&&!n&&(g=c);for(var y=0;y<g;y+=1)v[y]&&u(v[y]);return t},e.prototype._createItemsFragment=function(e,t){var n=this;void 0===t&&(t=document.createDocumentFragment());var i=this.config,r=i.shouldSortItems,o=i.sorter,s=i.removeItemButton;return r&&!this._isSelectOneElement&&e.sort(o),this._isTextElement?this.passedElement.value=e.map((function(e){return e.value})).join(this.config.delimiter):this.passedElement.options=e,e.forEach((function(e){var i=n._getTemplate("item",e,s);t.appendChild(i)})),t},e.prototype._triggerChange=function(e){null!=e&&this.passedElement.triggerEvent(d.EVENTS.change,{value:e})},e.prototype._selectPlaceholderChoice=function(e){this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value)},e.prototype._handleButtonAction=function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var n=t.parentNode&&t.parentNode.dataset.id,i=n&&e.find((function(e){return e.id===parseInt(n,10)}));i&&(this._removeItem(i),this._triggerChange(i.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},e.prototype._handleItemAction=function(e,t,n){var i=this;if(void 0===n&&(n=!1),e&&t&&this.config.removeItems&&!this._isSelectOneElement){var r=t.dataset.id;e.forEach((function(e){e.id!==parseInt("".concat(r),10)||e.highlighted?!n&&e.highlighted&&i.unhighlightItem(e):i.highlightItem(e)})),this.input.focus()}},e.prototype._handleChoiceAction=function(e,t){if(e&&t){var n=t.dataset.id,i=n&&this._store.getChoiceById(n);if(i){var r=e[0]&&e[0].keyCode?e[0].keyCode:void 0,o=this.dropdown.isActive;i.keyCode=r,this.passedElement.triggerEvent(d.EVENTS.choice,{choice:i}),i.selected||i.disabled||this._canAddItem(e,i.value).response&&(this._addItem({value:i.value,label:i.label,choiceId:i.id,groupId:i.groupId,customProperties:i.customProperties,placeholder:i.placeholder,keyCode:i.keyCode}),this._triggerChange(i.value)),this.clearInput(),o&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},e.prototype._handleBackspace=function(e){if(this.config.removeItems&&e){var t=e[e.length-1],n=e.some((function(e){return e.highlighted}));this.config.editItems&&!n&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},e.prototype._startLoading=function(){this._store.dispatch((0,u.setIsLoading)(!0))},e.prototype._stopLoading=function(){this._store.dispatch((0,u.setIsLoading)(!1))},e.prototype._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.getChild(".".concat(this.config.classNames.placeholder));e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText))&&this.itemList.append(t):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t&&(t.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(e){if(e&&this.input.isFocussed){var t=this._store.choices,n=this.config,i=n.searchFloor,r=n.searchChoices,o=t.some((function(e){return!e.active}));if(e&&e.length>=i){var s=r?this._searchChoices(e):0;this.passedElement.triggerEvent(d.EVENTS.search,{value:e,resultCount:s})}else o&&(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0)))}},e.prototype._canAddItem=function(e,t){var n=!0,i="function"==typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var r=(0,f.existsInArray)(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,i="function"==typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&r&&n&&(n=!1,i="function"==typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&n&&"function"==typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(n=!1,i="function"==typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:n,notice:i}},e.prototype._searchChoices=function(e){var t="string"==typeof e?e.trim():e,n="string"==typeof this._currentValue?this._currentValue.trim():this._currentValue;if(t.length<1&&t==="".concat(n," "))return 0;var r=this._store.searchableChoices,o=t,c=i([],this.config.searchFields,!0),l=Object.assign(this.config.fuseOptions,{keys:c,includeMatches:!0}),u=new s.default(r,l).search(o);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,a.filterChoices)(u)),u.length},e.prototype._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,n=this._store.activeItems,i=this.input.isFocussed,r=this.dropdown.isActive,o=this.itemList.hasChildren(),s=String.fromCharCode(t),a=/[a-zA-Z0-9-_ ]/.test(s),c=d.KEY_CODES.BACK_KEY,l=d.KEY_CODES.DELETE_KEY,u=d.KEY_CODES.ENTER_KEY,h=d.KEY_CODES.A_KEY,p=d.KEY_CODES.ESC_KEY,f=d.KEY_CODES.UP_KEY,m=d.KEY_CODES.DOWN_KEY,g=d.KEY_CODES.PAGE_UP_KEY,v=d.KEY_CODES.PAGE_DOWN_KEY;switch(this._isTextElement||r||!a||(this.showDropdown(),this.input.isFocussed||(this.input.value+=s.toLowerCase())),t){case h:return this._onSelectKey(e,o);case u:return this._onEnterKey(e,n,r);case p:return this._onEscapeKey(r);case f:case g:case m:case v:return this._onDirectionKey(e,r);case l:case c:return this._onDeleteKey(e,n,i)}},e.prototype._onKeyUp=function(e){var t=e.target,n=e.keyCode,i=this.input.value,r=this._store.activeItems,o=this._canAddItem(r,i),s=d.KEY_CODES.BACK_KEY,c=d.KEY_CODES.DELETE_KEY;if(this._isTextElement)if(o.notice&&i){var l=this._getTemplate("notice",o.notice);this.dropdown.element.innerHTML=l.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0);else{var u=(n===s||n===c)&&t&&!t.value,h=!this._isTextElement&&this._isSearching,p=this._canSearch&&o.response;u&&h?(this._isSearching=!1,this._store.dispatch((0,a.activateChoices)(!0))):p&&this._handleSearch(this.input.value)}this._canSearch=this.config.searchEnabled},e.prototype._onSelectKey=function(e,t){var n=e.ctrlKey,i=e.metaKey;(n||i)&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},e.prototype._onEnterKey=function(e,t,n){var i=e.target,r=d.KEY_CODES.ENTER_KEY,o=i&&i.hasAttribute("data-button");if(this._isTextElement&&i&&i.value){var s=this.input.value;this._canAddItem(t,s).response&&(this.hideDropdown(!0),this._addItem({value:s}),this._triggerChange(s),this.clearInput())}if(o&&(this._handleButtonAction(t,i),e.preventDefault()),n){var a=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));a&&(t[0]&&(t[0].keyCode=r),this._handleChoiceAction(t,a)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())},e.prototype._onEscapeKey=function(e){e&&(this.hideDropdown(!0),this.containerOuter.focus())},e.prototype._onDirectionKey=function(e,t){var n=e.keyCode,i=e.metaKey,r=d.KEY_CODES.DOWN_KEY,o=d.KEY_CODES.PAGE_UP_KEY,s=d.KEY_CODES.PAGE_DOWN_KEY;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var a=n===r||n===s?1:-1,c=void 0;if(i||n===s||n===o)c=a>0?this.dropdown.element.querySelector("".concat("[data-choice-selectable]",":last-of-type")):this.dropdown.element.querySelector("[data-choice-selectable]");else{var l=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));c=l?(0,f.getAdjacentEl)(l,"[data-choice-selectable]",a):this.dropdown.element.querySelector("[data-choice-selectable]")}c&&((0,f.isScrolledIntoView)(c,this.choiceList.element,a)||this.choiceList.scrollToChildElement(c,a),this._highlightChoice(c)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,n){var i=e.target;this._isSelectOneElement||i.value||!n||(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()),this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(y&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild,i="ltr"===this._direction?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft;this._isScrollingOnIe=i}if(t!==this.input.element){var r=t.closest("[data-button],[data-item],[data-choice]");if(r instanceof HTMLElement){var o=e.shiftKey,s=this._store.activeItems,a=r.dataset;"button"in a?this._handleButtonAction(s,r):"item"in a?this._handleItemAction(s,r,o):"choice"in a&&this._handleChoiceAction(s,r)}e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target;this.containerOuter.element.contains(t)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems.length>0&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))},e.prototype._onFocus=function(e){var t,n=this,i=e.target;i&&this.containerOuter.element.contains(i)&&((t={})[d.TEXT_TYPE]=function(){i===n.input.element&&n.containerOuter.addFocusState()},t[d.SELECT_ONE_TYPE]=function(){n.containerOuter.addFocusState(),i===n.input.element&&n.showDropdown(!0)},t[d.SELECT_MULTIPLE_TYPE]=function(){i===n.input.element&&(n.showDropdown(!0),n.containerOuter.addFocusState())},t)[this.passedElement.element.type]()},e.prototype._onBlur=function(e){var t,n=this,i=e.target;if(i&&this.containerOuter.element.contains(i)&&!this._isScrollingOnIe){var r=this._store.activeItems.some((function(e){return e.highlighted}));((t={})[d.TEXT_TYPE]=function(){i===n.input.element&&(n.containerOuter.removeFocusState(),r&&n.unhighlightAll(),n.hideDropdown(!0))},t[d.SELECT_ONE_TYPE]=function(){n.containerOuter.removeFocusState(),(i===n.input.element||i===n.containerOuter.element&&!n._canSearch)&&n.hideDropdown(!0)},t[d.SELECT_MULTIPLE_TYPE]=function(){i===n.input.element&&(n.containerOuter.removeFocusState(),n.hideDropdown(!0),r&&n.unhighlightAll())},t)[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},e.prototype._onFormReset=function(){this._store.dispatch((0,u.resetTo)(this._initialState))},e.prototype._highlightChoice=function(e){var t=this;void 0===e&&(e=null);var n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(n.length){var i=e;Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState))).forEach((function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")})),i?this._highlightPosition=n.indexOf(i):(i=n.length>this._highlightPosition?n[this._highlightPosition]:n[n.length-1])||(i=n[0]),i.classList.add(this.config.classNames.highlightedState),i.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(d.EVENTS.highlightChoice,{el:i}),this.dropdown.isActive&&(this.input.setActiveDescendant(i.id),this.containerOuter.setActiveDescendant(i.id))}},e.prototype._addItem=function(e){var t=e.value,n=e.label,i=void 0===n?null:n,r=e.choiceId,o=void 0===r?-1:r,s=e.groupId,a=void 0===s?-1:s,c=e.customProperties,u=void 0===c?{}:c,h=e.placeholder,p=void 0!==h&&h,f=e.keyCode,m=void 0===f?-1:f,g="string"==typeof t?t.trim():t,v=this._store.items,y=i||g,b=o||-1,_=a>=0?this._store.getGroupById(a):null,E=v?v.length+1:1;this.config.prependValue&&(g=this.config.prependValue+g.toString()),this.config.appendValue&&(g+=this.config.appendValue.toString()),this._store.dispatch((0,l.addItem)({value:g,label:y,id:E,choiceId:b,groupId:a,customProperties:u,placeholder:p,keyCode:m})),this._isSelectOneElement&&this.removeActiveItems(E),this.passedElement.triggerEvent(d.EVENTS.addItem,{id:E,value:g,label:y,customProperties:u,groupValue:_&&_.value?_.value:null,keyCode:m})},e.prototype._removeItem=function(e){var t=e.id,n=e.value,i=e.label,r=e.customProperties,o=e.choiceId,s=e.groupId,a=s&&s>=0?this._store.getGroupById(s):null;t&&o&&(this._store.dispatch((0,l.removeItem)(t,o)),this.passedElement.triggerEvent(d.EVENTS.removeItem,{id:t,value:n,label:i,customProperties:r,groupValue:a&&a.value?a.value:null}))},e.prototype._addChoice=function(e){var t=e.value,n=e.label,i=void 0===n?null:n,r=e.isSelected,o=void 0!==r&&r,s=e.isDisabled,c=void 0!==s&&s,l=e.groupId,u=void 0===l?-1:l,h=e.customProperties,d=void 0===h?{}:h,p=e.placeholder,f=void 0!==p&&p,m=e.keyCode,g=void 0===m?-1:m;if(null!=t){var v=this._store.choices,y=i||t,b=v?v.length+1:1,_="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(b);this._store.dispatch((0,a.addChoice)({id:b,groupId:u,elementId:_,value:t,label:y,disabled:c,customProperties:d,placeholder:f,keyCode:g})),o&&this._addItem({value:t,label:y,choiceId:b,customProperties:d,placeholder:f,keyCode:g})}},e.prototype._addGroup=function(e){var t=this,n=e.group,i=e.id,r=e.valueKey,o=void 0===r?"value":r,s=e.labelKey,a=void 0===s?"label":s,l=(0,f.isType)("Object",n)?n.choices:Array.from(n.getElementsByTagName("OPTION")),u=i||Math.floor((new Date).valueOf()*Math.random()),h=!!n.disabled&&n.disabled;l?(this._store.dispatch((0,c.addGroup)({value:n.label,id:u,active:!0,disabled:h})),l.forEach((function(e){var n=e.disabled||e.parentNode&&e.parentNode.disabled;t._addChoice({value:e[o],label:(0,f.isType)("Object",e)?e[a]:e.innerHTML,isSelected:e.selected,isDisabled:n,groupId:u,customProperties:e.customProperties,placeholder:e.placeholder})}))):this._store.dispatch((0,c.addGroup)({value:n.label,id:n.id,active:!1,disabled:n.disabled}))},e.prototype._getTemplate=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.config.classNames;return(t=this._templates[e]).call.apply(t,i([this,o],n,!1))},e.prototype._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&"function"==typeof e&&(t=e.call(this,f.strToEl)),this._templates=(0,o.default)(v.default,t)},e.prototype._createElements=function(){this.containerOuter=new h.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new h.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new h.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new h.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new h.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new h.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},e.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},e.prototype._addPredefinedGroups=function(e){var t=this,n=this.passedElement.placeholderOption;n&&n.parentNode&&"SELECT"===n.parentNode.tagName&&this._addChoice({value:n.value,label:n.innerHTML,isSelected:n.selected,isDisabled:n.disabled,placeholder:!0}),e.forEach((function(e){return t._addGroup({group:e,id:e.id||null})}))},e.prototype._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var n=e.some((function(e){return e.selected})),i=e.findIndex((function(e){return void 0===e.disabled||!e.disabled}));e.forEach((function(e,r){var o=e.value,s=void 0===o?"":o,a=e.label,c=e.customProperties,l=e.placeholder;if(t._isSelectElement)if(e.choices)t._addGroup({group:e,id:e.id||null});else{var u=!(!t._isSelectOneElement||n||r!==i)||e.selected,h=e.disabled;t._addChoice({value:s,label:a,isSelected:!!u,isDisabled:!!h,placeholder:!!l,customProperties:c})}else t._addChoice({value:s,label:a,isSelected:!!e.selected,isDisabled:!!e.disabled,placeholder:!!e.placeholder,customProperties:c})}))},e.prototype._addPredefinedItems=function(e){var t=this;e.forEach((function(e){"object"==typeof e&&e.value&&t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"==typeof e&&t._addItem({value:e})}))},e.prototype._setChoiceOrItem=function(e){var t=this;({object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}})[(0,f.getType)(e).toLowerCase()]()},e.prototype._findAndSelectChoiceByValue=function(e){var t=this,n=this._store.choices.find((function(n){return t.config.valueComparer(n.value,e)}));n&&!n.selected&&this._addItem({value:n.value,label:n.label,choiceId:n.id,groupId:n.groupId,customProperties:n.customProperties,placeholder:n.placeholder,keyCode:n.keyCode})},e.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var e=this.passedElement.placeholderOption;return e?e.text:null}var t=this.config,n=t.placeholder,i=t.placeholderValue,r=this.passedElement.element.dataset;if(n){if(i)return i;if(r.placeholder)return r.placeholder}return null},e}();t.default=_},613:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(799),r=n(883),o=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,r=e.position;this.element=t,this.classNames=i,this.type=n,this.position=r,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return e.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},e.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.shouldFlip=function(e){if("number"!=typeof e)return!1;var t=!1;return"auto"===this.position?t=!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:"top"===this.position&&(t=!0),t},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},e.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},e.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===r.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===r.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(e){(0,i.wrap)(e,this.element)},e.prototype.unwrap=function(e){this.element.parentNode&&(this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element))},e.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t.default=o},217:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.element,n=e.type,i=e.classNames;this.element=t,this.classNames=i,this.type=n,this.isActive=!1}return Object.defineProperty(e.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}();t.default=n},520:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedSelect=t.WrappedInput=t.List=t.Input=t.Container=t.Dropdown=void 0;var r=i(n(217));t.Dropdown=r.default;var o=i(n(613));t.Container=o.default;var s=i(n(11));t.Input=s.default;var a=i(n(624));t.List=a.default;var c=i(n(541));t.WrappedInput=c.default;var l=i(n(982));t.WrappedSelect=l.default},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(799),r=n(883),o=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,r=e.preventPaste;this.element=t,this.type=n,this.classNames=i,this.preventPaste=r,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return(0,i.sanitise)(this.element.value)},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return void 0===e&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element,t=e.style,n=e.value,i=e.placeholder;t.minWidth="".concat(i.length+1,"ch"),t.width="".concat(n.length+1,"ch")},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==r.SELECT_ONE_TYPE&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t.default=o},624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(883),r=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.clear=function(){this.element.innerHTML=""},e.prototype.append=function(e){this.element.appendChild(e)},e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.hasChildren=function(){return this.element.hasChildNodes()},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var n=this;if(e){var i=this.element.offsetHeight,r=this.element.scrollTop+i,o=e.offsetHeight,s=e.offsetTop+o,a=t>0?this.element.scrollTop+s-r:e.offsetTop;requestAnimationFrame((function(){n._animateScroll(a,t)}))}},e.prototype._scrollDown=function(e,t,n){var i=(n-e)/t,r=i>1?i:1;this.element.scrollTop=e+r},e.prototype._scrollUp=function(e,t,n){var i=(e-n)/t,r=i>1?i:1;this.element.scrollTop=e-r},e.prototype._animateScroll=function(e,t){var n=this,r=i.SCROLLING_SPEED,o=this.element.scrollTop,s=!1;t>0?(this._scrollDown(o,r,e),o<e&&(s=!0)):(this._scrollUp(o,r,e),o>e&&(s=!0)),s&&requestAnimationFrame((function(){n._animateScroll(e,t)}))},e}();t.default=r},730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(799),r=function(){function e(e){var t=e.element,n=e.classNames;if(this.element=t,this.classNames=n,!(t instanceof HTMLInputElement||t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},e.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){(0,i.dispatchEvent)(this.element,e,t)},e}();t.default=r},541:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=t.element,i=t.classNames,r=t.delimiter,o=e.call(this,{element:n,classNames:i})||this;return o.delimiter=r,o}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),t}(o(n(730)).default);t.default=s},982:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=t.element,i=t.classNames,r=t.template,o=e.call(this,{element:n,classNames:i})||this;return o.template=r,o}return r(t,e),Object.defineProperty(t.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(e){var t=this,n=document.createDocumentFragment();e.forEach((function(e){return i=e,r=t.template(i),void n.appendChild(r);var i,r})),this.appendDocFragment(n)},enumerable:!1,configurable:!0}),t.prototype.appendDocFragment=function(e){this.element.innerHTML="",this.element.appendChild(e)},t}(o(n(730)).default);t.default=s},883:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLLING_SPEED=t.SELECT_MULTIPLE_TYPE=t.SELECT_ONE_TYPE=t.TEXT_TYPE=t.KEY_CODES=t.ACTION_TYPES=t.EVENTS=void 0,t.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},t.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},t.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},t.TEXT_TYPE="text",t.SELECT_ONE_TYPE="select-one",t.SELECT_MULTIPLE_TYPE="select-multiple",t.SCROLLING_SPEED=4},789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.DEFAULT_CLASSNAMES=void 0;var i=n(799);t.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},t.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:i.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat((0,i.sanitise)(e),'"</b>')},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:t.DEFAULT_CLASSNAMES}},799:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.diff=t.cloneObject=t.existsInArray=t.dispatchEvent=t.sortByScore=t.sortByAlpha=t.strToEl=t.sanitise=t.isScrolledIntoView=t.getAdjacentEl=t.wrap=t.isType=t.getType=t.generateId=t.generateChars=t.getRandomNumber=void 0,t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)},t.generateChars=function(e){return Array.from({length:e},(function(){return(0,t.getRandomNumber)(0,36).toString(36)})).join("")},t.generateId=function(e,n){var i=e.id||e.name&&"".concat(e.name,"-").concat((0,t.generateChars)(2))||(0,t.generateChars)(4);return i=i.replace(/(:|\.|\[|\]|,)/g,""),i="".concat(n,"-").concat(i)},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t.isType=function(e,n){return null!=n&&(0,t.getType)(n)===e},t.wrap=function(e,t){return void 0===t&&(t=document.createElement("div")),e.parentNode&&(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)),t.appendChild(e)},t.getAdjacentEl=function(e,t,n){void 0===n&&(n=1);for(var i="".concat(n>0?"next":"previous","ElementSibling"),r=e[i];r;){if(r.matches(t))return r;r=r[i]}return r},t.isScrolledIntoView=function(e,t,n){return void 0===n&&(n=1),!!e&&(n>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop)},t.sanitise=function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},t.strToEl=(n=document.createElement("div"),function(e){var t=e.trim();n.innerHTML=t;for(var i=n.children[0];n.firstChild;)n.removeChild(n.firstChild);return i}),t.sortByAlpha=function(e,t){var n=e.value,i=e.label,r=void 0===i?n:i,o=t.value,s=t.label,a=void 0===s?o:s;return r.localeCompare(a,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},t.sortByScore=function(e,t){var n=e.score,i=void 0===n?0:n,r=t.score;return i-(void 0===r?0:r)},t.dispatchEvent=function(e,t,n){void 0===n&&(n=null);var i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});return e.dispatchEvent(i)},t.existsInArray=function(e,t,n){return void 0===n&&(n="value"),e.some((function(e){return"string"==typeof t?e[n]===t.trim():e[n]===t}))},t.cloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.diff=function(e,t){var n=Object.keys(e).sort(),i=Object.keys(t).sort();return n.filter((function(e){return i.indexOf(e)<0}))}},273:function(e,t){"use strict";var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,i){switch(void 0===e&&(e=t.defaultState),void 0===i&&(i={}),i.type){case"ADD_CHOICE":var r=i,o={id:r.id,elementId:r.elementId,groupId:r.groupId,value:r.value,label:r.label||r.value,disabled:r.disabled||!1,selected:!1,active:!0,score:9999,customProperties:r.customProperties,placeholder:r.placeholder||!1};return n(n([],e,!0),[o],!1);case"ADD_ITEM":var s=i;return s.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(s.choiceId),10)&&(t.selected=!0),t})):e;case"REMOVE_ITEM":var a=i;return a.choiceId&&a.choiceId>-1?e.map((function(e){var t=e;return t.id===parseInt("".concat(a.choiceId),10)&&(t.selected=!1),t})):e;case"FILTER_CHOICES":var c=i;return e.map((function(e){var t=e;return t.active=c.results.some((function(e){var n=e.item,i=e.score;return n.id===t.id&&(t.score=i,!0)})),t}));case"ACTIVATE_CHOICES":var l=i;return e.map((function(e){var t=e;return t.active=l.active,t}));case"CLEAR_CHOICES":return t.defaultState;default:return e}}},871:function(e,t){"use strict";var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,i){switch(void 0===e&&(e=t.defaultState),void 0===i&&(i={}),i.type){case"ADD_GROUP":var r=i;return n(n([],e,!0),[{id:r.id,value:r.value,active:r.active,disabled:r.disabled}],!1);case"CLEAR_CHOICES":return[];default:return e}}},655:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0;var r=n(857),o=i(n(52)),s=i(n(871)),a=i(n(273)),c=i(n(502)),l=n(799);t.defaultState={groups:[],items:[],choices:[],loading:!1};var u=(0,r.combineReducers)({items:o.default,groups:s.default,choices:a.default,loading:c.default});t.default=function(e,n){var i=e;if("CLEAR_ALL"===n.type)i=t.defaultState;else if("RESET_TO"===n.type)return(0,l.cloneObject)(n.state);return u(i,n)}},52:function(e,t){"use strict";var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,i){switch(void 0===e&&(e=t.defaultState),void 0===i&&(i={}),i.type){case"ADD_ITEM":var r=i;return n(n([],e,!0),[{id:r.id,choiceId:r.choiceId,groupId:r.groupId,value:r.value,label:r.label,active:!0,highlighted:!1,customProperties:r.customProperties,placeholder:r.placeholder||!1,keyCode:null}],!1).map((function(e){var t=e;return t.highlighted=!1,t}));case"REMOVE_ITEM":return e.map((function(e){var t=e;return t.id===i.id&&(t.active=!1),t}));case"HIGHLIGHT_ITEM":var o=i;return e.map((function(e){var t=e;return t.id===o.id&&(t.highlighted=o.highlighted),t}));default:return e}}},502:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=!1,t.default=function(e,n){switch(void 0===e&&(e=t.defaultState),void 0===n&&(n={}),n.type){case"SET_IS_LOADING":return n.isLoading;default:return e}}},744:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(857),s=r(n(655)),a=function(){function e(){this._store=(0,o.createStore)(s.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return e.prototype.subscribe=function(e){this._store.subscribe(e)},e.prototype.dispatch=function(e){this._store.dispatch(e)},Object.defineProperty(e.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeItems",{get:function(){return this.items.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter((function(e){return e.active&&e.highlighted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter((function(e){return!0===e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectableChoices",{get:function(){return this.choices.filter((function(e){return!0!==e.disabled}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter((function(e){return!0!==e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholderChoice",{get:function(){return i([],this.choices,!0).reverse().find((function(e){return!0===e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var e=this.groups,t=this.choices;return e.filter((function(e){var n=!0===e.active&&!1===e.disabled,i=t.some((function(e){return!0===e.active&&!1===e.disabled}));return n&&i}),[])},enumerable:!1,configurable:!0}),e.prototype.isLoading=function(){return this.state.loading},e.prototype.getChoiceById=function(e){return this.activeChoices.find((function(t){return t.id===parseInt(e,10)}))},e.prototype.getGroupById=function(e){return this.groups.find((function(t){return t.id===e}))},e}();t.default=a},686:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={containerOuter:function(e,t,n,i,r,o){var s=e.containerOuter,a=Object.assign(document.createElement("div"),{className:s});return a.dataset.type=o,t&&(a.dir=t),i&&(a.tabIndex=0),n&&(a.setAttribute("role",r?"combobox":"listbox"),r&&a.setAttribute("aria-autocomplete","list")),a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-expanded","false"),a},containerInner:function(e){var t=e.containerInner;return Object.assign(document.createElement("div"),{className:t})},itemList:function(e,t){var n=e.list,i=e.listSingle,r=e.listItems;return Object.assign(document.createElement("div"),{className:"".concat(n," ").concat(t?i:r)})},placeholder:function(e,t){var n=e.placeholder;return Object.assign(document.createElement("div"),{className:n,innerHTML:t})},item:function(e,t,n){var i=e.item,r=e.button,o=e.highlightedState,s=e.itemSelectable,a=e.placeholder,c=t.id,l=t.value,u=t.label,h=t.customProperties,d=t.active,p=t.disabled,f=t.highlighted,m=t.placeholder,g=Object.assign(document.createElement("div"),{className:i,innerHTML:u});if(Object.assign(g.dataset,{item:"",id:c,value:l,customProperties:h}),d&&g.setAttribute("aria-selected","true"),p&&g.setAttribute("aria-disabled","true"),m&&g.classList.add(a),g.classList.add(f?o:s),n){p&&g.classList.remove(s),g.dataset.deletable="";var v=Object.assign(document.createElement("button"),{type:"button",className:r,innerHTML:"Remove item"});v.setAttribute("aria-label","".concat("Remove item",": '").concat(l,"'")),v.dataset.button="",g.appendChild(v)}return g},choiceList:function(e,t){var n=e.list,i=Object.assign(document.createElement("div"),{className:n});return t||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup:function(e,t){var n=e.group,i=e.groupHeading,r=e.itemDisabled,o=t.id,s=t.value,a=t.disabled,c=Object.assign(document.createElement("div"),{className:"".concat(n," ").concat(a?r:"")});return c.setAttribute("role","group"),Object.assign(c.dataset,{group:"",id:o,value:s}),a&&c.setAttribute("aria-disabled","true"),c.appendChild(Object.assign(document.createElement("div"),{className:i,innerHTML:s})),c},choice:function(e,t,n){var i=e.item,r=e.itemChoice,o=e.itemSelectable,s=e.selectedState,a=e.itemDisabled,c=e.placeholder,l=t.id,u=t.value,h=t.label,d=t.groupId,p=t.elementId,f=t.disabled,m=t.selected,g=t.placeholder,v=Object.assign(document.createElement("div"),{id:p,innerHTML:h,className:"".concat(i," ").concat(r)});return m&&v.classList.add(s),g&&v.classList.add(c),v.setAttribute("role",d&&d>0?"treeitem":"option"),Object.assign(v.dataset,{choice:"",id:l,value:u,selectText:n}),f?(v.classList.add(a),v.dataset.choiceDisabled="",v.setAttribute("aria-disabled","true")):(v.classList.add(o),v.dataset.choiceSelectable=""),v},input:function(e,t){var n=e.input,i=e.inputCloned,r=Object.assign(document.createElement("input"),{type:"text",className:"".concat(n," ").concat(i),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return r.setAttribute("role","textbox"),r.setAttribute("aria-autocomplete","list"),r.setAttribute("aria-label",t),r},dropdown:function(e){var t=e.list,n=e.listDropdown,i=document.createElement("div");return i.classList.add(t,n),i.setAttribute("aria-expanded","false"),i},notice:function(e,t,n){var i=e.item,r=e.itemChoice,o=e.noResults,s=e.noChoices;void 0===n&&(n="");var a=[i,r];return"no-choices"===n?a.push(s):"no-results"===n&&a.push(o),Object.assign(document.createElement("div"),{innerHTML:t,className:a.join(" ")})},option:function(e){var t=e.label,n=e.value,i=e.customProperties,r=e.active,o=e.disabled,s=new Option(t,n,!1,r);return i&&(s.dataset.customProperties="".concat(i)),s.disabled=!!o,s}};t.default=n},996:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,t,n){var r={};return n.isMergeableObject(e)&&o(e).forEach((function(t){r[t]=i(e[t],n)})),o(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}function c(e,n,o){(o=o||{}).arrayMerge=o.arrayMerge||r,o.isMergeableObject=o.isMergeableObject||t,o.cloneUnlessOtherwiseSpecified=i;var s=Array.isArray(n);return s===Array.isArray(e)?s?o.arrayMerge(e,n,o):a(e,n,o):i(n,o)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;e.exports=l},70:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(2),s=n(8),a=n(0),c=function(){function e(t,n){var i=n.location,r=void 0===i?0:i,o=n.distance,a=void 0===o?100:o,c=n.threshold,l=void 0===c?.6:c,u=n.maxPatternLength,h=void 0===u?32:u,d=n.caseSensitive,p=void 0!==d&&d,f=n.tokenSeparator,m=void 0===f?/ +/g:f,g=n.findAllMatches,v=void 0!==g&&g,y=n.minMatchCharLength,b=void 0===y?1:y,_=n.id,E=void 0===_?null:_,w=n.keys,C=void 0===w?[]:w,O=n.shouldSort,T=void 0===O||O,S=n.getFn,I=void 0===S?s:S,x=n.sortFn,L=void 0===x?function(e,t){return e.score-t.score}:x,P=n.tokenize,A=void 0!==P&&P,M=n.matchAllTokens,k=void 0!==M&&M,D=n.includeMatches,j=void 0!==D&&D,N=n.includeScore,F=void 0!==N&&N,B=n.verbose,H=void 0!==B&&B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:a,threshold:l,maxPatternLength:h,isCaseSensitive:p,tokenSeparator:m,findAllMatches:v,minMatchCharLength:b,id:E,keys:C,includeMatches:j,includeScore:F,shouldSort:T,getFn:I,sortFn:L,verbose:H,tokenize:A,matchAllTokens:k},this.setCollection(t)}var t,n;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),i=n.tokenSearchers,r=n.fullSearcher,o=this._search(i,r),s=o.weights,a=o.results;return this._computeScore(s,a),this.options.shouldSort&&this._sort(a),t.limit&&"number"==typeof t.limit&&(a=a.slice(0,t.limit)),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),i=0,r=n.length;i<r;i+=1)t.push(new o(n[i],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,i={},r=[];if("string"==typeof n[0]){for(var o=0,s=n.length;o<s;o+=1)this._analyze({key:"",value:n[o],record:o,index:o},{resultMap:i,results:r,tokenSearchers:e,fullSearcher:t});return{weights:null,results:r}}for(var a={},c=0,l=n.length;c<l;c+=1)for(var u=n[c],h=0,d=this.options.keys.length;h<d;h+=1){var p=this.options.keys[h];if("string"!=typeof p){if(a[p.name]={weight:1-p.weight||1},p.weight<=0||p.weight>1)throw new Error("Key weight has to be > 0 and <= 1");p=p.name}else a[p]={weight:1};this._analyze({key:p,value:this.options.getFn(u,p),record:u,index:c},{resultMap:i,results:r,tokenSearchers:e,fullSearcher:t})}return{weights:a,results:r}}},{key:"_analyze",value:function(e,t){var n=e.key,i=e.arrayIndex,r=void 0===i?-1:i,o=e.value,s=e.record,c=e.index,l=t.tokenSearchers,u=void 0===l?[]:l,h=t.fullSearcher,d=void 0===h?[]:h,p=t.resultMap,f=void 0===p?{}:p,m=t.results,g=void 0===m?[]:m;if(null!=o){var v=!1,y=-1,b=0;if("string"==typeof o){this._log("\nKey: ".concat(""===n?"-":n));var _=d.search(o);if(this._log('Full text: "'.concat(o,'", score: ').concat(_.score)),this.options.tokenize){for(var E=o.split(this.options.tokenSeparator),w=[],C=0;C<u.length;C+=1){var O=u[C];this._log('\nPattern: "'.concat(O.pattern,'"'));for(var T=!1,S=0;S<E.length;S+=1){var I=E[S],x=O.search(I),L={};x.isMatch?(L[I]=x.score,v=!0,T=!0,w.push(x.score)):(L[I]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'.concat(I,'", score: ').concat(L[I]))}T&&(b+=1)}y=w[0];for(var P=w.length,A=1;A<P;A+=1)y+=w[A];y/=P,this._log("Token score average:",y)}var M=_.score;y>-1&&(M=(M+y)/2),this._log("Score average:",M);var k=!this.options.tokenize||!this.options.matchAllTokens||b>=u.length;if(this._log("\nCheck Matches: ".concat(k)),(v||_.isMatch)&&k){var D=f[c];D?D.output.push({key:n,arrayIndex:r,value:o,score:M,matchedIndices:_.matchedIndices}):(f[c]={item:s,output:[{key:n,arrayIndex:r,value:o,score:M,matchedIndices:_.matchedIndices}]},g.push(f[c]))}}else if(a(o))for(var j=0,N=o.length;j<N;j+=1)this._analyze({key:n,arrayIndex:j,value:o[j],record:s,index:c},{resultMap:f,results:g,tokenSearchers:u,fullSearcher:d})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,i=t.length;n<i;n+=1){for(var r=t[n].output,o=r.length,s=1,a=1,c=0;c<o;c+=1){var l=e?e[r[c].key].weight:1,u=(1===l?r[c].score:r[c].score||.001)*l;1!==l?a=Math.min(a,u):(r[c].nScore=u,s*=u)}t[n].score=1===a?s:a,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===i(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}))),n=null}var r=[];this.options.includeMatches&&r.push((function(e,t){var n=e.output;t.matches=[];for(var i=0,r=n.length;i<r;i+=1){var o=n[i];if(0!==o.matchedIndices.length){var s={indices:o.matchedIndices,value:o.value};o.key&&(s.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(s.arrayIndex=o.arrayIndex),t.matches.push(s)}}})),this.options.includeScore&&r.push((function(e,t){t.score=e.score}));for(var o=0,s=e.length;o<s;o+=1){var a=e[o];if(this.options.id&&(a.item=this.options.getFn(a.item,this.options.id)[0]),r.length){for(var c={item:a.item},l=0,u=r.length;l<u;l+=1)r[l](a,c);t.push(c)}else t.push(a.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&r(t.prototype,n),e}();e.exports=c},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=n(3),o=n(4),s=n(7),a=function(){function e(t,n){var i=n.location,r=void 0===i?0:i,o=n.distance,a=void 0===o?100:o,c=n.threshold,l=void 0===c?.6:c,u=n.maxPatternLength,h=void 0===u?32:u,d=n.isCaseSensitive,p=void 0!==d&&d,f=n.tokenSeparator,m=void 0===f?/ +/g:f,g=n.findAllMatches,v=void 0!==g&&g,y=n.minMatchCharLength,b=void 0===y?1:y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:a,threshold:l,maxPatternLength:h,isCaseSensitive:p,tokenSeparator:m,findAllMatches:v,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=h&&(this.patternAlphabet=s(this.pattern))}var t,n;return t=e,(n=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,i=t.tokenSeparator;if(this.pattern.length>n)return r(e,this.pattern,i);var s=this.options,a=s.location,c=s.distance,l=s.threshold,u=s.findAllMatches,h=s.minMatchCharLength;return o(e,this.pattern,this.patternAlphabet,{location:a,distance:c,threshold:l,findAllMatches:u,minMatchCharLength:h})}}])&&i(t.prototype,n),e}();e.exports=a},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,r=new RegExp(t.replace(n,"\\$&").replace(i,"|")),o=e.match(r),s=!!o,a=[];if(s)for(var c=0,l=o.length;c<l;c+=1){var u=o[c];a.push([e.indexOf(u),u.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:a}}},function(e,t,n){var i=n(5),r=n(6);e.exports=function(e,t,n,o){for(var s=o.location,a=void 0===s?0:s,c=o.distance,l=void 0===c?100:c,u=o.threshold,h=void 0===u?.6:u,d=o.findAllMatches,p=void 0!==d&&d,f=o.minMatchCharLength,m=void 0===f?1:f,g=a,v=e.length,y=h,b=e.indexOf(t,g),_=t.length,E=[],w=0;w<v;w+=1)E[w]=0;if(-1!==b){var C=i(t,{errors:0,currentLocation:b,expectedLocation:g,distance:l});if(y=Math.min(C,y),-1!==(b=e.lastIndexOf(t,g+_))){var O=i(t,{errors:0,currentLocation:b,expectedLocation:g,distance:l});y=Math.min(O,y)}}b=-1;for(var T=[],S=1,I=_+v,x=1<<(_<=31?_-1:30),L=0;L<_;L+=1){for(var P=0,A=I;P<A;)i(t,{errors:L,currentLocation:g+A,expectedLocation:g,distance:l})<=y?P=A:I=A,A=Math.floor((I-P)/2+P);I=A;var M=Math.max(1,g-A+1),k=p?v:Math.min(g+A,v)+_,D=Array(k+2);D[k+1]=(1<<L)-1;for(var j=k;j>=M;j-=1){var N=j-1,F=n[e.charAt(N)];if(F&&(E[N]=1),D[j]=(D[j+1]<<1|1)&F,0!==L&&(D[j]|=(T[j+1]|T[j])<<1|1|T[j+1]),D[j]&x&&(S=i(t,{errors:L,currentLocation:N,expectedLocation:g,distance:l}))<=y){if(y=S,(b=N)<=g)break;M=Math.max(1,2*g-b)}}if(i(t,{errors:L+1,currentLocation:g,expectedLocation:g,distance:l})>y)break;T=D}return{isMatch:b>=0,score:0===S?.001:S,matchedIndices:r(E,m)}}},function(e,t){e.exports=function(e,t){var n=t.errors,i=void 0===n?0:n,r=t.currentLocation,o=void 0===r?0:r,s=t.expectedLocation,a=void 0===s?0:s,c=t.distance,l=void 0===c?100:c,u=i/e.length,h=Math.abs(a-o);return l?u+h/l:h?1:u}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],i=-1,r=-1,o=0,s=e.length;o<s;o+=1){var a=e[o];a&&-1===i?i=o:a||-1===i||((r=o-1)-i+1>=t&&n.push([i,r]),i=-1)}return e[o-1]&&o-i>=t&&n.push([i,o-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,i=0;i<n;i+=1)t[e.charAt(i)]=0;for(var r=0;r<n;r+=1)t[e.charAt(r)]|=1<<n-r-1;return t}},function(e,t,n){var i=n(0);e.exports=function(e,t){return function e(t,n,r){if(n){var o=n.indexOf("."),s=n,a=null;-1!==o&&(s=n.slice(0,o),a=n.slice(o+1));var c=t[s];if(null!=c)if(a||"string"!=typeof c&&"number"!=typeof c)if(i(c))for(var l=0,u=c.length;l<u;l+=1)e(c[l],a,r);else a&&e(c,a,r);else r.push(c.toString())}else r.push(t);return r}(e,t,[])}}])},857:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return l},applyMiddleware:function(){return g},bindActionCreators:function(){return f},combineReducers:function(){return d},compose:function(){return m},createStore:function(){return h}});var a="function"==typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(s(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(s(1));return n(h)(e,t)}if("function"!=typeof e)throw new Error(s(2));var r=e,o=t,c=[],d=c,p=!1;function f(){d===c&&(d=c.slice())}function m(){if(p)throw new Error(s(3));return o}function g(e){if("function"!=typeof e)throw new Error(s(4));if(p)throw new Error(s(5));var t=!0;return f(),d.push(e),function(){if(t){if(p)throw new Error(s(6));t=!1,f();var n=d.indexOf(e);d.splice(n,1),c=null}}}function v(e){if(!u(e))throw new Error(s(7));if(void 0===e.type)throw new Error(s(8));if(p)throw new Error(s(9));try{p=!0,o=r(o,e)}finally{p=!1}for(var t=c=d,n=0;n<t.length;n++)(0,t[n])();return e}function y(e){if("function"!=typeof e)throw new Error(s(10));r=e,v({type:l.REPLACE})}function b(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(s(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return v({type:l.INIT}),(i={dispatch:v,subscribe:g,getState:m,replaceReducer:y})[a]=b,i}function d(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error(s(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var i=!1,r={},c=0;c<a.length;c++){var l=a[c],u=n[l],h=e[l],d=u(h,t);if(void 0===d)throw t&&t.type,new Error(s(14));r[l]=d,i=i||d!==h}return(i=i||a.length!==Object.keys(e).length)?r:e}}function p(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return p(e,t);if("object"!=typeof e||null===e)throw new Error(s(16));var n={};for(var i in e){var r=e[i];"function"==typeof r&&(n[i]=p(r,t))}return n}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(s(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map((function(e){return e(r)}));return i=m.apply(void 0,a)(n.dispatch),o(o({},n),{},{dispatch:i})}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=n(373);return i=i.default}()},e.exports=i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=function(){function e(e){this._configPath="./data/config/settings.json",this._definitionsPath="./data/config/definitions.json",this.init(e)}return e.prototype.init=function(e){var t=this;i.get(this._configPath).then((function(n,r){t.config=r.settings,i.get(t._definitionsPath).then((function(n,i){t.definitions=i.definitions,e&&e()}))}))},e}();t.Config=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on "+t,n)},e.removeEventHandler=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},e}();t.Events=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.bindButton=function(e,t,n){var i=document.createElement("div"),r=document.createElement("button"),o=document.createElement("div");return r.style.backgroundColor="#FFF",r.style.border="none",r.style.borderRadius="2px",r.style.boxShadow="0 1px 4px rgba(0,0,0,0.3)",r.style.cursor="pointer",r.style.height=n.ctrlPosition===google.maps.ControlPosition.RIGHT_TOP?"40px":"28px",r.style.marginTop="10px",r.style.marginLeft="10px",r.style.marginRight="10px",r.style.outline="none",r.style.padding="0px",r.style.width=n.ctrlPosition===google.maps.ControlPosition.RIGHT_TOP?"40px":"28px",r.title=n.title,i.appendChild(r),o.id=n.ctrlChildId?n.ctrlChildId:"ctrl-child-"+Math.floor(1e3*Math.random()),o.className="ctrl-child",o.style.backgroundImage="url("+n.imagePath+")",o.style.backgroundPosition=n.defaultCtrlChildBgPos?n.defaultCtrlChildBgPos:"0 0",o.style.backgroundRepeat="no-repeat",o.style.backgroundSize=n.defaultCtrlChildBgSize?n.defaultCtrlChildBgSize:"100%",o.style.height=n.ctrlPosition===google.maps.ControlPosition.RIGHT_TOP?"30px":"18px",o.style.margin="5px",o.style.width=n.ctrlPosition===google.maps.ControlPosition.RIGHT_TOP?"30px":"18px",r.appendChild(o),r.addEventListener("click",t),e.controls[n.ctrlPosition].push(i),i},e}();t.GmapUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.build=function(e,t){var n=document.querySelector(t||'[data-role="permalink"]'),i=location.href.replace(/#.*$/,""),r="";for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];s&&(r+=(r?"&":"#")+o+"="+s)}n.value=i+r},e}();t.Permalink=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.normalizeString=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()},e.containsString=function(t,n){return e.normalizeString(t).includes(n)},e.arrayContainsString=function(t,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];if(e.containsString(t,o))return!0}return!1},e.replaceAcronyms=function(e,t){var n=Object.keys(t).map((function(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")})).join("|");return e.replace(new RegExp("("+n+")\\b","g"),(function(e){return'<abbr data-tippy-content="'+t[e]+'">'+e+"</abbr>"}))},e}();t.StringUtilsHelper=i},function(e,t,n){"use strict";n.r(t);var i={centimeters:637100880,centimetres:637100880,degrees:6371008.8/111325,feet:20902260.511392,inches:6371008.8*39.37,kilometers:6371.0088,kilometres:6371.0088,meters:6371008.8,metres:6371008.8,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:6371008.8/1852,radians:1,yards:6371008.8*1.0936};function r(e,t,n){void 0===n&&(n={});var i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=t||{},i.geometry=e,i}function o(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!u(e[0])||!u(e[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n)}function s(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function a(e,t){void 0===t&&(t="kilometers");var n=i[t];if(!n)throw new Error(t+" units is invalid");return e*n}function c(e,t){void 0===t&&(t="kilometers");var n=i[t];if(!n)throw new Error(t+" units is invalid");return e/n}function l(e){return e%360*Math.PI/180}function u(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function h(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=function e(t){var n={};if(!t)return n;return Object.keys(t).forEach((function(i){var r=t[i];"object"==typeof r?null===r?n[i]=null:Array.isArray(r)?n[i]=r.map((function(e){return e})):n[i]=e(r):n[i]=r})),n}(e.properties),t.geometry=d(e.geometry),t}function d(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return d(e)})),t):(t.coordinates=function e(t){var n=t;if("object"!=typeof n[0])return n.slice();return n.map((function(t){return e(t)}))}(e.coordinates),t)}var p=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return h(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return h(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return d(e);default:throw new Error("unknown GeoJSON type")}};function f(e,t,n){if(null!==e)for(var i,r,o,s,a,c,l,u,h=0,d=0,p=e.type,m="FeatureCollection"===p,g="Feature"===p,v=m?e.features.length:1,y=0;y<v;y++){a=(u=!!(l=m?e.features[y].geometry:g?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var b=0;b<a;b++){var _=0,E=0;if(null!==(s=u?l.geometries[b]:l)){c=s.coordinates;var w=s.type;switch(h=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(c,d,y,_,E))return!1;d++,_++;break;case"LineString":case"MultiPoint":for(i=0;i<c.length;i++){if(!1===t(c[i],d,y,_,E))return!1;d++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(i=0;i<c.length;i++){for(r=0;r<c[i].length-h;r++){if(!1===t(c[i][r],d,y,_,E))return!1;d++}"MultiLineString"===w&&_++,"Polygon"===w&&E++}"Polygon"===w&&_++;break;case"MultiPolygon":for(i=0;i<c.length;i++){for(E=0,r=0;r<c[i].length;r++){for(o=0;o<c[i][r].length-h;o++){if(!1===t(c[i][r][o],d,y,_,E))return!1;d++}E++}_++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===f(s.geometries[i],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function m(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function g(e){var t=[];return f(e,(function(e){t.push(e)})),t}var v=n(7),y=n.n(v);var b=function(e,t){void 0===t&&(t={});var n=e.features.length;t.numberOfClusters=t.numberOfClusters||Math.round(Math.sqrt(n/2)),t.numberOfClusters>n&&(t.numberOfClusters=n),!0!==t.mutate&&(e=p(e));var i=g(e),r=i.slice(0,t.numberOfClusters),o=y()(i,t.numberOfClusters,r),s={};return o.centroids.forEach((function(e,t){s[t]=e})),m(e,(function(e,t){var n=o.idxs[t];e.properties.cluster=n,e.properties.centroid=s[n]})),e};function _(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}var E=function(e,t,n){void 0===n&&(n={});var i=_(e),r=_(t),o=l(r[1]-i[1]),s=l(r[0]-i[0]),c=l(i[1]),u=l(r[1]),h=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(c)*Math.cos(u);return a(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),n.units)},w=n(8),C=n.n(w);var O=function(e,t,n){void 0===n&&(n={}),!0!==n.mutate&&(e=p(e)),n.minPoints=n.minPoints||3;var i=new C.a.DBSCAN,r=i.run(g(e),function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return a(c(e,t),n)}(t,n.units),n.minPoints,E),o=-1;return r.forEach((function(t){o++,t.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster=o,n.properties.dbscan="core"}))})),i.noise.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),e};function T(e,t,n,i,r,o){if(r-i<=n)return;const s=i+r>>1;!function e(t,n,i,r,o,s){for(;o>r;){if(o-r>600){const a=o-r+1,c=i-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(a-u)/a)*(c-a/2<0?-1:1),d=Math.max(r,Math.floor(i-c*u/a+h)),p=Math.min(o,Math.floor(i+(a-c)*u/a+h));e(t,n,i,d,p,s)}const a=n[2*i+s];let c=r,l=o;for(S(t,n,r,i),n[2*o+s]>a&&S(t,n,r,o);c<l;){for(S(t,n,c,l),c++,l--;n[2*c+s]<a;)c++;for(;n[2*l+s]>a;)l--}n[2*r+s]===a?S(t,n,r,l):(l++,S(t,n,l,o)),l<=i&&(r=l+1),i<=l&&(o=l-1)}}(e,t,s,i,r,o%2),T(e,t,n,i,s-1,o+1),T(e,t,n,s+1,r,o+1)}function S(e,t,n,i){I(e,n,i),I(t,2*n,2*i),I(t,2*n+1,2*i+1)}function I(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function x(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}const L=e=>e[0],P=e=>e[1];class A{constructor(e,t=L,n=P,i=64,r=Float64Array){this.nodeSize=i,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,s=this.ids=new o(e.length),a=this.coords=new r(2*e.length);for(let i=0;i<e.length;i++)s[i]=i,a[2*i]=t(e[i]),a[2*i+1]=n(e[i]);T(s,a,i,0,s.length-1,0)}range(e,t,n,i){return function(e,t,n,i,r,o,s){const a=[0,e.length-1,0],c=[];let l,u;for(;a.length;){const h=a.pop(),d=a.pop(),p=a.pop();if(d-p<=s){for(let s=p;s<=d;s++)l=t[2*s],u=t[2*s+1],l>=n&&l<=r&&u>=i&&u<=o&&c.push(e[s]);continue}const f=Math.floor((p+d)/2);l=t[2*f],u=t[2*f+1],l>=n&&l<=r&&u>=i&&u<=o&&c.push(e[f]);const m=(h+1)%2;(0===h?n<=l:i<=u)&&(a.push(p),a.push(f-1),a.push(m)),(0===h?r>=l:o>=u)&&(a.push(f+1),a.push(d),a.push(m))}return c}(this.ids,this.coords,e,t,n,i,this.nodeSize)}within(e,t,n){return function(e,t,n,i,r,o){const s=[0,e.length-1,0],a=[],c=r*r;for(;s.length;){const l=s.pop(),u=s.pop(),h=s.pop();if(u-h<=o){for(let r=h;r<=u;r++)x(t[2*r],t[2*r+1],n,i)<=c&&a.push(e[r]);continue}const d=Math.floor((h+u)/2),p=t[2*d],f=t[2*d+1];x(p,f,n,i)<=c&&a.push(e[d]);const m=(l+1)%2;(0===l?n-r<=p:i-r<=f)&&(s.push(h),s.push(d-1),s.push(m)),(0===l?n+r>=p:i+r>=f)&&(s.push(d+1),s.push(u),s.push(m))}return a}(this.ids,this.coords,e,t,n,this.nodeSize)}}const M={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},k=Math.fround||(D=new Float32Array(1),e=>(D[0]=+e,D[0]));var D;class j{constructor(e){this.options=q(Object.create(M),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:n,maxZoom:i,nodeSize:r}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let s=[];for(let t=0;t<e.length;t++)e[t].geometry&&s.push(F(e[t],t));this.trees[i+1]=new A(s,K,G,r,Float32Array),t&&console.timeEnd(o);for(let e=i;e>=n;e--){const n=+Date.now();s=this._cluster(s,e),this.trees[e]=new A(s,K,G,r,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,s.length,+Date.now()-n)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){const e=this.getClusters([n,i,180,o],t),s=this.getClusters([-180,i,r,o],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],a=s.range(R(n),U(o),R(r),U(i)),c=[];for(const e of a){const t=s.points[e];c.push(t.numPoints?B(t):this.points[t.index])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);const o=r.points[t];if(!o)throw new Error(i);const s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=r.within(o.x,o.y,s),c=[];for(const t of a){const n=r.points[t];n.parentId===e&&c.push(n.numPoints?B(n):this.points[n.index])}if(0===c.length)throw new Error(i);return c}getLeaves(e,t,n){t=t||10,n=n||0;const i=[];return this._appendLeaves(i,e,t,n,0),i}getTile(e,t,n){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:o,radius:s}=this.options,a=s/o,c=(n-a)/r,l=(n+1+a)/r,u={features:[]};return this._addTileFeatures(i.range((t-a)/r,c,(t+1+a)/r,l),i.points,t,n,r,u),0===t&&this._addTileFeatures(i.range(1-a/r,c,1,l),i.points,r,n,r,u),t===r-1&&this._addTileFeatures(i.range(0,c,a/r,l),i.points,-1,n,r,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,r){const o=this.getChildren(t);for(const t of o){const o=t.properties;if(o&&o.cluster?r+o.point_count<=i?r+=o.point_count:r=this._appendLeaves(e,o.cluster_id,n,i,r):r<i?r++:e.push(t),e.length===n)break}return r}_addTileFeatures(e,t,n,i,r,o){for(const s of e){const e=t[s],a=e.numPoints;let c,l,u;if(a)c=H(e),l=e.x,u=e.y;else{const t=this.points[e.index];c=t.properties,l=R(t.geometry.coordinates[0]),u=U(t.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(l*r-n)),Math.round(this.options.extent*(u*r-i))]],tags:c};let d;a?d=e.id:this.options.generateId?d=e.index:this.points[e.index].id&&(d=this.points[e.index].id),void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,t){const n=[],{radius:i,extent:r,reduce:o,minPoints:s}=this.options,a=i/(r*Math.pow(2,t));for(let i=0;i<e.length;i++){const r=e[i];if(r.zoom<=t)continue;r.zoom=t;const c=this.trees[t+1],l=c.within(r.x,r.y,a),u=r.numPoints||1;let h=u;for(const e of l){const n=c.points[e];n.zoom>t&&(h+=n.numPoints||1)}if(h>u&&h>=s){let e=r.x*u,s=r.y*u,a=o&&u>1?this._map(r,!0):null;const d=(i<<5)+(t+1)+this.points.length;for(const n of l){const i=c.points[n];if(i.zoom<=t)continue;i.zoom=t;const l=i.numPoints||1;e+=i.x*l,s+=i.y*l,i.parentId=d,o&&(a||(a=this._map(r,!0)),o(a,this._map(i)))}r.parentId=d,n.push(N(e/h,s/h,d,h,a))}else if(n.push(r),h>1)for(const e of l){const i=c.points[e];i.zoom<=t||(i.zoom=t,n.push(i))}}return n}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?q({},e.properties):e.properties;const n=this.points[e.index].properties,i=this.options.map(n);return t&&i===n?q({},i):i}}function N(e,t,n,i,r){return{x:k(e),y:k(t),zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function F(e,t){const[n,i]=e.geometry.coordinates;return{x:k(R(n)),y:k(U(i)),zoom:1/0,index:t,parentId:-1}}function B(e){return{type:"Feature",id:e.id,properties:H(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),V(e.y)]}};var t}function H(e){const t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return q(q({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function R(e){return e/360+.5}function U(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function V(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function q(e,t){for(const n in t)e[n]=t[n];return e}function K(e){return e.x}function G(e){return e.y}var z=n(2),Y=n.n(z);function W(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}n.d(t,"AbstractAlgorithm",(function(){return ne})),n.d(t,"AbstractViewportAlgorithm",(function(){return ie})),n.d(t,"Cluster",(function(){return Z})),n.d(t,"ClusterStats",(function(){return he})),n.d(t,"DBScanAlgorithm",(function(){return le})),n.d(t,"DefaultRenderer",(function(){return de})),n.d(t,"GridAlgorithm",(function(){return oe})),n.d(t,"KmeansAlgorithm",(function(){return ae})),n.d(t,"MarkerClusterer",(function(){return ge})),n.d(t,"MarkerClustererEvents",(function(){return fe})),n.d(t,"NoopAlgorithm",(function(){return se})),n.d(t,"SuperClusterAlgorithm",(function(){return ue})),n.d(t,"defaultOnClusterClickHandler",(function(){return me})),n.d(t,"distanceBetweenPoints",(function(){return J})),n.d(t,"extendBoundsToPaddedViewport",(function(){return $})),n.d(t,"extendPixelBounds",(function(){return ee})),n.d(t,"filterMarkersToPaddedViewport",(function(){return X})),n.d(t,"noop",(function(){return re})),n.d(t,"pixelBoundsToLatLngBounds",(function(){return te}));class Z{constructor({markers:e,position:t}){this.markers=e,t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(0!==this.markers.length||this._position)return this.markers.reduce((e,t)=>e.extend(t.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}const X=(e,t,n,i)=>{const r=$(e.getBounds(),t,i);return n.filter(e=>r.contains(e.getPosition()))},$=(e,t,n)=>{const{northEast:i,southWest:r}=Q(e,t),o=ee({northEast:i,southWest:r},n);return te(o,t)},J=(e,t)=>{const n=(t.lat-e.lat)*Math.PI/180,i=(t.lng-e.lng)*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},Q=(e,t)=>({northEast:t.fromLatLngToDivPixel(e.getNorthEast()),southWest:t.fromLatLngToDivPixel(e.getSouthWest())}),ee=({northEast:e,southWest:t},n)=>(e.x+=n,e.y-=n,t.x-=n,t.y+=n,{northEast:e,southWest:t}),te=({northEast:e,southWest:t},n)=>{const i=new google.maps.LatLngBounds;return i.extend(n.fromDivPixelToLatLng(e)),i.extend(n.fromDivPixelToLatLng(t)),i};class ne{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return re(e)}}class ie extends ne{constructor(e){var{viewportPadding:t=60}=e;super(W(e,["viewportPadding"])),this.viewportPadding=60,this.viewportPadding=t}calculate({markers:e,map:t,mapCanvasProjection:n}){return t.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e,map:t,mapCanvasProjection:n}),changed:!1}:{clusters:this.cluster({markers:X(t,n,e,this.viewportPadding),map:t,mapCanvasProjection:n})}}}const re=e=>e.map(e=>new Z({position:e.getPosition(),markers:[e]}));class oe extends ie{constructor(e){var{maxDistance:t=4e4,gridSize:n=40}=e;super(W(e,["maxDistance","gridSize"])),this.clusters=[],this.maxDistance=t,this.gridSize=n}cluster({markers:e,map:t,mapCanvasProjection:n}){return this.clusters=[],e.forEach(e=>{this.addToClosestCluster(e,t,n)}),this.clusters}addToClosestCluster(e,t,n){let i=this.maxDistance,r=null;for(let t=0;t<this.clusters.length;t++){const n=this.clusters[t],o=J(n.bounds.getCenter().toJSON(),e.getPosition().toJSON());o<i&&(i=o,r=n)}if(r&&$(r.bounds,n,this.gridSize).contains(e.getPosition()))r.push(e);else{const t=new Z({markers:[e]});this.clusters.push(t)}}}class se extends ne{constructor(e){super(W(e,[]))}calculate({markers:e,map:t,mapCanvasProjection:n}){return{clusters:this.cluster({markers:e,map:t,mapCanvasProjection:n}),changed:!1}}cluster(e){return this.noop(e)}}class ae extends ie{constructor(e){var{numberOfClusters:t}=e;super(W(e,["numberOfClusters"])),this.numberOfClusters=t}cluster({markers:e,map:t}){const n=[];if(0===e.length)return n;const i=s(e.map(e=>o([e.getPosition().lng(),e.getPosition().lat()])));let r;return r=this.numberOfClusters instanceof Function?this.numberOfClusters(e.length,t.getZoom()):this.numberOfClusters,b(i,{numberOfClusters:r}).features.forEach((t,i)=>{n[t.properties.cluster]||(n[t.properties.cluster]=new Z({position:{lng:t.properties.centroid[0],lat:t.properties.centroid[1]},markers:[]})),n[t.properties.cluster].push(e[i])}),n}}const ce={units:"kilometers",mutate:!1,minPoints:1};class le extends ie{constructor(e){var{maxDistance:t=200,minPoints:n=ce.minPoints}=e;super(W(e,["maxDistance","minPoints"])),this.maxDistance=t,this.options=Object.assign(Object.assign({},ce),{minPoints:n})}cluster({markers:e,mapCanvasProjection:t}){const n=s(e.map(e=>{const n=t.fromLatLngToContainerPixel(e.getPosition());return o([n.x,n.y])})),i=[];return O(n,this.maxDistance,this.options).features.forEach((t,n)=>{i[t.properties.cluster]||(i[t.properties.cluster]=[]),i[t.properties.cluster].push(e[n])}),i.map(e=>new Z({markers:e}))}}class ue extends ne{constructor(e){var{maxZoom:t,radius:n=60}=e,i=W(e,["maxZoom","radius"]);super({maxZoom:t}),this.superCluster=new j(Object.assign({maxZoom:this.maxZoom,radius:n},i)),this.state={zoom:null}}calculate(e){let t=!1;if(!Y()(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map(e=>({type:"Feature",geometry:{type:"Point",coordinates:[e.getPosition().lng(),e.getPosition().lat()]},properties:{marker:e}}));this.superCluster.load(n)}const n={zoom:e.map.getZoom()};return t||this.state.zoom>this.maxZoom&&n.zoom>this.maxZoom||(t=t||!Y()(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,t]},properties:n}){if(n.cluster)return new Z({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(e=>e.properties.marker),position:new google.maps.LatLng({lat:t,lng:e})});{const e=n.marker;return new Z({markers:[e],position:e.getPosition()})}}}class he{constructor(e,t){this.markers={sum:e.length};const n=t.map(e=>e.count),i=n.reduce((e,t)=>e+t,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class de{render({count:e,position:t},n){const i=e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",r=window.btoa(`\n  <svg fill="${i}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>`);return new google.maps.Marker({position:t,icon:{url:"data:image/svg+xml;base64,"+r,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}class pe{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(pe,google.maps.OverlayView)}}var fe;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(fe||(fe={}));const me=(e,t,n)=>{n.fitBounds(t.bounds)};class ge extends pe{constructor({map:e,markers:t=[],algorithm:n=new ue({}),renderer:i=new de,onClusterClick:r=me}){super(),this.markers=[...t],this.clusters=[],this.algorithm=n,this.renderer=i,this.onClusterClick=r,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(e=>{this.addMarker(e,!0)}),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(e.setMap(null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach(e=>{n=this.removeMarker(e,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,fe.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(n||null==n)&&(this.reset(),this.clusters=t,this.renderClusters()),google.maps.event.trigger(this,fe.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new he(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e),this.onClusterClick&&n.marker.addListener("click",e=>{google.maps.event.trigger(this,fe.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)})),n.marker.setMap(t)})}}},function(e,t,n){"use strict";n.r(t);var i=n(1);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function o(e,t){e.innerHTML=t}function s(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function a(e,t){return{}.hasOwnProperty.call(e,t)}function c(e){return d(e)?[e]:function(e){return h(e,"NodeList")}(e)?w(e):Array.isArray(e)?e:w(document.querySelectorAll(e))}function l(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function u(e,t){return e&&e.modifiers&&e.modifiers[t]}function h(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function d(e){return h(e,"Element")}function p(e){return h(e,"MouseEvent")}function f(e,t){return"function"==typeof e?e.apply(void 0,t):e}function m(e,t,n,i){e.filter((function(e){return e.name===t}))[0][n]=i}function g(){return document.createElement("div")}function v(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function y(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function b(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function _(e,t,n){e&&e!==t&&e.apply(void 0,n)}function E(e,t){var n=r({},e);return t.forEach((function(e){delete n[e]})),n}function w(e){return[].slice.call(e)}function C(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}function O(e,t){return e.indexOf(t)>-1}function T(e){return e.split(/\s+/).filter(Boolean)}function S(e,t){return void 0!==e?e:t}function I(e){return[].concat(e)}function x(e){var t=I(e)[0];return t&&t.ownerDocument||document}function L(e,t){-1===e.indexOf(t)&&e.push(t)}function P(e){return"number"==typeof e?e:parseFloat(e)}function A(e,t,n){void 0===t&&(t=5);var i={top:0,right:0,bottom:0,left:0};return Object.keys(i).reduce((function(i,r){return i[r]="number"==typeof t?t:t[r],e===r&&(i[r]="number"==typeof t?t+n:t[e]+n),i}),i)}var M={allowHTML:!0,animateFill:!1,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inlinePositioning:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,sticky:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},k=Object.keys(M),D=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],j=function(e){Object.keys(e).forEach((function(t){M[t]=e[t]}))};function N(e){return r({},e,{},e.plugins.reduce((function(t,n){var i=n.name,r=n.defaultValue;return i&&(t[i]=void 0!==e[i]?e[i]:r),t}),{}))}function F(e,t){var n=r({},t,{content:f(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(N(r({},M,{plugins:t}))):k).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t}),{})}(e,t.plugins));return n.interactive&&(n.aria=null),n}var B={passive:!0},H={isTouch:!1},R=0;function U(){H.isTouch||(H.isTouch=!0,window.performance&&document.addEventListener("mousemove",V))}function V(){var e=performance.now();e-R<20&&(H.isTouch=!1,document.removeEventListener("mousemove",V)),R=e}function q(){var e=document.activeElement;if(s(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var K="undefined"!=typeof window&&"undefined"!=typeof document,G=K?navigator.userAgent:"",z=/MSIE |Trident\//.test(G),Y=/UCBrowser\//.test(G),W=K&&/iPhone|iPad|iPod/.test(navigator.platform);function Z(e){var t=e&&W&&H.isTouch;document.body.classList[t?"add":"remove"]("tippy-iOS")}function X(e){return e.split("-")[0]}function $(e){e.setAttribute("data-inertia","")}function J(e){e.setAttribute("data-interactive","")}function Q(e,t){if(d(t.content))o(e,""),e.appendChild(t.content);else if("function"!=typeof t.content){e[t.allowHTML?"innerHTML":"textContent"]=t.content}}function ee(e){return{tooltip:e.querySelector(".tippy-tooltip"),content:e.querySelector(".tippy-content"),arrow:e.querySelector(".tippy-arrow")||e.querySelector(".tippy-svg-arrow")}}function te(e){var t=g();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",d(e)?t.appendChild(e):o(t,e)),t}function ne(e,t,n){var i,r=ee(e),o=r.tooltip,s=r.content,a=r.arrow;e.style.zIndex=""+n.zIndex,o.setAttribute("data-animation",n.animation),o.style.maxWidth="number"==typeof(i=n.maxWidth)?i+"px":i,n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),t.content!==n.content&&Q(s,n),!t.arrow&&n.arrow?(o.appendChild(te(n.arrow)),o.setAttribute("data-arrow","")):t.arrow&&!n.arrow?(o.removeChild(a),o.removeAttribute("data-arrow")):t.arrow!==n.arrow&&(o.removeChild(a),o.appendChild(te(n.arrow))),!t.interactive&&n.interactive?J(o):t.interactive&&!n.interactive&&function(e){e.removeAttribute("data-interactive")}(o),!t.inertia&&n.inertia?$(o):t.inertia&&!n.inertia&&function(e){e.removeAttribute("data-inertia")}(o),t.theme!==n.theme&&(re(o,"remove",t.theme),re(o,"add",n.theme))}function ie(e,t,n){var i=Y&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](i,n)}function re(e,t,n){T(n).forEach((function(n){e.classList[t](n+"-theme")}))}var oe=1,se=[],ae=[];function ce(e,t){var n,o,s,c=N(F(e,t));if(!c.multiple&&e._tippy)return null;var h,d,E,k,j,R=!1,U=!1,V=0,q=[],K=b(Ae,c.interactiveDebounce),G=x(c.triggerTarget||e),Y=oe++,W=function(e,t){var n=g();n.className="tippy-popper",n.style.position="absolute",n.style.top="0",n.style.left="0";var i=g();i.className="tippy-tooltip",i.id="tippy-"+e,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1"),re(i,"add",t.theme);var r=g();return r.className="tippy-content",r.setAttribute("data-state","hidden"),t.interactive&&J(i),t.arrow&&(i.setAttribute("data-arrow",""),i.appendChild(te(t.arrow))),t.inertia&&$(i),Q(r,t),i.appendChild(r),n.appendChild(i),ne(n,t,t),n}(Y,c),ce=ee(W),le=(j=c.plugins).filter((function(e,t){return j.indexOf(e)===t})),ue=ce.tooltip,he=ce.content,de=[ue,he],pe={id:Y,reference:e,popper:W,popperChildren:ce,popperInstance:null,props:c,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:le,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(s)},setProps:function(t){0;if(pe.state.isDestroyed)return;0;be("onBeforeUpdate",[pe,t]),Le();var n=pe.props,i=F(e,r({},pe.props,{},t,{ignoreAttributes:!0}));i.ignoreAttributes=S(t.ignoreAttributes,n.ignoreAttributes),pe.props=i,xe(),n.interactiveDebounce!==i.interactiveDebounce&&(we(),K=b(Ae,i.interactiveDebounce));ne(W,n,i),pe.popperChildren=ee(W),n.triggerTarget&&!i.triggerTarget?I(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded");Ee(),pe.popperInstance&&(D.some((function(e){return a(t,e)&&t[e]!==n[e]}))?(pe.popperInstance.destroy(),je(),pe.state.isVisible&&pe.popperInstance.enableEventListeners()):pe.popperInstance.update());be("onAfterUpdate",[pe,t])},setContent:function(e){pe.setProps({content:e})},show:function(e){void 0===e&&(e=l(pe.props.duration,0,M.duration));0;var t=pe.state.isVisible,n=pe.state.isDestroyed,i=!pe.state.isEnabled,r=H.isTouch&&!pe.props.touch;if(t||n||i||r)return;if(ve().hasAttribute("disabled"))return;pe.popperInstance||je();if(be("onShow",[pe],!1),!1===pe.props.onShow(pe))return;Oe(),W.style.visibility="visible",pe.state.isVisible=!0,pe.state.isMounted||v(de.concat(W),0);d=function(){pe.state.isVisible&&(v([W],pe.props.updateDuration),v(de,e),y(de,"visible"),_e(),Ee(),L(ae,pe),Z(!0),pe.state.isMounted=!0,be("onMount",[pe]),function(e,t){Se(e,t)}(e,(function(){pe.state.isShown=!0,be("onShown",[pe])})))},function(){V=0;var e,t=pe.props.appendTo,n=ve();e=pe.props.interactive&&t===M.appendTo||"parent"===t?n.parentNode:f(t,[n]);e.contains(W)||e.appendChild(W);0;m(pe.popperInstance.modifiers,"flip","enabled",pe.props.flip),pe.popperInstance.enableEventListeners(),pe.popperInstance.update()}()},hide:function(e){void 0===e&&(e=l(pe.props.duration,1,M.duration));0;var t=!pe.state.isVisible&&!R,n=pe.state.isDestroyed,i=!pe.state.isEnabled&&!R;if(t||n||i)return;if(be("onHide",[pe],!1),!1===pe.props.onHide(pe)&&!R)return;Te(),W.style.visibility="hidden",pe.state.isVisible=!1,pe.state.isShown=!1,v(de,e),y(de,"hidden"),_e(),Ee(),function(e,t){Se(e,(function(){!pe.state.isVisible&&W.parentNode&&W.parentNode.contains(W)&&t()}))}(e,(function(){pe.popperInstance.disableEventListeners(),pe.popperInstance.options.placement=pe.props.placement,W.parentNode.removeChild(W),0===(ae=ae.filter((function(e){return e!==pe}))).length&&Z(!1),pe.state.isMounted=!1,be("onHidden",[pe])}))},enable:function(){pe.state.isEnabled=!0},disable:function(){pe.hide(),pe.state.isEnabled=!1},destroy:function(){0;if(pe.state.isDestroyed)return;R=!0,pe.clearDelayTimeouts(),pe.hide(0),Le(),delete e._tippy,pe.popperInstance&&pe.popperInstance.destroy();R=!1,pe.state.isDestroyed=!0,be("onDestroy",[pe])}};e._tippy=pe,W._tippy=pe;var fe=le.map((function(e){return e.fn(pe)}));return xe(),Ee(),c.lazy||je(),be("onCreate",[pe]),c.showOnCreate&&Fe(),W.addEventListener("mouseenter",(function(){pe.props.interactive&&pe.state.isVisible&&pe.clearDelayTimeouts()})),W.addEventListener("mouseleave",(function(){pe.props.interactive&&O(pe.props.trigger,"mouseenter")&&G.addEventListener("mousemove",K)})),pe;function me(){var e=pe.props.touch;return Array.isArray(e)?e:[e,0]}function ge(){return"hold"===me()[0]}function ve(){return k||e}function ye(e){return pe.state.isMounted&&!pe.state.isVisible||H.isTouch||!h||"focus"===h.type?0:l(pe.props.delay,e?0:1,M.delay)}function be(e,t,n){var i;(void 0===n&&(n=!0),fe.forEach((function(n){a(n,e)&&n[e].apply(n,t)})),n)&&(i=pe.props)[e].apply(i,t)}function _e(){var t=pe.props.aria;if(t){var n="aria-"+t,i=ue.id;I(pe.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(pe.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var r=t&&t.replace(i,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}}))}}function Ee(){I(pe.props.triggerTarget||e).forEach((function(e){pe.props.interactive?e.setAttribute("aria-expanded",pe.state.isVisible&&e===ve()?"true":"false"):e.removeAttribute("aria-expanded")}))}function we(){G.body.removeEventListener("mouseleave",Be),G.removeEventListener("mousemove",K),se=se.filter((function(e){return e!==K}))}function Ce(e){if(!pe.props.interactive||!W.contains(e.target)){if(ve().contains(e.target)){if(H.isTouch)return;if(pe.state.isVisible&&O(pe.props.trigger,"click"))return}!0===pe.props.hideOnClick&&(pe.clearDelayTimeouts(),pe.hide(),U=!0,setTimeout((function(){U=!1})),pe.state.isMounted||Te())}}function Oe(){G.addEventListener("mousedown",Ce,!0)}function Te(){G.removeEventListener("mousedown",Ce,!0)}function Se(e,t){function n(e){e.target===ue&&(ie(ue,"remove",n),t())}if(0===e)return t();ie(ue,"remove",E),ie(ue,"add",n),E=n}function Ie(t,n,i){void 0===i&&(i=!1),I(pe.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,i),q.push({node:e,eventType:t,handler:n,options:i})}))}function xe(){ge()&&(Ie("touchstart",Pe,B),Ie("touchend",Me,B)),T(pe.props.trigger).forEach((function(e){if("manual"!==e)switch(Ie(e,Pe),e){case"mouseenter":Ie("mouseleave",Me);break;case"focus":Ie(z?"focusout":"blur",ke)}}))}function Le(){q.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,r=e.options;t.removeEventListener(n,i,r)})),q=[]}function Pe(e){if(pe.state.isEnabled&&!De(e)&&!U)if(h=e,k=e.currentTarget,Ee(),!pe.state.isVisible&&p(e)&&se.forEach((function(t){return t(e)})),"click"===e.type&&!1!==pe.props.hideOnClick&&pe.state.isVisible)Be(e);else{var t=me(),i=t[0],r=t[1];H.isTouch&&"hold"===i&&r?n=setTimeout((function(){Fe(e)}),r):Fe(e)}}function Ae(t){C(t.target,(function(t){return t===e||t===W}))||function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.tooltipRect,o=e.interactiveBorder,s=Math.min(t.top,r.top),a=Math.max(t.right,r.right),c=Math.max(t.bottom,r.bottom),l=Math.min(t.left,r.left);return s-i>o||i-c>o||l-n>o||n-a>o}))}(w(W.querySelectorAll(".tippy-popper")).concat(W).map((function(e){var t=e._tippy,n=t.popperChildren.tooltip,i=t.props.interactiveBorder;return{popperRect:e.getBoundingClientRect(),tooltipRect:n.getBoundingClientRect(),interactiveBorder:i}})),t)&&(we(),Be(t))}function Me(e){if(!De(e))return pe.props.interactive?(G.body.addEventListener("mouseleave",Be),G.addEventListener("mousemove",K),void L(se,K)):void Be(e)}function ke(e){e.target===ve()&&(pe.props.interactive&&e.relatedTarget&&W.contains(e.relatedTarget)||Be(e))}function De(e){var t="ontouchstart"in window,n=O(e.type,"touch"),i=ge();return t&&H.isTouch&&i&&!n||H.isTouch&&!i&&n}function je(){var t,n=pe.props.popperOptions,o=pe.popperChildren.arrow,s=u(n,"flip"),a=u(n,"preventOverflow");function c(e){var n=pe.state.currentPlacement;pe.state.currentPlacement=e.placement,pe.props.flip&&!pe.props.flipOnUpdate&&(e.flipped&&(pe.popperInstance.options.placement=e.placement),m(pe.popperInstance.modifiers,"flip","enabled",!1)),ue.setAttribute("data-placement",e.placement),!1!==e.attributes["x-out-of-boundaries"]?ue.setAttribute("data-out-of-boundaries",""):ue.removeAttribute("data-out-of-boundaries");var i=X(e.placement),r=O(["top","bottom"],i),o=O(["bottom","right"],i);ue.style.top="0",ue.style.left="0",ue.style[r?"top":"left"]=(o?1:-1)*t+"px",n&&n!==e.placement&&pe.popperInstance.update()}var l=r({eventsEnabled:!1,placement:pe.props.placement},n,{modifiers:r({},n&&n.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(e){t=function(e,t){var n="string"==typeof t&&O(t,"rem"),i=e.documentElement;return i&&n?parseFloat(getComputedStyle(i).fontSize||String(16))*P(t):P(t)}(G,pe.props.distance);var n=X(e.placement),i=A(n,a&&a.padding,t),r=A(n,s&&s.padding,t),o=pe.popperInstance.modifiers;return m(o,"preventOverflow","padding",i),m(o,"flip","padding",r),e}},preventOverflow:r({boundariesElement:pe.props.boundary},a),flip:r({enabled:pe.props.flip,behavior:pe.props.flipBehavior},s),arrow:r({element:o,enabled:!!o},u(n,"arrow")),offset:r({offset:pe.props.offset},u(n,"offset"))}),onCreate:function(e){c(e),_(n&&n.onCreate,l.onCreate,[e]),Ne()},onUpdate:function(e){c(e),_(n&&n.onUpdate,l.onUpdate,[e]),Ne()}});pe.popperInstance=new i.a(e,W,l)}function Ne(){0===V?(V++,pe.popperInstance.update()):d&&1===V&&(V++,W.offsetHeight,d())}function Fe(e){pe.clearDelayTimeouts(),pe.popperInstance||je(),e&&be("onTrigger",[pe,e]),Oe();var t=ye(!0);t?n=setTimeout((function(){pe.show()}),t):pe.show()}function Be(e){if(pe.clearDelayTimeouts(),be("onUntrigger",[pe,e]),pe.state.isVisible){var t=ye(!1);t?o=setTimeout((function(){pe.state.isVisible&&pe.hide()}),t):s=requestAnimationFrame((function(){pe.hide()}))}else Te()}}function le(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),n=M.plugins.concat(t.plugins||n),document.addEventListener("touchstart",U,r({},B,{capture:!0})),window.addEventListener("blur",q);var i=r({},M,{},t,{plugins:n}),o=c(e).reduce((function(e,t){var n=t&&ce(t,i);return n&&e.push(n),e}),[]);return d(e)?o[0]:o}le.version="5.1.1",le.defaultProps=M,le.setDefaultProps=j,le.currentInput=H;var ue=function(e){var t=void 0===e?{}:e,n=t.exclude,i=t.duration;ae.forEach((function(e){var t=!1;n&&(t=s(n)?e.reference===n:e.popper===n.popper),t||e.hide(i)}))};function he(e){var t=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i=[]),i=n.plugins||i,le(t,r({},n,{plugins:[].concat(e,i)}))};return t.version="5.1.1",t.defaultProps=M,t.setDefaultProps=j,t.currentInput=H,t}n.d(t,"animateFill",(function(){return me})),n.d(t,"createSingleton",(function(){return de})),n.d(t,"delegate",(function(){return fe})),n.d(t,"followCursor",(function(){return ge})),n.d(t,"inlinePositioning",(function(){return ve})),n.d(t,"sticky",(function(){return ye})),n.d(t,"createTippyWithPlugins",(function(){return he})),n.d(t,"default",(function(){return le})),n.d(t,"hideAll",(function(){return ue})),n.d(t,"roundArrow",(function(){return'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>'}));var de=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),n=t.plugins||n,e.forEach((function(e){e.disable()}));var i,o,s=r({},M,{},t).aria,a=!1,c=e.map((function(e){return e.reference})),l={fn:function(t){function n(e){if(i){var n="aria-"+i;e&&!t.props.interactive?o.setAttribute(n,t.popperChildren.tooltip.id):o.removeAttribute(n)}}return{onAfterUpdate:function(e,n){var i=n.aria;void 0!==i&&i!==s&&(a?(a=!0,t.setProps({aria:null}),a=!1):s=i)},onDestroy:function(){e.forEach((function(e){e.enable()}))},onMount:function(){n(!0)},onUntrigger:function(){n(!1)},onTrigger:function(r,a){var l=a.currentTarget,u=c.indexOf(l);o=l,i=s,t.state.isVisible&&n(!0),t.popperInstance.reference={referenceNode:l,clientHeight:0,clientWidth:0,getBoundingClientRect:function(){return l.getBoundingClientRect()}},t.setContent(e[u].props.content)}}}};return le(g(),r({},t,{plugins:[l].concat(n),aria:null,triggerTarget:c}))},pe={mouseover:"mouseenter",focusin:"focus",click:"click"};function fe(e,t,n){void 0===n&&(n=[]),n=t.plugins||n;var i=[],o=[],s=t.target,a=E(t,["target"]),c=r({},a,{plugins:n,trigger:"manual"}),l=r({},a,{plugins:n,showOnCreate:!0}),u=le(e,c);function h(e){if(e.target){var n=e.target.closest(s);if(n)if(O(n.getAttribute("data-tippy-trigger")||t.trigger||M.trigger,pe[e.type])){var i=le(n,l);i&&(o=o.concat(i))}}}function d(e,t,n,r){void 0===r&&(r=!1),e.addEventListener(t,n,r),i.push({node:e,eventType:t,handler:n,options:r})}return I(u).forEach((function(e){var t=e.destroy;e.destroy=function(e){void 0===e&&(e=!0),e&&o.forEach((function(e){e.destroy()})),o=[],i.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,r=e.options;t.removeEventListener(n,i,r)})),i=[],t()},function(e){var t=e.reference;d(t,"mouseover",h),d(t,"focusin",h),d(t,"click",h)}(e)})),u}var me={name:"animateFill",defaultValue:!1,fn:function(e){var t=e.popperChildren,n=t.tooltip,i=t.content,r=e.props.animateFill&&!Y?function(){var e=g();return e.className="tippy-backdrop",y([e],"hidden"),e}():null;function o(){e.popperChildren.backdrop=r}return{onCreate:function(){r&&(o(),n.insertBefore(r,n.firstElementChild),n.setAttribute("data-animatefill",""),n.style.overflow="hidden",e.setProps({animation:"shift-away",arrow:!1}))},onMount:function(){if(r){var e=n.style.transitionDuration,t=Number(e.replace("ms",""));i.style.transitionDelay=Math.round(t/10)+"ms",r.style.transitionDuration=e,y([r],"visible")}},onShow:function(){r&&(r.style.transitionDuration="0ms")},onHide:function(){r&&y([r],"hidden")},onAfterUpdate:function(){o()}}}};var ge={name:"followCursor",defaultValue:!1,fn:function(e){var t,n=e.reference,i=e.popper,r=x(e.props.triggerTarget||n),o=null,s=!1,a=e.props;function c(){return"manual"===e.props.trigger.trim()}function l(){var t=!!c()||null!==o&&!(0===o.clientX&&0===o.clientY);return e.props.followCursor&&t}function u(){return H.isTouch||"initial"===e.props.followCursor&&e.state.isVisible}function h(){e.popperInstance&&(e.popperInstance.reference=n)}function d(){if(l()||e.props.placement!==a.placement){var t=a.placement,n=t.split("-")[1];s=!0,e.setProps({placement:l()&&n?t.replace(n,"start"===n?"end":"start"):t}),s=!1}}function f(){e.popperInstance&&l()&&(u()||!0!==e.props.followCursor)&&e.popperInstance.disableEventListeners()}function m(){l()?r.addEventListener("mousemove",y):h()}function g(){l()&&y(t)}function v(){r.removeEventListener("mousemove",y)}function y(r){var o=t=r,s=o.clientX,a=o.clientY;if(e.popperInstance&&e.state.currentPlacement){var c=C(r.target,(function(e){return e===n})),l=n.getBoundingClientRect(),h=e.props.followCursor,d="horizontal"===h,p="vertical"===h,f=O(["top","bottom"],X(e.state.currentPlacement)),m=function(e,t){var n=t?e.offsetWidth:e.offsetHeight;return{size:n,x:t?n:0,y:t?0:n}}(i,f),g=m.size,y=m.x,b=m.y;!c&&e.props.interactive||(e.popperInstance.reference={referenceNode:n,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:f?g:0,height:f?0:g,top:(d?l.top:a)-b,bottom:(d?l.bottom:a)+b,left:(p?l.left:s)-y,right:(p?l.right:s)+y}}},e.popperInstance.update()),u()&&v()}}return{onAfterUpdate:function(e,t){var n;s||(n=t,Object.keys(n).forEach((function(e){a[e]=S(n[e],a[e])})),t.placement&&d()),t.placement&&f(),requestAnimationFrame(g)},onMount:function(){g(),f()},onShow:function(){c()&&(t=o={clientX:0,clientY:0},d(),m())},onTrigger:function(e,n){o||(p(n)&&(o={clientX:n.clientX,clientY:n.clientY},t=n),d(),m())},onUntrigger:function(){e.state.isVisible||(v(),o=null)},onHidden:function(){v(),h(),o=null}}}};var ve={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t=e.reference;function n(){return e.props.inlinePositioning}return{onHidden:function(){n()&&(e.popperInstance.reference=t)},onShow:function(){n()&&(e.popperInstance.reference={referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return function(e,t,n){if(n.length<2||null===e)return t;var i;switch(e){case"top":case"bottom":var r=n[0],o=n[n.length-1],s="top"===e,a=r.top,c=o.bottom,l=s?r.left:o.left,u=s?r.right:o.right;i={top:a,bottom:c,left:l,right:u,width:u-l,height:c-a};break;case"left":case"right":var h=Math.min.apply(Math,n.map((function(e){return e.left}))),d=Math.max.apply(Math,n.map((function(e){return e.right}))),p=n.filter((function(t){return"left"===e?t.left===h:t.right===d})),f=p[0].top,m=p[p.length-1].bottom;i={top:f,bottom:m,left:h,right:d,width:d-h,height:m-f};break;default:i=t}return i}(e.state.currentPlacement&&X(e.state.currentPlacement),t.getBoundingClientRect(),w(t.getClientRects()))}})}}}};var ye={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function i(t){return!0===e.props.sticky||e.props.sticky===t}var r=null,o=null;function s(){var a=i("reference")?t.getBoundingClientRect():null,c=i("popper")?n.getBoundingClientRect():null;(a&&be(r,a)||c&&be(o,c))&&e.popperInstance.update(),r=a,o=c,e.state.isMounted&&requestAnimationFrame(s)}return{onMount:function(){e.props.sticky&&s()}}}};function be(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}}]);